(function(){(this||window).webpackJsonp.registerAbsMids({"esri/views/2d/engine/vectorTiles/WorkerTileHandler":796,"esri/views/2d/engine/webgl/mesh/templates/util":822,"esri/views/2d/engine/webgl/Rect":830,"esri/views/2d/engine/webgl/GeometryUtils":841,"esri/views/2d/engine/webgl/TileClipper":842,"esri/views/2d/engine/webgl/Geometry":852,"esri/core/libs/earcut/earcut":854,"esri/views/2d/engine/webgl/TurboLine":855,"esri/core/pbf":900,"esri/core/BidiEngine":908,"esri/core/bidiEngineTables":909,"esri/views/2d/engine/vectorTiles/Bucket":1189,"esri/views/2d/engine/vectorTiles/BackgroundBucket":1370,"esri/views/2d/engine/vectorTiles/CircleBucket":1371,"esri/views/2d/engine/vectorTiles/FillBucket":1372,"esri/views/2d/engine/vectorTiles/MemoryBuffer":1373,"esri/views/2d/engine/vectorTiles/LineBucket":1374,"esri/views/2d/engine/vectorTiles/Placement":1375,"esri/views/2d/engine/vectorTiles/SymbolBucket":1376,"esri/views/2d/tiling/enums":1377,"esri/views/2d/engine/vectorTiles/WorkerTile":1652,"esri/views/2d/engine/vectorTiles/IndexMemoryBuffer":1653,"esri/views/2d/engine/vectorTiles/Conflict":1657,"esri/views/2d/engine/vectorTiles/TextShaping":1658,"esri/views/2d/engine/vectorTiles/TileParser":1659,"esri/views/2d/engine/vectorTiles/Feature":1660,"esri/views/2d/engine/vectorTiles/SourceLayerData":1661,"esri/views/2d/engine/vectorTiles/VertexMemoryBuffer":1662})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{1189:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){return function(){function e(e,t){this.layerExtent=4096,this._features=[],this.layer=e,this.zoom=t,this._filter=e.getFeatureFilter()}return e.prototype.pushFeature=function(e){this._filter.filter(e)&&this._features.push(e)},e.prototype.hasFeatures=function(){return this._features.length>0},e}()}.apply(null,i))||(e.exports=n)},1370:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(14),r(1189)],void 0===(n=function(e,t,r,i){return function(e){function t(t,r){return e.call(this,t,r)||this}return r(t,e),t.prototype.processFeatures=function(){},t.prototype.assignBufferInfo=function(){},t}(i)}.apply(null,i))||(e.exports=n)},1371:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(14),r(1189)],void 0===(n=function(e,t,r,i){return function(e){function t(t,r,i,n){var o=e.call(this,t,r)||this;return o._circleVertexBuffer=i,o._circleIndexBuffer=n,o}return r(t,e),Object.defineProperty(t.prototype,"circleIndexStart",{get:function(){return this._circleIndexStart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"circleIndexCount",{get:function(){return this._circleIndexCount},enumerable:!0,configurable:!0}),t.prototype.assignBufferInfo=function(e){var t=e;t._circleIndexStart=this._circleIndexStart,t._circleIndexCount=this._circleIndexCount},t.prototype.processFeatures=function(e){var t=this._circleVertexBuffer,r=this._circleIndexBuffer;this._circleIndexStart=r.index,this._circleIndexCount=0;var i=this.layer,n=this.zoom;e&&e.setExtent(this.layerExtent);for(var o=1,s=[1,1,1,1],a=1,u=0,l=1,h=[1,1,1,1],c=1,x=0,f=this._features;x<f.length;x++){var p=f[x],d=p.getGeometry(e);if(d){i.hasDataDrivenRadius&&(o=i.getPaintValue("circle-radius",n,p)),i.hasDataDrivenColor&&(s=i.getPaintValue("circle-color",n,p)),i.hasDataDrivenOpacity&&(a=i.getPaintValue("circle-opacity",n,p)),i.hasDataDrivenStrokeWidth&&(l=i.getPaintValue("circle-stroke-width",n,p)),i.hasDataDrivenStrokeColor&&(h=i.getPaintValue("circle-stroke-color",n,p)),i.hasDataDrivenStrokeOpacity&&(c=i.getPaintValue("circle-stroke-opacity",n,p)),i.hasDataDrivenBlur&&(u=i.getPaintValue("circle-blur",n,p));for(var y=0,v=d;y<v.length;y++){var _=v[y];if(_)for(var g=0,m=_;g<m.length;g++){var B=m[g],b=t.index;t.add(B.x,B.y,0,0,o,s,a,u,l,h,c),t.add(B.x,B.y,0,1,o,s,a,u,l,h,c),t.add(B.x,B.y,1,0,o,s,a,u,l,h,c),t.add(B.x,B.y,1,1,o,s,a,u,l,h,c),r.add(b+0,b+1,b+2),r.add(b+1,b+2,b+3),this._circleIndexCount+=6}}}}},t}(i)}.apply(null,i))||(e.exports=n)},1372:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(14),r(82),r(854),r(1189),r(852)],void 0===(n=function(e,t,r,i,n,o,s){return function(e){function t(t,r,i,n,o,s){var a=e.call(this,t,r)||this;if(t.hasDataDrivenFill!==i.isDataDriven())throw new Error("incompatible fill buffer");if(t.hasDataDrivenOutline!==o.isDataDriven())throw new Error("incompatible outline buffer");return a._fillVertexBuffer=i,a._fillIndexBuffer=n,a._outlineVertexBuffer=o,a._outlineIndexBuffer=s,a}return r(t,e),Object.defineProperty(t.prototype,"fillIndexStart",{get:function(){return this._fillIndexStart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillIndexCount",{get:function(){return this._fillIndexCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outlineIndexStart",{get:function(){return this._outlineIndexStart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outlineIndexCount",{get:function(){return this._outlineIndexCount},enumerable:!0,configurable:!0}),t.prototype.assignBufferInfo=function(e){var t=e;t._fillIndexStart=this._fillIndexStart,t._fillIndexCount=this._fillIndexCount,e.layer.getPaintProperty("fill-outline-color")?(t._outlineIndexStart=this._outlineIndexStart,t._outlineIndexCount=this._outlineIndexCount):(t._outlineIndexStart=0,t._outlineIndexCount=0)},t.prototype.processFeatures=function(e){this._fillIndexStart=this._fillIndexBuffer.index,this._fillIndexCount=0,this._outlineIndexStart=this._outlineIndexBuffer.index,this._outlineIndexCount=0;var t=this.layer,r=this.zoom,i=t.hasDataDrivenFill,n=t.hasDataDrivenOutline;e&&e.setExtent(this.layerExtent);var o=t.getPaintValue("fill-pattern",r),s=t.getPaintValue("fill-antialias",r)&&void 0===o,a=[1,1,1,1],u=[1,1,1,1],l=1;if(t.outlineUsesFillColor){if(s&&!t.hasDataDrivenOpacity){var h=t.getPaintValue("fill-opacity",r),c=t.getPaintValue("fill-opacity",r+1);h<1&&c<1&&(s=!1)}if(s&&!t.hasDataDrivenColor){var x=t.getPaintValue("fill-color",r),f=t.getPaintValue("fill-color",r+1);x[3]<1&&f[3]<1&&(s=!1)}}for(var p=0,d=this._features;p<d.length;p++){var y=d[p];!o&&t.hasDataDrivenColor&&(a=t.getPaintValue("fill-color",r,y)),t.hasDataDrivenOpacity&&(l=t.getPaintValue("fill-opacity",r,y)),!o&&t.hasDataDrivenOutlineColor&&(u=t.getPaintValue("fill-outline-color",r,y));var v=void 0;i&&(v={color:a,opacity:l});var _=void 0;n&&(_={color:t.outlineUsesFillColor?a:u,opacity:l});var g=y.getGeometry(e);this._processFeature(g,s,t.outlineUsesFillColor,v,_)}},t.prototype._processFeature=function(e,r,i,n,o){if(e){var s,a=e.length;if(r&&(!i||!o||o.color[3]*o.opacity==1))for(var u=0;u<a;u++)this._processOutline(e[u],o);for(u=0;u<a;u++){var l=t._area(e[u]);l>128?(void 0!==s&&this._processFill(e,s,n),s=[u]):l<-128&&void 0!==s&&s.push(u)}void 0!==s&&this._processFill(e,s,n)}},t.prototype._processOutline=function(e,t){var r,i,n,o=this._outlineVertexBuffer,a=this._outlineIndexBuffer,u=a.index,l=new s.Point(0,0),h=new s.Point(0,0),c=new s.Point(0,0),x=-1,f=-1,p=-1,d=-1,y=-1,v=!1,_=e.length;if(!(_<2)){for(var g=e[0],m=e[_-1];_&&m.isEqual(g);)m=e[--_-1];if(!(_-0<2)){for(var B=0;B<_;++B){0===B?(r=e[_-1],i=e[0],n=e[1],l.assignSub(i,r),l.normalize(),l.rightPerpendicular()):(r=i,i=n,n=B!==_-1?e[B+1]:e[0],l.assign(h));var b=this._isClipEdge(r,i);-1===d&&(v=b),h.assignSub(n,i),h.normalize(),h.rightPerpendicular();var V=l.x*h.y-l.y*h.x;c.assignAdd(l,h),c.normalize();var I=-c.x*-l.x+-c.y*-l.y,T=Math.abs(0!==I?1/I:1);T>8&&(T=8),V>=0?(p=o.add(i.x,i.y,l.x,l.y,0,1,t),-1===d&&(d=p),x>=0&&f>=0&&p>=0&&!b&&a.add(x,f,p),f=o.add(i.x,i.y,T*-c.x,T*-c.y,0,-1,t),-1===y&&(y=f),x>=0&&f>=0&&p>=0&&!b&&a.add(x,f,p),x=f,f=p,p=o.add(i.x,i.y,c.x,c.y,0,1,t),x>=0&&f>=0&&p>=0&&!b&&a.add(x,f,p),f=o.add(i.x,i.y,h.x,h.y,0,1,t),x>=0&&f>=0&&p>=0&&!b&&a.add(x,f,p)):(p=o.add(i.x,i.y,T*c.x,T*c.y,0,1,t),-1===d&&(d=p),x>=0&&f>=0&&p>=0&&!b&&a.add(x,f,p),f=o.add(i.x,i.y,-l.x,-l.y,0,-1,t),-1===y&&(y=f),x>=0&&f>=0&&p>=0&&!b&&a.add(x,f,p),x=f,f=p,p=o.add(i.x,i.y,-c.x,-c.y,0,-1,t),x>=0&&f>=0&&p>=0&&!b&&a.add(x,f,p),(x=o.add(i.x,i.y,-h.x,-h.y,0,-1,t))>=0&&f>=0&&p>=0&&!b&&a.add(x,f,p))}x>=0&&f>=0&&d>=0&&!v&&a.add(x,f,d),x>=0&&d>=0&&y>=0&&!v&&a.add(x,y,d),this._outlineIndexCount+=3*(a.index-u)}}},t.prototype._processFill=function(e,t,r){var o;t.length>1&&(o=[]);for(var s=0,a=0,u=t;a<u.length;a++){var l=u[a];0!==s&&o.push(s),s+=e[l].length}for(var h=2*s,c=i.acquire(),x=0,f=t;x<f.length;x++)for(var p=e[l=f[x]],d=p.length,y=0;y<d;++y)c.push(p[y].x),c.push(p[y].y);var v=n.earcut(c,o,2),_=v.length;if(_>0){for(var g=this._fillVertexBuffer.index,m=0;m<h;)this._fillVertexBuffer.add(c[m++],c[m++],r);for(var B=0;B<_;)this._fillIndexBuffer.add(g+v[B++],g+v[B++],g+v[B++]);this._fillIndexCount+=_}i.release(c)},t.prototype._isClipEdge=function(e,t){return e.x===t.x?e.x<=-64||e.x>=4160:e.y===t.y&&(e.y<=-64||e.y>=4160)},t._area=function(e){for(var t=0,r=e.length-1,i=0;i<r;i++)t+=(e[i].x-e[i+1].x)*(e[i].y+e[i+1].y);return.5*(t+(e[r].x-e[0].x)*(e[r].y+e[0].y))},t}(o)}.apply(null,i))||(e.exports=n)},1373:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){return function(){function e(e){this._array=[],e<=0&&console.error("strideInBytes must be positive!"),this._stride=e}return Object.defineProperty(e.prototype,"array",{get:function(){return this._array},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return 4*this._array.length/this._stride},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemSize",{get:function(){return this._stride},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sizeInBytes",{get:function(){return 4*this._array.length},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.array.length=0},e.prototype.toBuffer=function(){return new Uint32Array(this._array).buffer},e.i1616to32=function(e,t){return 65535&e|t<<16},e.i8888to32=function(e,t,r,i){return 255&e|(255&t)<<8|(255&r)<<16|i<<24},e.i8816to32=function(e,t,r){return 255&e|(255&t)<<8|r<<16},e}()}.apply(null,i))||(e.exports=n)},1374:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(14),r(13),r(237),r(1189),r(1274),r(855),r(822)],void 0===(n=function(e,t,r,i,n,o,s,a,u){var l=0,h=0,c=0;i("esri-tiles-performance")&&setInterval((function(){console.log("New (VTL)","feat="+c,"secs="+l,"tris="+h,"tris/sec="+Math.round(h/l))}),1e4);var x=function(e){function t(t,r,i,n){var o=e.call(this,t,r)||this;if(o._tessellationOptions={},o.tessellationProperties={_lineVertexBuffer:null,_lineIndexBuffer:null,_hasPattern:null,_ddValues:null,_capType:null,_joinType:null,_miterLimitCosine:null,_roundLimitCosine:null},t.hasDataDrivenLine!==i.isDataDriven())throw new Error("incompatible line buffer");return o.tessellationProperties._lineVertexBuffer=i,o.tessellationProperties._lineIndexBuffer=n,o.tessellationProperties._hasPattern=t.getPaintValue("line-pattern",o.zoom)||t.getPaintValue("line-dasharray",o.zoom).length>0,o._isThinLine=t.isThinLine,o._isThinLine?o._tessellationCallbacks={vertex:f(o.tessellationProperties),bridge:p(o.tessellationProperties)}:o._tessellationCallbacks={vertex:d(o.tessellationProperties),bridge:y(o.tessellationProperties)},o}return r(t,e),Object.defineProperty(t.prototype,"lineIndexStart",{get:function(){return this._lineIndexStart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineIndexCount",{get:function(){return this._lineIndexCount},enumerable:!0,configurable:!0}),t.prototype.assignBufferInfo=function(e){var t=e;t._lineIndexStart=this._lineIndexStart,t._lineIndexCount=this._lineIndexCount},t.prototype.processFeatures=function(e){this._lineIndexStart=this.tessellationProperties._lineIndexBuffer.index,this._lineIndexCount=0;var t=this.layer,r=this.zoom,i=t.hasDataDrivenLine;e&&e.setExtent(this.layerExtent);for(var n=[1,1,1,1],o=1,l=1,h=0,c=this._features;h<c.length;h++){var x=c[h],f=new s.LineLayout(t,r,x);!this.tessellationProperties._hasPattern&&t.hasDataDrivenColor&&(n=t.getPaintValue("line-color",r,x)),t.hasDataDrivenOpacity&&(o=t.getPaintValue("line-opacity",r,x)),t.hasDataDrivenWidth&&(l=t.getPaintValue("line-width",r,x));var p=void 0;if(!i||!((p={color:n,opacity:o,size:Math.max(Math.min(l,256),0)}).size<=0||p.opacity<=0||p.color[3]<=0)){this.tessellationProperties._capType=f.cap,this.tessellationProperties._joinType=f.join,this.tessellationProperties._miterLimitCosine=u.getLimitCosine(f.miterLimit),this.tessellationProperties._roundLimitCosine=u.getLimitCosine(f.roundLimit);var d=x.getGeometry(e);this._processFeature(d,p)}}a.cleanup()},t.prototype._processFeature=function(e,t){if(e)for(var r=e.length,i=0;i<r;i++)this._processGeometry(e[i],t)},t.prototype._processGeometry=function(e,t){var r;if(i("esri-tiles-performance")&&(r=performance.now()),!(e.length<2)){for(var n,o,s=e[0],u=1;u<e.length;)(n=e[u].x-s.x)*n+(o=e[u].y-s.y)*o<1e-6?e.splice(u,1):(s=e[u],++u);if(!(e.length<2)){var x=this.tessellationProperties._lineIndexBuffer.index;this._tessellationOptions.trackDistance=this.tessellationProperties._hasPattern,this._tessellationOptions.initialDistance=0,this._tessellationOptions.thin=this._isThinLine,this._tessellationOptions.wrapDistance=65535,this._tessellationOptions.outerBisectorAutoSplitThreshold=1/3.8,this._tessellationOptions.enableOuterBisectorSplit=this.tessellationProperties._hasPattern,this._tessellationOptions.innerBisectorAutoSplitThreshold=1/3.8,this._tessellationOptions.enableInnerBisectorSplit=this.tessellationProperties._hasPattern,this.tessellationProperties._ddValues=t,a.tessellate(e,this._tessellationOptions,this._tessellationCallbacks),this._lineIndexCount+=3*(this.tessellationProperties._lineIndexBuffer.index-x),i("esri-tiles-performance")&&(l+=(performance.now()-r)/1e3,h+=this.tessellationProperties._lineIndexBuffer.index-x,c++)}}},t}(o),f=function(e){return function(t){t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.prevNormal.x,t.prevNormal.y,0,-1,t.distance,e._ddValues),t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.prevNormal.x,-t.prevNormal.y,0,1,t.distance,e._ddValues),t.exit0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.nextNormal.x,t.nextNormal.y,0,-1,t.distance,e._ddValues),t.exit2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.nextNormal.x,-t.nextNormal.y,0,1,t.distance,e._ddValues)}},p=function(e){return function(t){e._lineIndexBuffer.add(t.leftExit0,t.rightEntry0,t.leftExit2),e._lineIndexBuffer.add(t.rightEntry0,t.rightEntry2,t.leftExit2)}},d=function(e){return function(t){var r,i=e._joinType===n.JoinType.MITER?e._miterLimitCosine:e._roundLimitCosine,o=t.isCap&&e._capType!==n.CapType.BUTT,s=!1;if(t.cosine>.97?(t.exit0=t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.bisector.x/t.cosine,t.bisector.y/t.cosine,0,-1,t.distance,e._ddValues),t.exit2=t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.bisector.x/t.cosine,-t.bisector.y/t.cosine,0,1,t.distance,e._ddValues)):t.cosine<1-.97?(t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.prevNormal.x,t.prevNormal.y,0,-1,t.distance,e._ddValues),t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.prevNormal.x,-t.prevNormal.y,0,1,t.distance,e._ddValues),t.exit0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.nextNormal.x,t.nextNormal.y,0,-1,t.distance,e._ddValues),t.exit2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.nextNormal.x,-t.nextNormal.y,0,1,t.distance,e._ddValues)):t.canSplit?(a.splitVertex(),t.sign>0?(t.splitInner?(t.exit0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.leftInner.x,t.leftInner.y,0,-1,t.distance,e._ddValues),t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.rightInner.x,t.rightInner.y,0,-1,t.distance,e._ddValues)):(t.exit0=t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.bisector.x/t.cosine,t.bisector.y/t.cosine,0,-1,t.distance,e._ddValues)),t.cosine<i?(s=!t.isCap,t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.prevNormal.x,-t.prevNormal.y,0,1,t.distance,e._ddValues),t.exit2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.nextNormal.x,-t.nextNormal.y,0,1,t.distance,e._ddValues)):t.splitOuter?(s=s||t.gapOuter,t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.leftOuter.x,-t.leftOuter.y,0,1,t.distance,e._ddValues),t.exit2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.rightOuter.x,-t.rightOuter.y,0,1,t.distance,e._ddValues)):(t.entry2=t.exit2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.bisector.x/t.cosine,-t.bisector.y/t.cosine,0,1,t.distance,e._ddValues))):(t.splitInner?(t.exit2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.leftInner.x,-t.leftInner.y,0,1,t.distance,e._ddValues),t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.rightInner.x,-t.rightInner.y,0,1,t.distance,e._ddValues)):(t.exit2=t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.bisector.x/t.cosine,-t.bisector.y/t.cosine,0,1,t.distance,e._ddValues)),t.cosine<i?(s=!t.isCap,t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.prevNormal.x,t.prevNormal.y,0,-1,t.distance,e._ddValues),t.exit0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.nextNormal.x,t.nextNormal.y,0,-1,t.distance,e._ddValues)):t.splitOuter?(s=s||t.gapOuter,t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.leftOuter.x,t.leftOuter.y,0,-1,t.distance,e._ddValues),t.exit0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.rightOuter.x,t.rightOuter.y,0,-1,t.distance,e._ddValues)):(t.exit0=t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.bisector.x/t.cosine,t.bisector.y/t.cosine,0,-1,t.distance,e._ddValues)))):t.sign>0?(t.exit0=t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.bisector.x/t.cosine,t.bisector.y/t.cosine,0,-1,t.distance,e._ddValues),t.cosine<i?(s=!t.isCap,t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.prevNormal.x,-t.prevNormal.y,0,1,t.distance,e._ddValues),t.exit2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.nextNormal.x,-t.nextNormal.y,0,1,t.distance,e._ddValues)):(t.entry2=t.exit2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.bisector.x/t.cosine,-t.bisector.y/t.cosine,0,1,t.distance,e._ddValues))):(t.exit2=t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.bisector.x/t.cosine,-t.bisector.y/t.cosine,0,1,t.distance,e._ddValues),t.cosine<i?(s=!t.isCap,t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.prevNormal.x,t.prevNormal.y,0,-1,t.distance,e._ddValues),t.exit0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.nextNormal.x,t.nextNormal.y,0,-1,t.distance,e._ddValues)):(t.exit0=t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.bisector.x/t.cosine,t.bisector.y/t.cosine,0,-1,t.distance,e._ddValues))),t.canSplit&&(t.splitInner||t.splitOuter)||s||o?(r=t.entry1=t.exit1=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,0,0,0,0,t.distance,e._ddValues)):r=t.entry1=t.exit1=null,s&&e._joinType!==n.JoinType.ROUND)e._lineIndexBuffer.add(r,t.sign>0?t.exit2:t.entry0,t.sign>0?t.entry2:t.exit0);else if(o&&e._capType===n.CapType.ROUND||s&&e._joinType===n.JoinType.ROUND){var u,l=void 0,h=void 0,c=void 0,x=void 0,f=void 0,p=void 0;t.isCap?(p=(u=Math.PI)/(f=Math.ceil(u/.8)),t.isFirstVertex?(l=t.prevNormal.x,h=t.prevNormal.y,c=t.entry0,x=t.entry2):t.isLastVertex&&(l=-t.nextNormal.x,h=-t.nextNormal.y,c=t.exit2,x=t.exit0)):(p=(u=2*Math.acos(t.cosine))/(f=Math.ceil(u/.8)),l=t.sign>0?-t.prevNormal.x:t.nextNormal.x,h=t.sign>0?-t.prevNormal.y:t.nextNormal.y,c=t.sign>0?t.entry2:t.exit0,x=t.sign>0?t.exit2:t.entry0);var d=Math.cos(p),y=Math.sin(p),v=y*l+d*h;l=d*l-y*h,h=v;for(var _=void 0,g=void 0,m=0;m<f;++m){if(_=g,m<f-1)if(t.isCap){var B=t.isFirstVertex?-1:1;g=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,l,h,B,0,t.distance,e._ddValues)}else g=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,l,h,0,t.sign,t.distance,e._ddValues);e._lineIndexBuffer.add(0===m?c:_,r,m===f-1?x:g);var b=y*l+d*h;l=d*l-y*h,h=b}}else if(o&&e._capType===n.CapType.SQUARE){var V=t.isFirstVertex?1:-1,I=void 0,T=void 0;e._hasPattern?(I=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.prevNormal.x-V*t.inbound.x,t.prevNormal.y-V*t.inbound.y,-V,-1,t.distance,e._ddValues),T=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.prevNormal.x-V*t.inbound.x,-t.prevNormal.y-V*t.inbound.y,-V,1,t.distance,e._ddValues)):(I=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.prevNormal.x-V*t.inbound.x,t.prevNormal.y-V*t.inbound.y,0,-1,t.distance,e._ddValues),T=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.prevNormal.x-V*t.inbound.x,-t.prevNormal.y-V*t.inbound.y,0,1,t.distance,e._ddValues)),V>0?(e._lineIndexBuffer.add(r,t.entry2,T),e._lineIndexBuffer.add(r,T,I),e._lineIndexBuffer.add(r,I,t.entry0)):(e._lineIndexBuffer.add(r,T,t.exit2),e._lineIndexBuffer.add(r,I,T),e._lineIndexBuffer.add(r,t.exit0,I))}}},y=function(e){return function(t){e._lineIndexBuffer.add(t.leftExit0,t.rightEntry0,null!=t.leftExit1?t.leftExit1:t.leftExit2),e._lineIndexBuffer.add(t.rightEntry0,null!=t.rightEntry1?t.rightEntry1:t.rightEntry2,null!=t.leftExit1?t.leftExit1:t.leftExit2),null!=t.leftExit1&&null!=t.rightEntry1?(e._lineIndexBuffer.add(t.leftExit1,t.rightEntry1,t.leftExit2),e._lineIndexBuffer.add(t.rightEntry1,t.rightEntry2,t.leftExit2)):null!=t.leftExit1?e._lineIndexBuffer.add(t.leftExit1,t.rightEntry2,t.leftExit2):null!=t.rightEntry1&&e._lineIndexBuffer.add(t.rightEntry1,t.rightEntry2,t.leftExit2)}};return x}.apply(null,i))||(e.exports=n)},1375:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(1657),r(1133),r(852)],void 0===(n=function(e,t,r,i,n){Object.defineProperty(t,"__esModule",{value:!0});t.Anchor=function(e,t,r,i,n){void 0===r&&(r=0),void 0===i&&(i=-1),void 0===n&&(n=u),this.x=e,this.y=t,this.angle=r,this.segment=i,this.minzoom=n};var o=function(e,t,r,n,o,s,a){void 0===o&&(o=!1),void 0===s&&(s=u),void 0===a&&(a=i.C_INFINITY),this.anchor=e,this.labelAngle=t,this.glyphAngle=r,this.page=n,this.upsideDown=o,this.minzoom=s,this.maxzoom=a},s=function(e,t,r,i,n,o,s,a,u,l){this.tl=e,this.tr=t,this.bl=r,this.br=i,this.mosaicRect=n,this.labelAngle=o,this.anchor=s,this.minzoom=a,this.maxzoom=u,this.page=l};t.PlacedSymbol=s;var a=function(e,t){this.footprint=e,this.shapes=t};t.Placement=a;var u=.5,l=function(){function e(){this.mapAngle=0,this._conflictEngine=new r.ConflictEngine}return e.prototype.reset=function(){this._conflictEngine.reset()},e.prototype.setAngle=function(e){this.mapAngle=e},e.prototype.getIconPlacement=function(e,t,o,l,h){var c=o.width/o.pixelRatio,x=o.height/o.pixelRatio,f=h.offset[0]-c/2,p=h.offset[1]-x/2,d=f+c,y=p+x,v=o.rect,_=2/o.pixelRatio,g=f-_,m=p-_,B=g+v.width/o.pixelRatio,b=m+v.height/o.pixelRatio,V=new n.Point(g,m),I=new n.Point(B,b),T=new n.Point(g,b),w=new n.Point(B,m),A=h.rotate*i.C_DEG_TO_RAD,E=1===h.rotationAlignment;if(e.segment>=0&&!E&&(A+=e.angle),0!==A){var D=Math.cos(A),N=Math.sin(A);V.rotate(D,N),I.rotate(D,N),T.rotate(D,N),w.rotate(D,N)}var M=8*h.padding,S=new n.Point(e.x,e.y),P=new r.Footprint(this.mapAngle,M,E);P.addBox(S,new r.Box(f,p,d,y),l,A,t,u,i.C_INFINITY);var L=new s(V,w,T,I,v,0,S,u,i.C_INFINITY,0),C=new a(P,[L]),O=u;return h.allowOverlap||(O=this._conflictEngine.getMinZoom(C.footprint,O)),P.minzoom=O,C},e.prototype.getTextPlacement=function(e,t,l,h,c,x,f){for(var p,d=new n.Point(e.x,e.y),y=f.rotate*i.C_DEG_TO_RAD,v=0===f.rotationAlignment,_=f.keepUpright,g=u,m=!v,B=m?0:e.angle,b=e.segment>=0&&v,V=8*f.padding,I=new r.Footprint(this.mapAngle,V,m),T=[],w=!b,A=Number.POSITIVE_INFINITY,E=Number.NEGATIVE_INFINITY,D=A,N=E,M=(b||v)&&_,S=0,P=h;S<P.length;S++){var L=P[S],C=L.glyphMosaicItem;if(C&&!C.rect.isEmpty){var O=C.rect,U=C.metrics,k=C.page;w&&(p&&p!==L.y&&(I.addBox(d,new r.Box(A,D,E,N),c,y,t,u,i.C_INFINITY),D=A=Number.POSITIVE_INFINITY,N=E=Number.NEGATIVE_INFINITY),p=L.y);var F=[];if(b){var z=.5*C.metrics.width,R=(l.x+L.x+U.left-4+z)*c;if(g=this._placeGlyph(e,g,R,x,e.segment,1,k,F),_&&(g=this._placeGlyph(e,g,R,x,e.segment,-1,k,F)),g>=2)break}else F.push(new o(d,B,B,k)),v&&_&&F.push(new o(d,B+i.C_PI,B+i.C_PI,k,!0));for(var j=L.x+l.x+U.left,Z=L.y+l.y-U.top,G=j+U.width,Y=Z+U.height,q=new n.Point(j-4,Z-4),W=new n.Point(q.x+O.width,q.y+O.height),H=new n.Point(q.x,W.y),K=new n.Point(W.x,q.y),J=0,Q=F;J<Q.length;J++){var X=Q[J],$=q.clone(),ee=H.clone(),te=K.clone(),re=W.clone(),ie=Z,ne=Y,oe=X.glyphAngle+y;if(0!==oe){var se=Math.cos(oe),ae=Math.sin(oe);$.rotate(se,ae),re.rotate(se,ae),ee.rotate(se,ae),te.rotate(se,ae)}T.push(new s($,te,ee,re,O,X.labelAngle,X.anchor,X.minzoom,X.maxzoom,X.page)),M&&!this._legible(X.labelAngle)||(w?(j<A&&(A=j),ie<D&&(D=ie),G>E&&(E=G),ne>N&&(N=ne)):X.minzoom<2&&I.addBox(X.anchor,new r.Box(j,ie,G,ne),c,oe,t,X.minzoom,X.maxzoom))}}}if(g>=2)return null;w&&I.addBox(d,new r.Box(A,D,E,N),c,y,t,u,i.C_INFINITY);var ue=new a(I,T);return f.allowOverlap||(g=this._conflictEngine.getMinZoom(ue.footprint,g)),I.minzoom=g,ue},e.prototype.add=function(e){this._conflictEngine.add(e.footprint)},e.prototype._legible=function(e){var t=i.radToByte(e);return t<65||t>=193},e.prototype._placeGlyph=function(e,t,r,s,a,u,l,h){var c=u,x=c<0?i.positiveMod(e.angle+i.C_PI,i.C_2PI):e.angle,f=this._legible(x),p=0;r<0&&(c*=-1,r*=-1,p=i.C_PI),c>0&&++a;var d=new n.Point(e.x,e.y),y=s[a],v=i.C_INFINITY;if(s.length<=a)return v;for(;;){var _=y.x-d.x,g=y.y-d.y,m=Math.sqrt(_*_+g*g),B=Math.max(r/m,t),b=_/m,V=g/m,I=i.positiveMod(Math.atan2(V,b)+p,i.C_2PI);if(h.push(new o(d,x,I,l,f,B,v)),B<=t)return B;d=y.clone();do{if(a+=c,s.length<=a||a<0)return B;y=s[a]}while(d.isEqual(y));var T=y.x-d.x,w=y.y-d.y,A=Math.sqrt(T*T+w*w);T*=m/A,w*=m/A,d.x-=T,d.y-=w,v=B}},e}();t.PlacementEngine=l}.apply(null,i))||(e.exports=n)},1376:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(14),r(908),r(1189),r(1133),r(1375),r(1658),r(1274),r(852)],void 0===(n=function(e,t,r,i,n,o,s,a,u,l){function h(e,t){return e.iconMosaicItem&&t.iconMosaicItem?e.iconMosaicItem.page===t.iconMosaicItem.page?0:e.iconMosaicItem.page<t.iconMosaicItem.page?-1:1:e.iconMosaicItem&&!t.iconMosaicItem?1:!e.iconMosaicItem&&t.iconMosaicItem?-1:0}return function(e){function t(t,r,i,n,o,s,a,u){var l=e.call(this,t,r)||this;if(l._markerMap=new Map,l._glyphMap=new Map,l._glyphBufferDataStorage=new Map,l._sdfMarkers=!1,t.hasDataDrivenIcon!==i.isDataDriven())throw new Error("incompatible icon buffer");if(t.hasDataDrivenText!==o.isDataDriven())throw new Error("incompatible text buffer");return l._iconVertexBuffer=i,l._iconIndexBuffer=n,l._textVertexBuffer=o,l._textIndexBuffer=s,l._placementEngine=a,l._workerTileHandler=u,l}return r(t,e),Object.defineProperty(t.prototype,"markerPageMap",{get:function(){return this._markerMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"glyphsPageMap",{get:function(){return this._glyphMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sdfMarker",{get:function(){return this._sdfMarkers},enumerable:!0,configurable:!0}),t.prototype.copy=function(e,r,i,n,o){var s=new t(this.layer,this.zoom,e,r,i,n,o,this._workerTileHandler);return s.layerIndex=this.layerIndex,s.layerExtent=this.layerExtent,s._iconIndexStart=r.index,s._textIndexStart=n.index,s._iconIndexCount=0,s._textIndexCount=0,s._symbolInstances=this._symbolInstances,s._workerTileHandler=this._workerTileHandler,s._fontArray=this._fontArray,s._textLayout=this._textLayout,s._iconLayout=this._iconLayout,s._isLinePlacement=this._isLinePlacement,s._avoidEdges=this._avoidEdges,s},t.prototype.getResources=function(e,r,i){var n=this.layer,o=this.zoom,s=n.hasDataDrivenIcon,a=n.hasDataDrivenText;e&&e.setExtent(this.layerExtent);for(var u=n.getLayoutProperty("icon-image"),l=n.getLayoutProperty("text-field"),h=n.getLayoutValue("text-font",o),c=n.getLayoutValue("text-transform",o),x=[],f=[1,1,1,1],p=1,d=1,y=[1,1,1,1],v=1,_=1,g=0,m=this._features;g<m.length;g++){var B=m[g],b=B.getGeometry(e);if(b&&0!==b.length){var V=void 0;u&&(V=n.getLayoutValue("icon-image",o,B),u.isDataDriven||(V=this._replaceKeys(V,B.values)),V&&r.add(V));var I=void 0,T=!1;if(l&&((I=n.getLayoutValue("text-field",o,B))&&!l.isDataDriven&&(I=this._replaceKeys(I,B.values)),I)){switch(I=I.replace(/\\n/g,"\n"),c){case 2:I=I.toLowerCase();break;case 1:I=I.toUpperCase()}if(t._bidiEngine.hasBidiChar(I)){var w;w="rtl"===t._bidiEngine.checkContextual(I)?"IDNNN":"ICNNN",I=t._bidiEngine.bidiTransform(I,w,"VLYSN"),T=!0}var A=I.length;if(A>0)for(var E=0,D=h;E<D.length;E++){var N=D[E],M=i[N];M||(M=i[N]=new Set);for(var S=0;S<A;S++){var P=I.charCodeAt(S);M.add(P)}}}if(V||I){var L=n.getLayoutValue("icon-size",o,B),C=n.getLayoutValue("text-size",o,B);n.hasDataDrivenIconColor&&(f=n.getPaintValue("icon-color",o,B)),n.hasDataDrivenIconOpacity&&(p=n.getPaintValue("icon-opacity",o,B)),n.hasDataDrivenIconSize&&(d=L),n.hasDataDrivenTextColor&&(y=n.getPaintValue("text-color",o,B)),n.hasDataDrivenTextOpacity&&(v=n.getPaintValue("text-opacity",o,B)),n.hasDataDrivenTextSize&&(_=C);var O={sprite:V,label:I,rtl:T,type:B.type,geometry:b,iconSize:L,iconRotate:n.getLayoutValue("icon-rotate",o,B),ddIconValues:s?{color:f,opacity:p,size:d}:null,textSize:C,textRotate:n.getLayoutValue("text-rotate",o,B),ddTextValues:a?{color:y,opacity:v,size:_}:null};x.push(O)}}}this._symbolFeatures=x},t.prototype.processFeatures=function(e){e&&e.setExtent(this.layerExtent);var r,i,n,l,c,x=this.layer,f=this.zoom,p=this._isLinePlacement=1===x.getLayoutValue("symbol-placement",f),d=8*x.getLayoutValue("symbol-spacing",f),y=x.getLayoutProperty("icon-image"),v=x.getLayoutProperty("text-field"),_=this._workerTileHandler;if(y&&(this._iconLayout=new u.IconLayout(x,f,p),r=_.getSpriteItems(),i=this._getTranslate(!0)),v){var g=this._textLayout=new u.TextLayout(x,f,p);this._fontArray=g.fontArray;var m=.5;switch(g.anchor){case 5:case 1:case 7:m=0;break;case 6:case 2:case 8:m=1}var B=.5;switch(g.anchor){case 5:case 3:case 6:B=0;break;case 7:case 4:case 8:B=1}var b=.5;switch(g.justify){case 0:b=0;break;case 2:b=1}var V=24*g.letterSpacing,I=p?0:24*g.maxWidth,T=24*g.lineHeight,w=[24*g.offset[0],24*g.offset[1]];n=this._fontArray.map((function(e){return _.getGlyphItems(e)})),l=new a.TextShaping(n,I,T,V,w,m,B,b),c=this._getTranslate(!1)}this._iconIndexStart=this._iconIndexBuffer.index,this._textIndexStart=this._textIndexBuffer.index,this._iconIndexCount=0,this._textIndexCount=0,this._markerMap.clear(),this._glyphMap.clear();var A=[];this._symbolInstances=A;var E=this._textLayout,D=1;E&&E.size&&(D=E.size/24);for(var N=E?E.maxAngle*o.C_DEG_TO_RAD:0,M=E?8*E.size:0,S=0,P=this._symbolFeatures;S<P.length;S++){var L=P[S],C=void 0;L.sprite&&(C=r[L.sprite])&&C.sdf&&(this._sdfMarkers=!0);var O=void 0,U=L.label,k=0;if(U&&(O=l.getShaping(U,L.rtl))&&O.length>0){for(var F=1e30,z=-1e30,R=0,j=O;R<j.length;R++){var Z=j[R];F=Math.min(F,Z.x),z=Math.max(z,Z.x)}k=(z-F+48)*D*8}for(var G=0,Y=L.geometry;G<Y.length;G++){var q=Y[G],W=void 0;if(p){if(O&&O.length>0&&E&&E.size){var H=8*E.size*(2+Math.min(2,4*Math.abs(E.offset[1])));t._smoothVertices(q,H)}W=t._findAnchors(q,d,k)}else W=3===L.type?t._findCentroid(q):[new s.Anchor(q[0].x,q[0].y)];for(var K=0,J=W;K<J.length;K++){var Q=J[K];Q.x<0||Q.x>4096||Q.y<0||Q.y>4096||p&&k>0&&0===E.rotationAlignment&&!t._honorsTextMaxAngle(q,Q,k,N,M)||A.push({shaping:O,line:q,iconMosaicItem:C,anchor:Q,iconSize:L.iconSize,iconRotate:L.iconRotate,ddIconValues:L.ddIconValues,textSize:L.textSize,textRotate:L.textRotate,ddTextValues:L.ddTextValues})}}}A.sort(h);for(var X=0,$=A;X<$.length;X++){var ee=$[X];this._processFeature(ee,i,c)}this._addPlacedGlyphs()},t.prototype.updateSymbols=function(){this._iconIndexStart=this._iconIndexBuffer.index,this._textIndexStart=this._textIndexBuffer.index,this._iconIndexCount=0,this._textIndexCount=0,this._markerMap.clear(),this._glyphMap.clear();var e,t,r=this.layer;r.getLayoutProperty("icon-image")&&(e=this._getTranslate(!0)),r.getLayoutProperty("text-field")&&(t=this._getTranslate(!1));for(var i=0,n=this._symbolInstances;i<n.length;i++){var o=n[i];this._processFeature(o,e,t)}this._addPlacedGlyphs()},t.prototype.assignBufferInfo=function(){},t.prototype._getTranslate=function(e){var t=this.layer.getPaintValue(e?"icon-translate":"text-translate",this.zoom);if(0!==t[0]||0!==t[1]){var r=this._placementEngine.mapAngle;if(0!==r&&0===this.layer.getPaintValue(e?"icon-translate-anchor":"text-translate-anchor",this.zoom)){var i=Math.sin(r),n=Math.cos(r);return[8*(t[0]*n-t[1]*i),8*(t[0]*i+t[1]*n)]}return[8*t[0],8*t[1]]}},t.prototype._replaceKeys=function(e,t){return e.replace(/{([^{}]+)}/g,(function(e,r){return r in t?t[r]:""}))},t.prototype._processFeature=function(e,t,r){var i=e.line,n=e.iconMosaicItem,s=e.shaping,a=e.anchor,u=this._iconLayout,h=u&&!!n,c=!0,x=1;h&&(u.size=e.iconSize,u.rotate=e.iconRotate,x=8*u.size,c=u.optional||!n);var f=this._textLayout,p=f&&s&&s.length>0,d=1,y=d,v=!0;p&&(f.size=e.textSize,f.rotate=e.textRotate,y=8*(d=f.size/24),v=f.optional||!s||0===s.length);var _,g,m=new l.Point(0,-17);if(h&&(_=this._placementEngine.getIconPlacement(a,t,n,x,u),a.minzoom>_.footprint.minzoom&&(_.footprint.minzoom=a.minzoom),_.footprint.minzoom===o.C_INFINITY&&(_=null)),(_||c)&&(p&&(g=this._placementEngine.getTextPlacement(a,r,m,s,y,i,f))&&(a.minzoom>g.footprint.minzoom&&(g.footprint.minzoom=a.minzoom),g.footprint.minzoom===o.C_INFINITY&&(g=null)),g||v)){if(_&&g||(v||c?v||g?c||_||(g=null):_=null:(_=null,g=null)),_&&g&&!v&&!c){var B=Math.max(_.footprint.minzoom,g.footprint.minzoom);_.footprint.minzoom=B,g.footprint.minzoom=B}g&&(f.ignorePlacement||this._placementEngine.add(g),this._storePlacedGlyphs(g.shapes,g.footprint.minzoom,this.zoom,e.ddTextValues)),_&&(u.ignorePlacement||this._placementEngine.add(_),this._addPlacedIcons(_.shapes,_.footprint.minzoom,this.zoom,n.page,e.ddIconValues))}},t.prototype._addPlacedIcons=function(e,t,r,i,n){for(var s=Math.max(r+o.log2(t),0),a=this._iconVertexBuffer,u=this._iconIndexBuffer,l=0,h=e;l<h.length;l++){var c=h[l],x=Math.max(r+o.log2(c.minzoom),s),f=Math.min(r+o.log2(c.maxzoom),25);if(!(f<=x)){var p=c.tl,d=c.tr,y=c.bl,v=c.br,_=c.mosaicRect,g=c.labelAngle,m=c.anchor,B=a.index,b=_.x,V=_.y,I=b+_.width,T=V+_.height;a.add(m.x,m.y,p.x,p.y,b,V,g,x,f,s,n),a.add(m.x,m.y,d.x,d.y,I,V,g,x,f,s,n),a.add(m.x,m.y,y.x,y.y,b,T,g,x,f,s,n),a.add(m.x,m.y,v.x,v.y,I,T,g,x,f,s,n),u.add(B+0,B+1,B+2),u.add(B+1,B+2,B+3),this._markerMap.has(i)?this._markerMap.get(i)[1]+=6:this._markerMap.set(i,[this._iconIndexStart+this._iconIndexCount,6]),this._iconIndexCount+=2}}},t.prototype._addPlacedGlyphs=function(){var e=this,t=this._textVertexBuffer,r=this._textIndexBuffer;this._glyphBufferDataStorage.forEach((function(i,n){for(var o=0,s=i;o<s.length;o++){var a=s[o],u=t.index;t.add(a.glyphAnchor[0],a.glyphAnchor[1],a.tl[0],a.tl[1],a.xmin,a.ymin,a.labelAngle,a.minLod,a.maxLod,a.placementLod,a.ddValues),t.add(a.glyphAnchor[0],a.glyphAnchor[1],a.tr[0],a.tr[1],a.xmax,a.ymin,a.labelAngle,a.minLod,a.maxLod,a.placementLod,a.ddValues),t.add(a.glyphAnchor[0],a.glyphAnchor[1],a.bl[0],a.bl[1],a.xmin,a.ymax,a.labelAngle,a.minLod,a.maxLod,a.placementLod,a.ddValues),t.add(a.glyphAnchor[0],a.glyphAnchor[1],a.br[0],a.br[1],a.xmax,a.ymax,a.labelAngle,a.minLod,a.maxLod,a.placementLod,a.ddValues),r.add(u+0,u+1,u+2),r.add(u+1,u+2,u+3),e._glyphMap.has(n)?e._glyphMap.get(n)[1]+=6:e._glyphMap.set(n,[e._textIndexStart+e._textIndexCount,6]),e._textIndexCount+=2}})),this._glyphBufferDataStorage.clear()},t.prototype._storePlacedGlyphs=function(e,t,r,i){for(var n=Math.max(r+o.log2(t),0),s=0,a=e;s<a.length;s++){var u=a[s],l=Math.max(r+o.log2(u.minzoom),n),h=Math.min(r+o.log2(u.maxzoom),25);if(!(h<=l)){var c=u.tl,x=u.tr,f=u.bl,p=u.br,d=u.labelAngle,y=u.anchor,v=u.mosaicRect;this._glyphBufferDataStorage.has(u.page)||this._glyphBufferDataStorage.set(u.page,[]),this._glyphBufferDataStorage.get(u.page).push({glyphAnchor:[y.x,y.y],tl:[c.x,c.y],tr:[x.x,x.y],bl:[f.x,f.y],br:[p.x,p.y],xmin:v.x,ymin:v.y,xmax:v.x+v.width,ymax:v.y+v.height,labelAngle:d,minLod:l,maxLod:h,placementLod:n,ddValues:i})}}},t._findAnchors=function(e,t,r){t+=r;for(var i=0,n=e.length-1,a=0;a<n;a++)i+=l.Point.distance(e[a],e[a+1]);var u=r||t;if(i<=(u*=.5))return[];var h=u/i,c=0,x=-(t=i/Math.max(Math.round(i/t),1))/2,f=[],p=e.length-1;for(a=0;a<p;a++){for(var d=e[a],y=e[a+1],v=y.x-d.x,_=y.y-d.y,g=Math.sqrt(v*v+_*_),m=void 0;x+t<c+g;){var B=((x+=t)-c)/g,b=o.interpolate(d.x,y.x,B),V=o.interpolate(d.y,y.y,B);void 0===m&&(m=Math.atan2(_,v)),f.push(new s.Anchor(b,V,m,a,h))}c+=g}return f},t._deviation=function(e,t,r){var i=(t.x-e.x)*(r.x-t.x)+(t.y-e.y)*(r.y-t.y),n=(t.x-e.x)*(r.y-t.y)-(t.y-e.y)*(r.x-t.x);return Math.atan2(n,i)},t._honorsTextMaxAngle=function(e,t,r,i,n){for(var o=0,s=r/2,a=new l.Point(t.x,t.y),u=t.segment+1;o>-s;){if(--u<0)return!1;o-=l.Point.distance(e[u],a),a=e[u]}o+=l.Point.distance(e[u],e[u+1]);for(var h=[],c=0,x=e.length;o<s;){var f=e[u],p=u,d=void 0;do{if(++p===x)return!1;d=e[p]}while(d.isEqual(f));var y=p,v=void 0;do{if(++y===x)return!1;v=e[y]}while(v.isEqual(d));var _=this._deviation(f,d,v);for(h.push({deviation:_,distToAnchor:o}),c+=_;o-h[0].distToAnchor>n;)c-=h.shift().deviation;if(Math.abs(c)>i)return!1;o+=l.Point.distance(d,v),u=p}return!0},t._smoothVertices=function(e,t){if(!(t<=0)){var r=e.length;if(!(r<3)){var i=[],n=0;i.push(0);for(var o=1;o<r;o++)n+=l.Point.distance(e[o],e[o-1]),i.push(n);t=Math.min(t,.2*n);var s=[];s.push(e[0].x),s.push(e[0].y);var a=e[r-1].x,u=e[r-1].y,h=l.Point.sub(e[0],e[1]);for(h.normalize(),e[0].x+=t*h.x,e[0].y+=t*h.y,h.assignSub(e[r-1],e[r-2]),h.normalize(),e[r-1].x+=t*h.x,e[r-1].y+=t*h.y,o=1;o<r;o++)i[o]+=t;i[r-1]+=t;var c=.5*t;for(o=1;o<r-1;o++){for(var x=0,f=0,p=0,d=o-1;d>=0&&!(i[d+1]<i[o]-c);d--){var y=c+i[d+1]-i[o],v=i[d+1]-i[d],_=i[o]-i[d]<c?1:y/v;if(Math.abs(_)<1e-6)break;var g=_*y-.5*(I=_*_)*v,m=_*v/t,B=e[d+1],b=e[d].x-B.x,V=e[d].y-B.y;x+=m/g*(B.x*_*y+.5*I*(y*b-v*B.x)-I*_*v*b/3),f+=m/g*(B.y*_*y+.5*I*(y*V-v*B.y)-I*_*v*V/3),p+=m}for(d=o+1;d<r&&!(i[d-1]>i[o]+c)&&(y=c-i[d-1]+i[o],v=i[d]-i[d-1],_=i[d]-i[o]<c?1:y/v,!(Math.abs(_)<1e-6));d++){var I;g=_*y-.5*(I=_*_)*v,m=_*v/t,B=e[d-1],b=e[d].x-B.x,V=e[d].y-B.y,x+=m/g*(B.x*_*y+.5*I*(y*b-v*B.x)-I*_*v*b/3),f+=m/g*(B.y*_*y+.5*I*(y*V-v*B.y)-I*_*v*V/3),p+=m}s.push(x/p),s.push(f/p)}for(s.push(a),s.push(u),o=0,d=0;o<r;o++)e[o].x=s[d++],e[o].y=s[d++]}}},t._findCentroid=function(e){var t=e.length-1,r=0,i=0,n=0,o=e[0].x,a=e[0].y;o>4096&&(o=4096),o<0&&(o=0),a>4096&&(a=4096),a<0&&(a=0);for(var u=1;u<t;u++){var l=e[u].x,h=e[u].y,c=e[u+1].x,x=e[u+1].y;l>4096&&(l=4096),l<0&&(l=0),h>4096&&(h=4096),h<0&&(h=0),c>4096&&(c=4096),c<0&&(c=0),x>4096&&(x=4096),x<0&&(x=0);var f=(l-o)*(x-a)-(c-o)*(h-a);r+=f*(o+l+c),i+=f*(a+h+x),n+=f}return r/=3*n,i/=3*n,isNaN(r)||isNaN(i)?[]:[new s.Anchor(r,i)]},t._bidiEngine=new i.default,t}(n)}.apply(null,i))||(e.exports=n)},1377:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.NO_DATA=1]="NO_DATA",e[e.READY=2]="READY",e[e.MODIFIED=3]="MODIFIED",e[e.INVALID=4]="INVALID"}(t.TileStatus||(t.TileStatus={}))}.apply(null,i))||(e.exports=n)},1652:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(10),r(11),r(15),r(6),r(1370),r(1371),r(1372),r(1133),r(1653),r(1374),r(1375),r(1376),r(1659),r(1662),r(1377)],void 0===(n=function(e,t,r,i,n,o,s,a,u,l,h,c,x,f,p,d,y){return function(){function e(){this.rotation=0,this.status=y.TileStatus.INITIALIZED,this._symbolBuckets=[],this.placementEngine=new x.PlacementEngine,this.fillVertexBuffer=new d.FillVertexBuffer(!1),this.fillDDVertexBuffer=new d.FillVertexBuffer(!0),this.fillIndexBuffer=new h.TriangleIndexBuffer,this.outlineVertexBuffer=new d.OutlineVertexBuffer(!1),this.outlineDDVertexBuffer=new d.OutlineVertexBuffer(!0),this.outlineIndexBuffer=new h.TriangleIndexBuffer,this.lineVertexBuffer=new d.LineVertexBuffer(!1),this.lineDDVertexBuffer=new d.LineVertexBuffer(!0),this.lineIndexBuffer=new h.TriangleIndexBuffer,this.iconVertexBuffer=new d.SymbolVertexBuffer(!1),this.iconDDVertexBuffer=new d.SymbolVertexBuffer(!0),this.iconIndexBuffer=new h.TriangleIndexBuffer,this.textVertexBuffer=new d.SymbolVertexBuffer(!1),this.textDDVertexBuffer=new d.SymbolVertexBuffer(!0),this.textIndexBuffer=new h.TriangleIndexBuffer,this.circleVertexBuffer=new d.CircleVertexBuffer,this.circleIndexBuffer=new h.TriangleIndexBuffer}return e.prototype.initialize=function(e,t,r,i){void 0===i&&(i=0),this.tileKey=e,this.refKeys=t,this._workerTileHandler=r,this.rotation=i,this.placementEngine.setAngle(l.C_DEG_TO_RAD*i)},e.prototype.release=function(){this.tileKey="",this.refKeys=null,this.status=y.TileStatus.INITIALIZED,this.rotation=0,this.resetData(),this._workerTileHandler=null},e.prototype.resetData=function(){this.fillVertexBuffer.reset(),this.fillDDVertexBuffer.reset(),this.fillIndexBuffer.reset(),this.outlineVertexBuffer.reset(),this.outlineDDVertexBuffer.reset(),this.outlineIndexBuffer.reset(),this.lineVertexBuffer.reset(),this.lineDDVertexBuffer.reset(),this.lineIndexBuffer.reset(),this.iconVertexBuffer.reset(),this.iconDDVertexBuffer.reset(),this.iconIndexBuffer.reset(),this.textVertexBuffer.reset(),this.textDDVertexBuffer.reset(),this.textIndexBuffer.reset(),this.circleVertexBuffer.reset(),this.circleIndexBuffer.reset(),this.placementEngine.reset(),this._symbolBuckets.length=0},e.prototype.reparse=function(e){return this.resetData(),this.setDataAndParse(this._data,e)},e.prototype.setDataAndParse=function(e,t){var r=this,i=t&&t.signal;if(n.isSome(i)){var o=function(){i.removeEventListener("abort",o),r.status=y.TileStatus.INVALID};i.addEventListener("abort",o)}return this._data=e,this._parse(e,t).then((function(e){r.status=y.TileStatus.READY;for(var t=[1,r.fillVertexBuffer.sizeInBytes,2,r.fillDDVertexBuffer.sizeInBytes,3,r.fillIndexBuffer.sizeInBytes,4,r.outlineVertexBuffer.sizeInBytes,5,r.outlineDDVertexBuffer.sizeInBytes,6,r.outlineIndexBuffer.sizeInBytes,7,r.lineVertexBuffer.sizeInBytes,8,r.lineDDVertexBuffer.sizeInBytes,9,r.lineIndexBuffer.sizeInBytes,10,r.iconVertexBuffer.sizeInBytes,11,r.iconDDVertexBuffer.sizeInBytes,12,r.iconIndexBuffer.sizeInBytes,13,r.textVertexBuffer.sizeInBytes,14,r.textDDVertexBuffer.sizeInBytes,15,r.textIndexBuffer.sizeInBytes,16,r.circleVertexBuffer.sizeInBytes,17,r.circleIndexBuffer.sizeInBytes],i=new Uint32Array(t),n=[],o=e.length,l=0;l<o;l++){var h=e[l];if(h instanceof u)n.push(h.layerIndex),n.push(1),n.push(h.fillIndexStart),n.push(h.fillIndexCount),n.push(h.outlineIndexStart),n.push(h.outlineIndexCount);else if(h instanceof c)n.push(h.layerIndex),n.push(2),n.push(h.lineIndexStart),n.push(h.lineIndexCount);else if(h instanceof f){n.push(h.layerIndex),n.push(3),n.push(h.sdfMarker?1:0);var x=h.markerPageMap;n.push(x.size),x.forEach((function(e,t){n.push(t),n.push(e[0]),n.push(e[1])}));var p=h.glyphsPageMap;n.push(p.size),p.forEach((function(e,t){n.push(t),n.push(e[0]),n.push(e[1])}))}else h instanceof a?(n.push(h.layerIndex),n.push(4),n.push(h.circleIndexStart),n.push(h.circleIndexCount)):h instanceof s&&(n.push(h.layerIndex),n.push(0))}var d=new Uint32Array(n),v=r.fillVertexBuffer.toBuffer(),_=r.fillDDVertexBuffer.toBuffer(),g=r.fillIndexBuffer.toBuffer(),m=r.outlineVertexBuffer.toBuffer(),B=r.outlineDDVertexBuffer.toBuffer(),b=r.outlineIndexBuffer.toBuffer(),V=r.lineVertexBuffer.toBuffer(),I=r.lineDDVertexBuffer.toBuffer(),T=r.lineIndexBuffer.toBuffer(),w=r.iconVertexBuffer.toBuffer(),A=r.iconDDVertexBuffer.toBuffer(),E=r.iconIndexBuffer.toBuffer(),D=r.textVertexBuffer.toBuffer(),N=r.textDDVertexBuffer.toBuffer(),M=r.textIndexBuffer.toBuffer(),S=r.circleVertexBuffer.toBuffer(),P=r.circleIndexBuffer.toBuffer();return{result:{bufferDataInfo:i.buffer,bucketDataInfo:d.buffer,bufferData:[v,_,g,m,B,b,V,I,T,w,A,E,D,N,M,S,P]},transferList:[v,_,g,m,B,b,V,I,T,w,A,E,D,N,M,S,P,i.buffer,d.buffer]}}))},e.prototype.addBucket=function(e){this._symbolBuckets.push(e)},e.prototype.updateSymbols=function(e,t){var r=this,i=this._symbolBuckets;if(!i||0===i.length)return o.resolve();var s=t&&t.signal;if(n.isSome(s)){var a=function(){s.removeEventListener("abort",a),r.status=y.TileStatus.INVALID};s.addEventListener("abort",a)}this.rotation=e;var u=this.placementEngine;u.reset(),u.setAngle(e/256*360*l.C_DEG_TO_RAD);var h=this.iconVertexBuffer;h.reset();var c=this.iconDDVertexBuffer;c.reset();var x=this.iconIndexBuffer;x.reset();var f=this.textVertexBuffer;f.reset();var p=this.textDDVertexBuffer;p.reset();var d=this.textIndexBuffer;d.reset();for(var v=[],_=0;_<i.length;_++){var g=i[_];if(g&&g.layer){var m=g.layer,B=g.copy(m.hasDataDrivenIcon?c:h,x,m.hasDataDrivenText?p:f,d,u);B&&(v.push(B),B.updateSymbols())}}if(this.status===y.TileStatus.INVALID||this.status===y.TileStatus.INITIALIZED||0===h.sizeInBytes&&0===c.sizeInBytes&&0===x.sizeInBytes&&0===f.sizeInBytes&&0===p.sizeInBytes&&0===d.sizeInBytes)return o.reject();var b=[10,h.sizeInBytes,11,c.sizeInBytes,12,x.sizeInBytes,13,f.sizeInBytes,14,p.sizeInBytes,15,d.sizeInBytes],V=new Uint32Array(b),I=[];for(_=0;_<v.length;_++){var T=v[_];I.push(T.layerIndex),I.push(3),I.push(T.sdfMarker?1:0);var w=T.markerPageMap;I.push(w.size),w.forEach((function(e,t){I.push(t),I.push(e[0]),I.push(e[1])}));var A=T.glyphsPageMap;I.push(A.size),A.forEach((function(e,t){I.push(t),I.push(e[0]),I.push(e[1])}))}var E=new Uint32Array(I),D=h.toBuffer(),N=c.toBuffer(),M=x.toBuffer(),S=f.toBuffer(),P=p.toBuffer(),L=d.toBuffer();return o.resolve({result:{bufferDataInfo:V.buffer,bucketDataInfo:E.buffer,bufferData:[D,N,M,S,P,L]},transferList:[D,N,M,S,P,L,V.buffer,E.buffer]})},e.prototype.setObsolete=function(){this.status=y.TileStatus.INVALID},e.prototype.getLayers=function(){return this._workerTileHandler.getLayers()},e.prototype.getWorkerTileHandler=function(){return this._workerTileHandler},e.prototype._parse=function(e,t){return i(this,void 0,void 0,(function(){return r(this,(function(r){return 0===Object.keys(e).length?[2,[]]:(this.status=y.TileStatus.MODIFIED,[2,new p(e,this,t.client).parse(t)])}))}))},e}()}.apply(null,i))||(e.exports=n)},1653:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(14),r(1373)],void 0===(n=function(e,t,r,i){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(){return e.call(this,12)||this}return r(t,e),t.prototype.add=function(e,t,r){var i=this.array;i.push(e),i.push(t),i.push(r)},t}(i);t.TriangleIndexBuffer=n;var o=function(e){function t(){return e.call(this,4)||this}return r(t,e),t.prototype.add=function(e){this.array.push(e)},t}(i);t.PointElementMemoryBuffer=o}.apply(null,i))||(e.exports=n)},1657:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(49),r(1133),r(852)],void 0===(n=function(e,t,r,i,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,r,i){this.left=e,this.top=t,this.right=r,this.bottom=i}return e.prototype.clone=function(){return new e(this.left,this.top,this.right,this.bottom)},e.prototype.move=function(e,t){this.left+=e,this.top+=t,this.right+=e,this.bottom+=t},e.prototype.rotate=function(e,t){var r=this.left,i=this.right,n=this.top,o=this.bottom,s=r*e-n*t,a=r*t+n*e,u=i*e-n*t,l=i*t+n*e,h=r*e-o*t,c=r*t+o*e,x=i*e-o*t,f=i*t+o*e;this.left=Math.min(s,u,h,x),this.top=Math.min(a,l,c,f),this.right=Math.max(s,u,h,x),this.bottom=Math.max(a,l,c,f)},e.overlaps=function(e,t){return e.right>t.left&&e.left<t.right&&e.bottom>t.top&&e.top<t.bottom},e}();t.Box=o;var s=function(){function e(e,t,r,i){this.anchor=e,this.corners=t,this.minzoom=r,this.maxzoom=i}return e.prototype.left=function(){return this.corners[0].x},e.prototype.right=function(){return this.corners[2].x},e.prototype.top=function(){return this.corners[1].y},e.prototype.bottom=function(){return this.corners[3].y},e}();t.Obstacle=s;var a=function(){function e(e,t,r){this.obstacles=[],this.mapAngle=e,this.padding=t,this.isScreenAligned=r,this.minzoom=u}return e.prototype.addBox=function(e,t,r,i,o,a,u){var l=t.left*r-this.padding,h=t.top*r-this.padding,c=t.right*r+this.padding,x=t.bottom*r+this.padding,f=[new n.Point(l,h),new n.Point(c,h),new n.Point(c,x),new n.Point(l,x)];if(0!==this.mapAngle){var p=Math.cos(this.mapAngle),d=Math.sin(this.mapAngle);(e=e.clone()).rotate(p,d)}if(this.isScreenAligned||(i+=this.mapAngle),0!==i){p=Math.cos(i),d=Math.sin(i),f[0].rotate(p,d),f[1].rotate(p,d),f[2].rotate(p,d),f[3].rotate(p,d);for(var y=0,v=1;v<4;v++)(f[v].x<f[y].x||f[v].x===f[y].x&&f[v].y<f[y].y)&&(y=v);if(y){var _=[];for(v=0;v<4;v++)_.push(f[(v+y)%4]);f=_}}if(o)for(var g=0,m=f;g<m.length;g++)m[g].move(o[0],o[1]);this.obstacles.push(new s(e,f,a,u))},e}();t.Footprint=a;var u=.5,l=function(){function e(){this._grid=[]}return e.prototype.reset=function(){this._grid=[]},e.prototype.add=function(t){for(var r=this._grid,i=0,n=t.obstacles;i<n.length;i++)for(var o=n[i],s=o.anchor,a=e._gridClamp(Math.min(o.left()+s.x,s.x)),u=e._gridClamp(Math.max(o.right()+s.x,s.x)),l=e._gridClamp(Math.min(o.top()+s.y,s.y)),h=e._gridClamp(Math.max(o.bottom()+s.y,s.y)),c=l;c<=h;c++)for(var x=a;x<=u;x++){var f=r[16*c+x];f||(f=r[16*c+x]=[]),f.push(o)}},e.prototype.getMinZoom=function(t,r){if(0===t.obstacles.length)return i.C_INFINITY;for(var n=r,o=this._grid,s=0,a=t.obstacles;s<a.length;s++)for(var u=a[s],l=u.anchor,h=e._gridClamp(Math.min(u.left()+l.x,l.x)),c=e._gridClamp(Math.max(u.right()+l.x,l.x)),x=e._gridClamp(Math.min(u.top()+l.y,l.y)),f=e._gridClamp(Math.max(u.bottom()+l.y,l.y)),p=x;p<=f;p++)for(var d=h;d<=c;d++){var y=o[16*p+d];if(y)for(var v=0,_=y;v<_.length;v++){var g=_[v];if(!(u.minzoom>=g.maxzoom||g.minzoom>=u.maxzoom)&&(n=e._calcPlacementZoom(u,g,n))>=2)return i.C_INFINITY}}return n<2?n:i.C_INFINITY},e._gridClamp=function(e){return r.clamp(e>>9,-7,8)},e._calcPlacementZoom=function(t,r,n){var o=r.anchor.x-t.anchor.x;if(0===o&&(t.right()<r.left()||r.right()<t.left()))return n;var s=r.anchor.y-t.anchor.y;if(0===s&&(t.bottom()<r.top()||r.bottom()<t.top()))return n;var a=i.C_INFINITY;if(0!==o){var u=(o>0?t.right()-r.left():t.left()-r.right())/o;u<a&&(a=u);var l=o>0?e._calcExtZoomX(t,r,u):e._calcExtZoomX(r,t,u);l<a&&(a=l)}if(0!==s){var h=(s>0?t.bottom()-r.top():t.top()-r.bottom())/s;h<a&&(a=h);var c=s>0?e._calcExtZoomY(t,r,h):e._calcExtZoomY(r,t,h);c<a&&(a=c)}return a<t.minzoom||a<r.minzoom?n:((a=Math.min(a,t.maxzoom,r.maxzoom))<n&&(a=n),a)},e._calcExtZoomX=function(e,t,r){var i,n,o,s;if(e.anchor.y+e.corners[2].y/r<t.anchor.y+t.corners[0].y/r){var a=e.corners[2].x-e.corners[3].x,u=e.corners[2].y-e.corners[3].y,l=t.corners[1].x-t.corners[0].x;a*(t.corners[1].y-t.corners[0].y)-u*l>=0?e.anchor.y+e.corners[3].y/r<t.anchor.y+t.corners[0].y/r?(i=e.corners[3],n=t.corners[0],o=t.corners[1],s=1):(i=t.corners[0],n=e.corners[3],o=e.corners[2],s=-1):e.anchor.y+e.corners[2].y/r>t.anchor.y+t.corners[1].y/r?(i=e.corners[2],n=t.corners[0],o=t.corners[1],s=1):(i=t.corners[1],n=e.corners[3],o=e.corners[2],s=-1)}else a=e.corners[2].x-e.corners[1].x,u=e.corners[2].y-e.corners[1].y,l=t.corners[3].x-t.corners[0].x,a*(t.corners[3].y-t.corners[0].y)-u*l<0?e.anchor.y+e.corners[1].y/r>t.anchor.y+t.corners[0].y/r?(i=e.corners[1],n=t.corners[0],o=t.corners[3],s=1):(i=t.corners[0],n=e.corners[1],o=e.corners[2],s=-1):e.anchor.y+e.corners[2].y/r<t.anchor.y+t.corners[3].y/r?(i=e.corners[2],n=t.corners[0],o=t.corners[3],s=1):(i=t.corners[3],n=e.corners[1],o=e.corners[2],s=-1);var h=o.x-n.x,c=o.y-n.y;return s*((i.y-n.y)*h-(i.x-n.x)*c)/((e.anchor.x-t.anchor.x)*c-(e.anchor.y-t.anchor.y)*h)},e._calcExtZoomY=function(e,t,r){var i,n,o,s;if(e.anchor.x+e.corners[3].x/r<t.anchor.x+t.corners[1].x/r){var a=e.corners[3].x-e.corners[2].x,u=e.corners[3].y-e.corners[2].y,l=t.corners[0].x-t.corners[1].x;a*(t.corners[0].y-t.corners[1].y)-u*l<0?e.anchor.x+e.corners[2].x/r<t.anchor.x+t.corners[1].x/r?(i=e.corners[2],n=t.corners[1],o=t.corners[0],s=1):(i=t.corners[1],n=e.corners[2],o=e.corners[3],s=-1):e.anchor.x+e.corners[3].x/r>t.anchor.x+t.corners[0].x/r?(i=e.corners[3],n=t.corners[1],o=t.corners[0],s=1):(i=t.corners[0],n=e.corners[2],o=e.corners[3],s=-1)}else a=e.corners[3].x-e.corners[0].x,u=e.corners[3].y-e.corners[0].y,l=t.corners[2].x-t.corners[1].x,a*(t.corners[2].y-t.corners[1].y)-u*l>0?e.anchor.x+e.corners[0].x/r>t.anchor.x+t.corners[1].x/r?(i=e.corners[0],n=t.corners[1],o=t.corners[2],s=1):(i=t.corners[1],n=e.corners[0],o=e.corners[3],s=-1):e.anchor.x+e.corners[3].x/r<t.anchor.x+t.corners[2].x/r?(i=e.corners[3],n=t.corners[1],o=t.corners[2],s=1):(i=t.corners[2],n=e.corners[0],o=e.corners[3],s=-1);var h=o.x-n.x,c=o.y-n.y;return s*((i.y-n.y)*h-(i.x-n.x)*c)/((e.anchor.x-t.anchor.x)*c-(e.anchor.y-t.anchor.y)*h)},e}();t.ConflictEngine=l}.apply(null,i))||(e.exports=n)},1658:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(830)],void 0===(n=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,r,i,n,o,s,a){this._glyphItems=e,this._maxWidth=t,this._lineHeight=r,this._letterSpacing=i,this._offset=n,this._hAnchor=o,this._vAnchor=s,this._justify=a}return e.prototype.getShaping=function(e,t){for(var r=this._letterSpacing,i=this._lineHeight,n=this._justify,o=this._maxWidth,s=[],a=0,u=0,l=0,h=0,c=-1,x=0,f=-1,p=e.length,d=0;d<p;d++){var y=e.charCodeAt(d);if(10!==y){for(var v=void 0,_=0,g=this._glyphItems;_<g.length&&!(v=g[_][y]);_++);if(v){if(s.push({codePoint:y,x:a,y:u,glyphMosaicItem:v}),a+=v.metrics.advance+r,o>0&&a>o&&f>=0){var m=f+1;b=s[m].x,x=Math.max(b,x);for(var B=m;B<s.length;B++)t?s[B].y-=i:s[B].y+=i,s[B].x-=b;n&&this._applyJustification(s,h,f),t?u-=i:u+=i,a-=b,++l,h=m,f=-1}++c,32===y&&(f=s.length-1)}}else{if(d===p-1)continue;if(c>=h){var b=(V=s[c]).x+V.glyphMosaicItem.metrics.advance;x=Math.max(b,x),n&&this._applyJustification(s,h,c),h=s.length}t?u-=i:u+=i,a=0,++l}}if(c>=h){var V,I=(V=s[c]).x+V.glyphMosaicItem.metrics.advance;x=Math.max(x,I),n&&this._applyJustification(s,h,c)}if(s.length>0){var T=(n-this._hAnchor)*x,w=(-this._vAnchor*(l+1)+.5)*i;t&&l&&(w+=l*i),T+=this._offset[0],w+=this._offset[1];for(var A=0,E=s;A<E.length;A++){var D=E[A];D.x+=T,D.y+=w}}return s},e.getBox=function(e){if(!e.length)return null;for(var t=1/0,r=1/0,i=0,n=0,o=0,s=e;o<s.length;o++){var a=s[o],u=a.glyphMosaicItem.metrics,l=u.height,h=u.left,c=u.top,x=u.width,f=a.x,p=a.y-(l-Math.abs(c)),d=f+x+h,y=p+l;t=Math.min(t,f),i=Math.max(i,d),r=Math.min(r,p),n=Math.max(n,y)}return{x:t,y:r,width:i-t,height:n-r}},e.addDecoration=function(e,t){var i=e.length;if(0!==i){for(var n=e[0].x+e[0].glyphMosaicItem.metrics.left,o=e[0].y,s=1;s<i;s++){var a=e[s];if(a.y!==o){var u=e[s-1].x+e[s-1].glyphMosaicItem.metrics.left+e[s-1].glyphMosaicItem.metrics.width;e.push({codePoint:0,x:n,y:o+t-3,glyphMosaicItem:{sdf:!0,rect:new r.default(4,0,4,8),metrics:{width:u-n,height:8,left:0,top:0,advance:0},page:0,code:0}}),o=a.y,n=a.x+a.glyphMosaicItem.metrics.left}}var l=e[i-1].x+e[i-1].glyphMosaicItem.metrics.left+e[i-1].glyphMosaicItem.metrics.width;e.push({codePoint:0,x:n,y:o+t-3,glyphMosaicItem:{sdf:!0,rect:new r.default(4,0,4,8),metrics:{width:l-n,height:8,left:0,top:0,advance:0},page:0,code:0}})}},e.prototype._applyJustification=function(e,t,r){for(var i=e[r],n=i.glyphMosaicItem.metrics.advance,o=(i.x+n)*this._justify,s=t;s<=r;s++)e[s].x-=o},e}();t.TextShaping=i}.apply(null,i))||(e.exports=n)},1659:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(10),r(11),r(900),r(6),r(1370),r(1371),r(1660),r(1372),r(1374),r(1661),r(1376),r(842),r(1377)],void 0===(n=function(e,t,r,i,n,o,s,a,u,l,h,c,x,f,p){return function(){function e(e,t,r){this._pbfTiles={},this._tileClippers={},this._client=r,this._tile=t,this._layers=t.getLayers();var i=t.tileKey.split("/").map(parseFloat),o=i[0],s=i[1],a=i[2];this._level=o;for(var u=Math.max(8,Math.round(1*this._level)-8),l=0,h=Object.keys(e);l<h.length;l++){var c=h[l],x=e[c];if(this._pbfTiles[c]=new n(new Uint8Array(x.protobuff),new DataView(x.protobuff)),x.refKey){var p=o-x.refKey.split("/").map(parseFloat)[0];if(p>0){var d=(1<<p)-1,y=s&d,v=a&d;this._tileClippers[c]=new f.TileClipper(p,y,v,8,u)}}this._tileClippers[c]||(this._tileClippers[c]=new f.SimpleBuilder)}}return e.prototype.parse=function(e){return i(this,void 0,void 0,(function(){var t,i,n,s,a,l,h,c,x,f,d,y,v,_,g,m,B,b,V,I,T,w,A,E,D,N,M,S,P,L,C,O,U,k,F,z,R,j,Z,G,Y,q,W,H,K,J,Q,X,$,ee,te,re,ie,ne,oe,se,ae,ue;return r(this,(function(r){for(t=e&&e.signal,i=this._parseTileData(this._pbfTiles),n=this._layers,s=this._level,l=[],h=this._tileClippers,c={},x={},f=n.length-1;f>=0;f--)(a=n[f]).minzoom&&s<a.minzoom||a.maxzoom&&s>=a.maxzoom||a.layout&&a.layout.visibility&&"none"===a.layout.visibility||0!==a.type&&i[a.source]&&h[a.source]&&(P=i[a.source],d=h[a.source],K=a.sourceLayer,(L=P[K])&&((y=x[a.source])||(y=x[a.source]=new Set),y.add(a.sourceLayer),(te=this._createBucket(a))&&(te.layerIndex=f,te.layerExtent=L.extent,te.tileClipper=d,(C=c[a.source])||(C=c[a.source]={}),(v=C[K])||(v=C[K]=[]),v.push(te))));for(_=10*this._level,g=10*(this._level+1),m=[],B=[],b=[],V=[],I=new Set,T={},w=[],A=[],E=function(e){x[e].forEach((function(t){w.push(t),A.push(e)}))},D=0,N=Object.keys(x);D<N.length;D++)W=N[D],E(W);for(M=0;M<w.length&&(W=A[M],S=w[M],i[W]&&c[W])&&(P=i[W],L=P[S],C=c[W],(J=C[S])&&0!==J.length);M++){if(o.isAborted(t))return[2,void 0];for(O=L.getData();O.next(2);){if(U=O.getMessage(),k=new u(U,L),U.release(),F=k.values){if((z=F._minzoom)&&z>=g)continue;if((R=F._maxzoom)&&R<=_)continue}for(j=0,Z=J;j<Z.length;j++)(te=Z[j]).pushFeature(k)}}for(G=this._tile,Y=0,q=Object.keys(c);Y<q.length;Y++)for(K in W=q[Y],H=c[W])for(J=H[K],Q=0,X=J;Q<X.length;Q++)(te=X[Q]).hasFeatures()&&(3===te.layer.type?(m.push(te),G.addBucket(te)):te.layer.refLayerId?b.push(te):(B.push(te),V[te.layer.id]=te));for($=0,ee=m;$<ee.length;$++)te=ee[$],(re=te).getResources(re.tileClipper,I,T);if(this._tile.status===p.TileStatus.INVALID)return[2,o.resolve([])];for(ae in ie=[],ne=this._tile.getWorkerTileHandler(),I.size>0&&(oe=ne.fetchSprites(I,this._client,e),ie.push(oe)),T)(ue=T[ae]).size>0&&(se=ne.fetchGlyphs(this._tile.tileKey,ae,ue,this._client,e),ie.push(se));return[2,o.all(ie).then((function(){for(var e=0,t=B;e<t.length;e++){var r=t[e];r.processFeatures(r.tileClipper),l.push(r)}for(var i=0,n=b;i<n.length;i++){var o=n[i],s=V[o.layer.refLayerId];s&&(s.assignBufferInfo(o),l.push(o))}for(var a=0,u=m;a<u.length;a++){var h=u[a];h.processFeatures(h.tileClipper),l.push(h)}return l.sort((function(e,t){return e.layerIndex-t.layerIndex})),l}))]}))}))},e.prototype._parseTileData=function(e){for(var t={},r=0,i=Object.keys(e);r<i.length;r++){for(var n=i[r],o=e[n],s={};o.next();)switch(o.tag()){case 3:var a=o.getMessage(),u=new c(a);a.release(),s[u.name]=u;break;default:o.skip()}t[n]=s}return t},e.prototype._createBucket=function(e){switch(e.type){case 0:return this._createBackgroundBucket(e);case 1:return this._createFillBucket(e);case 2:return this._createLineBucket(e);case 4:return this._createCircleBucket(e);case 3:return this._createSymbolBucket(e)}},e.prototype._createBackgroundBucket=function(e){return new s(e,this._level)},e.prototype._createFillBucket=function(e){var t=this._tile;return new l(e,this._level,e.hasDataDrivenFill?t.fillDDVertexBuffer:t.fillVertexBuffer,t.fillIndexBuffer,e.hasDataDrivenOutline?t.outlineDDVertexBuffer:t.outlineVertexBuffer,t.outlineIndexBuffer)},e.prototype._createLineBucket=function(e){var t=this._tile;return new h(e,this._level,e.hasDataDrivenLine?t.lineDDVertexBuffer:t.lineVertexBuffer,t.lineIndexBuffer)},e.prototype._createCircleBucket=function(e){var t=this._tile;return new a(e,this._level,t.circleVertexBuffer,t.circleIndexBuffer)},e.prototype._createSymbolBucket=function(e){var t=this._tile;return new x(e,this._level,e.hasDataDrivenIcon?t.iconDDVertexBuffer:t.iconVertexBuffer,t.iconIndexBuffer,e.hasDataDrivenText?t.textDDVertexBuffer:t.textVertexBuffer,t.textIndexBuffer,t.placementEngine,t.getWorkerTileHandler())},e}()}.apply(null,i))||(e.exports=n)},1660:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(852)],void 0===(n=function(e,t,r){return function(){function e(e,t){this.values={};for(var r=t.keys,i=t.values;e.next();)switch(e.tag()){case 1:this.id=e.getUInt64();break;case 2:for(var n=e.getMessage(),o=this.values;!n.empty();){var s=n.getUInt32(),a=n.getUInt32();o[r[s]]=i[a]}n.release();break;case 3:this.type=e.getUInt32();break;case 4:this._pbfGeometry=e.getMessage();break;default:e.skip()}}return e.prototype.getGeometry=function(e){if(void 0!==this._geometry)return this._geometry;if(!this._pbfGeometry)return null;var t,i,n=this._pbfGeometry;this._pbfGeometry=null,e?e.reset(this.type):t=[];for(var o,s=1,a=0,u=0,l=0;!n.empty();){if(0===a){var h=n.getUInt32();s=7&h,a=h>>3}switch(a--,s){case 1:u+=n.getSInt32(),l+=n.getSInt32(),e?e.moveTo(u,l):(i&&t.push(i),(i=[]).push(new r.Point(u,l)));break;case 2:u+=n.getSInt32(),l+=n.getSInt32(),e?e.lineTo(u,l):i.push(new r.Point(u,l));break;case 7:e?e.close():i&&!i[0].equals(u,l)&&i.push(i[0].clone());break;default:throw n.release(),new Error("Invalid path operation")}}return e?o=e.result():(i&&t.push(i),o=t),n.release(),this._geometry=o,o},e}()}.apply(null,i))||(e.exports=n)},1661:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){return function(){function e(t){for(this.extent=4096,this.keys=[],this.values=[],this._pbfLayer=t.clone();t.next();)switch(t.tag()){case 1:this.name=t.getString();break;case 3:this.keys.push(t.getString());break;case 4:this.values.push(t.processMessage(e._parseValue));break;case 5:this.extent=t.getUInt32();break;default:t.skip()}}return e.prototype.getData=function(){return this._pbfLayer},e._parseValue=function(e){for(;e.next();)switch(e.tag()){case 1:return e.getString();case 2:return e.getFloat();case 3:return e.getDouble();case 4:return e.getInt64();case 5:return e.getUInt64();case 6:return e.getSInt64();case 7:return e.getBool();default:e.skip()}return null},e}()}.apply(null,i))||(e.exports=n)},1662:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(14),r(1133),r(1373)],void 0===(n=function(e,t,r,i,n){Object.defineProperty(t,"__esModule",{value:!0});var o=new Float32Array(1),s=new Uint32Array(o.buffer),a=function(e){function t(t){var r=e.call(this,t?20:12)||this;return r._isDataDriven=t,r}return r(t,e),t.prototype.isDataDriven=function(){return this._isDataDriven},t.prototype.add=function(e,t,r,i,a,u,l,h){var c=this.array,x=n.i1616to32(e,t);if(c.push(x),x=n.i8888to32(Math.round(31*r),Math.round(31*i),Math.round(31*a),Math.round(31*u)),c.push(x),x=n.i1616to32(l,0),c.push(x),this._isDataDriven){if(!h)throw new Error("Expecting data driven values.");var f=h.color,p=f[3]*h.opacity*255;c.push(n.i8888to32(f[0]*p,f[1]*p,f[2]*p,p)),o[0]=h.size,c.push(s[0])}},t}(n);t.LineVertexBuffer=a;var u=function(e){function t(t){var r=e.call(this,t?8:4)||this;return r._isDataDriven=t,r}return r(t,e),t.prototype.isDataDriven=function(){return this._isDataDriven},t.prototype.add=function(e,t,r){var i=this.array;if(i.push(n.i1616to32(e,t)),this._isDataDriven){if(!r)throw new Error("Expecting data driven values.");var o=r.color,s=o[3]*r.opacity*255;i.push(n.i8888to32(o[0]*s,o[1]*s,o[2]*s,s))}},t}(n);t.FillVertexBuffer=u;var l=function(e){function t(t){var r=e.call(this,t?12:8)||this;return r._isDataDriven=t,r}return r(t,e),t.prototype.isDataDriven=function(){return this._isDataDriven},t.prototype.add=function(e,t,r,i,o,s,a){var u=this.array,l=this.index,h=n.i1616to32(e,t);if(u.push(h),h=n.i8888to32(Math.round(15*r),Math.round(15*i),o,s),u.push(h),this._isDataDriven){if(!a)throw new Error("Expecting data driven values.");var c=a.color,x=c[3]*a.opacity*255;u.push(n.i8888to32(c[0]*x,c[1]*x,c[2]*x,x))}return l},t}(n);t.OutlineVertexBuffer=l;var h=function(e){function t(t){var r=e.call(this,t?24:16)||this;return r._isDataDriven=t,r}return r(t,e),t.prototype.isDataDriven=function(){return this._isDataDriven},t.prototype.add=function(e,t,r,a,u,l,h,c,x,f,p){var d=this.array,y=n.i1616to32(e,t);if(d.push(y),y=n.i1616to32(Math.round(8*r),Math.round(8*a)),d.push(y),y=n.i8888to32(u/4,l/4,0,0),d.push(y),y=n.i8888to32(Math.ceil(10*f),i.radToByte(h),10*c,Math.min(10*x,255)),d.push(y),this._isDataDriven){if(!p)throw new Error("Expecting data driven values.");var v=p.color,_=v[3]*p.opacity*255;d.push(n.i8888to32(v[0]*_,v[1]*_,v[2]*_,_)),o[0]=p.size,d.push(s[0])}},t}(n);t.SymbolVertexBuffer=h;var c=function(e){function t(){return e.call(this,16)||this}return r(t,e),t.prototype.add=function(e,t,r,i,o,s,a,u,l,h,c){var x=this.array,f=n.i1616to32(2*e+r,2*t+i);x.push(f);var p=s[3]*a*255;f=n.i8888to32(s[0]*p,s[1]*p,s[2]*p,p),x.push(f);var d=h[3]*c*255;f=n.i8888to32(h[0]*d,h[1]*d,h[2]*d,d),x.push(f),f=n.i8888to32(Math.min(32*u,255),Math.min(4*l,255),Math.min(o,255),0),x.push(f)},t}(n);t.CircleVertexBuffer=c}.apply(null,i))||(e.exports=n)},796:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(10),r(11),r(6),r(1652),r(1378)],void 0===(n=function(e,t,r,i,n,o,s){return function(){function e(){this._tiles=new Map,this._spriteInfo={},this._glyphInfo={}}return e.prototype.reset=function(){this._spriteInfo={},this._glyphInfo={};var e=this._tiles;return e.forEach((function(e){return e.setObsolete()})),e.clear(),n.resolve()},e.prototype.getLayers=function(){return this._layers},e.prototype.setLayers=function(e){var t=new s(e.style);return this._layers=t.layers,this._enableCachingTiles=e.enableCachingTiles,n.resolve({data:""})},e.prototype.createTileAndParse=function(e,t){for(var r=this,i=e.key,s=new o,a={},u=0,l=Object.keys(e.sourceName2DataAndRefKey);u<l.length;u++){var h=l[u],c=e.sourceName2DataAndRefKey[h];a[h]=c.refKey}return s.initialize(i,a,this,e.rotation),s.setDataAndParse(e.sourceName2DataAndRefKey,t).then((function(e){return r._enableCachingTiles&&r._tiles.set(i,s),e})).catch((function(e){if(s.setObsolete(),s.release(),!n.isAbortError(e))throw e}))},e.prototype.updateSymbols=function(e,t){var r=this._tiles.get(e.key);return r?r.updateSymbols(e.rotation,t):n.reject()},e.prototype.updateStyle=function(e,t){var r=new s(e);return this._layers=r.layers,this._tiles.forEach((function(e){e.reparse(t).then((function(r){t.client.invoke("updateTileData",{tileId:e.tileKey,tileData:r.result})}))})),n.resolve({data:""})},e.prototype.destructTileData=function(e){if(this._enableCachingTiles){var t=this._tiles.get(e);t&&(t.release(),this._tiles.delete(e))}},e.prototype.fetchSprites=function(e,t,r){var i=[],o=this._spriteInfo;return e.forEach((function(e){void 0===o[e]&&i.push(e)})),0===i.length?n.resolve():t.invoke("getSprites",i,{signal:r&&r.signal}).then((function(e){for(var t in e){var r=e[t];o[t]=r}}))},e.prototype.getSpriteItems=function(){return this._spriteInfo},e.prototype.fetchGlyphs=function(e,t,r,i,o){var s=[],a=this._glyphInfo[t];return a?r.forEach((function(e){a[e]||s.push(e)})):(a=this._glyphInfo[t]=[],r.forEach((function(e){return s.push(e)}))),0===s.length?n.resolve():i.invoke("getGlyphs",{tileID:e,font:t,codePoints:s},o).then((function(e){for(var t=0;t<e.length;t++)e[t]&&(a[t]=e[t])}))},e.prototype.getGlyphItems=function(e){return this._glyphInfo[e]},e}()}.apply(null,i))||(e.exports=n)},822:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){function r(e,t){return Math.sqrt(e*e+t*t)}Object.defineProperty(t,"__esModule",{value:!0}),t.sub=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e},t.len=r,t.normalize=function(e){var t=r(e[0],e[1]);e[0]/=t,e[1]/=t},t.dist=function(e,t){return r(e[0]-t[0],e[1]-t[1])},t.isFunction=function(e){return"function"==typeof e},t.getLimitCosine=function(e){return 1/Math.max(e,1)}}.apply(null,i))||(e.exports=n)},830:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=e,this.y=t,this.width=r,this.height=i}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.width<=0||this.height<=0},enumerable:!0,configurable:!0}),e.prototype.union=function(e){this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.width=Math.max(this.width,e.width),this.height=Math.max(this.height,e.height)},e}();t.default=r}.apply(null,i))||(e.exports=n)},841:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.C_INFINITY=Number.POSITIVE_INFINITY,t.C_PI=Math.PI,t.C_2PI=2*t.C_PI,t.C_PI_BY_2=t.C_PI/2,t.C_RAD_TO_256=128/t.C_PI,t.C_256_TO_RAD=t.C_PI/128,t.C_DEG_TO_256=256/360,t.C_DEG_TO_RAD=t.C_PI/180,t.C_SQRT2=1.414213562,t.C_SQRT2_INV=1/t.C_SQRT2;var r=1/Math.LN2;function i(e,t){return(e%=t)>=0?e:e+t}t.positiveMod=i,t.radToByte=function(e){return i(e*t.C_RAD_TO_256,256)},t.degToByte=function(e){return i(e*t.C_DEG_TO_256,256)},t.log2=function(e){return Math.log(e)*r},t.sqr=function(e){return e*e},t.interpolate=function(e,t,r){return e*(1-r)+t*r},t.between=function(e,t,r){return e>=t&&e<=r||e>=r&&e<=t}}.apply(null,i))||(e.exports=n)},842:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(815),r(852),r(841)],void 0===(n=function(e,t,r,i,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,r){this.ratio=e,this.x=t,this.y=r},s=function(){function e(e,t,i,n,o){void 0===n&&(n=8),void 0===o&&(o=8),this.lines=[],this.starts=[],this.pixelRatio=n,this.pixelMargin=o,this.tileSize=r.TILE_SIZE*n,this.dz=e,this.yPos=t,this.xPos=i}return e.prototype.setExtent=function(e){this.finalRatio=this.tileSize/e*(1<<this.dz);var t=this.pixelRatio*this.pixelMargin;t/=this.finalRatio;var r=e>>this.dz;t>r&&(t=r),this.margin=t,this.xmin=r*this.xPos-t,this.ymin=r*this.yPos-t,this.xmax=this.xmin+r+2*t,this.ymax=this.ymin+r+2*t},e.prototype.reset=function(e){this.type=e,this.lines=[],this.starts=[],this.line=null,this.start=0},e.prototype.moveTo=function(e,t){this._pushLine(),this._prevIsIn=this._isIn(e,t),this._moveTo(e,t,this._prevIsIn),this._prevPt=new i.Point(e,t),this._firstPt=new i.Point(e,t),this._dist=0},e.prototype.lineTo=function(e,t){var r,n,s,a,u,l,h,c,x=this._isIn(e,t),f=new i.Point(e,t),p=i.Point.distance(this._prevPt,f);if(x)this._prevIsIn?this._lineTo(e,t,!0):(r=this._prevPt,n=f,s=this._intersect(n,r),this.start=this._dist+p*(1-this._r),this._lineTo(s.x,s.y,!0),this._lineTo(n.x,n.y,!0));else if(this._prevIsIn)n=this._prevPt,r=f,s=this._intersect(n,r),this._lineTo(s.x,s.y,!0),this._lineTo(r.x,r.y,!1);else{var d=this._prevPt,y=f;if(d.x<=this.xmin&&y.x<=this.xmin||d.x>=this.xmax&&y.x>=this.xmax||d.y<=this.ymin&&y.y<=this.ymin||d.y>=this.ymax&&y.y>=this.ymax)this._lineTo(y.x,y.y,!1);else{var v=[];if((d.x<this.xmin&&y.x>this.xmin||d.x>this.xmin&&y.x<this.xmin)&&(a=(this.xmin-d.x)/(y.x-d.x),(c=d.y+a*(y.y-d.y))<=this.ymin?l=!1:c>=this.ymax?l=!0:v.push(new o(a,this.xmin,c))),(d.x<this.xmax&&y.x>this.xmax||d.x>this.xmax&&y.x<this.xmax)&&(a=(this.xmax-d.x)/(y.x-d.x),(c=d.y+a*(y.y-d.y))<=this.ymin?l=!1:c>=this.ymax?l=!0:v.push(new o(a,this.xmax,c))),(d.y<this.ymin&&y.y>this.ymin||d.y>this.ymin&&y.y<this.ymin)&&(a=(this.ymin-d.y)/(y.y-d.y),(h=d.x+a*(y.x-d.x))<=this.xmin?u=!1:h>=this.xmax?u=!0:v.push(new o(a,h,this.ymin))),(d.y<this.ymax&&y.y>this.ymax||d.y>this.ymax&&y.y<this.ymax)&&(a=(this.ymax-d.y)/(y.y-d.y),(h=d.x+a*(y.x-d.x))<=this.xmin?u=!1:h>=this.xmax?u=!0:v.push(new o(a,h,this.ymax))),0===v.length)u?l?this._lineTo(this.xmax,this.ymax,!0):this._lineTo(this.xmax,this.ymin,!0):l?this._lineTo(this.xmin,this.ymax,!0):this._lineTo(this.xmin,this.ymin,!0);else if(v.length>1&&v[0].ratio>v[1].ratio)this.start=this._dist+p*v[1].ratio,this._lineTo(v[1].x,v[1].y,!0),this._lineTo(v[0].x,v[0].y,!0);else{this.start=this._dist+p*v[0].ratio;for(var _=0;_<v.length;_++)this._lineTo(v[_].x,v[_].y,!0)}this._lineTo(y.x,y.y,!1)}}this._dist+=p,this._prevIsIn=x,this._prevPt=f},e.prototype.close=function(){if(this.line.length>2){var e=this._firstPt,t=this._prevPt;e.x===t.x&&e.y===t.y||this.lineTo(e.x,e.y);for(var r=this.line,i=r.length;i>=4&&(r[0].x===r[1].x&&r[0].x===r[i-2].x||r[0].y===r[1].y&&r[0].y===r[i-2].y);)r.pop(),r[0].x=r[i-2].x,r[0].y=r[i-2].y,--i}},e.prototype.result=function(e){return void 0===e&&(e=!0),this._pushLine(),0===this.lines.length?null:(3===this.type&&e&&u.simplify(this.tileSize,this.margin*this.finalRatio,this.lines),this.lines)},e.prototype.resultWithStarts=function(){if(2!==this.type)throw new Error("Only valid for lines");this._pushLine();var e=this.lines,t=e.length;if(0===t)return null;for(var r=[],i=0;i<t;i++)r.push({line:e[i],start:this.starts[i]||0});return r},e.prototype._isIn=function(e,t){return e>=this.xmin&&e<=this.xmax&&t>=this.ymin&&t<=this.ymax},e.prototype._intersect=function(e,t){var r,n,o;if(t.x>=this.xmin&&t.x<=this.xmax)o=((n=t.y<=this.ymin?this.ymin:this.ymax)-e.y)/(t.y-e.y),r=e.x+o*(t.x-e.x);else if(t.y>=this.ymin&&t.y<=this.ymax)o=((r=t.x<=this.xmin?this.xmin:this.xmax)-e.x)/(t.x-e.x),n=e.y+o*(t.y-e.y);else{n=t.y<=this.ymin?this.ymin:this.ymax;var s=((r=t.x<=this.xmin?this.xmin:this.xmax)-e.x)/(t.x-e.x),a=(n-e.y)/(t.y-e.y);s<a?(o=s,n=e.y+s*(t.y-e.y)):(o=a,r=e.x+a*(t.x-e.x))}return this._r=o,new i.Point(r,n)},e.prototype._pushLine=function(){this.line&&(1===this.type?this.line.length>0&&(this.lines.push(this.line),this.starts.push(this.start)):2===this.type?this.line.length>1&&(this.lines.push(this.line),this.starts.push(this.start)):3===this.type&&this.line.length>3&&(this.lines.push(this.line),this.starts.push(this.start))),this.line=[],this.start=0},e.prototype._moveTo=function(e,t,r){3!==this.type?r&&(e=Math.round((e-(this.xmin+this.margin))*this.finalRatio),t=Math.round((t-(this.ymin+this.margin))*this.finalRatio),this.line.push(new i.Point(e,t))):(r||(e<this.xmin&&(e=this.xmin),e>this.xmax&&(e=this.xmax),t<this.ymin&&(t=this.ymin),t>this.ymax&&(t=this.ymax)),e=Math.round((e-(this.xmin+this.margin))*this.finalRatio),t=Math.round((t-(this.ymin+this.margin))*this.finalRatio),this.line.push(new i.Point(e,t)),this._is_h=!1,this._is_v=!1)},e.prototype._lineTo=function(e,t,r){var n,o;if(3!==this.type)if(r){if(e=Math.round((e-(this.xmin+this.margin))*this.finalRatio),t=Math.round((t-(this.ymin+this.margin))*this.finalRatio),this.line.length>0&&(n=this.line[this.line.length-1]).equals(e,t))return;this.line.push(new i.Point(e,t))}else this.line&&this.line.length>0&&this._pushLine();else if(r||(e<this.xmin&&(e=this.xmin),e>this.xmax&&(e=this.xmax),t<this.ymin&&(t=this.ymin),t>this.ymax&&(t=this.ymax)),e=Math.round((e-(this.xmin+this.margin))*this.finalRatio),t=Math.round((t-(this.ymin+this.margin))*this.finalRatio),this.line&&this.line.length>0){var s=(n=this.line[this.line.length-1]).x===e,a=n.y===t;if(s&&a)return;this._is_h&&s||this._is_v&&a?(n.x=e,n.y=t,(o=this.line[this.line.length-2]).x===e&&o.y===t?(this.line.pop(),this.line.length<=1?(this._is_h=!1,this._is_v=!1):(o=this.line[this.line.length-2],this._is_h=o.x===e,this._is_v=o.y===t)):(this._is_h=o.x===e,this._is_v=o.y===t)):(this.line.push(new i.Point(e,t)),this._is_h=s,this._is_v=a)}else this.line.push(new i.Point(e,t))},e}();t.TileClipper=s;var a=function(){function e(){}return e.prototype.setExtent=function(e){this._ratio=4096===e?1:4096/e},e.prototype.reset=function(e){this.type=e,this.lines=[],this.line=null},e.prototype.moveTo=function(e,t){this.line&&this.lines.push(this.line),this.line=[];var r=this._ratio;this.line.push(new i.Point(Math.round(e*r),Math.round(t*r)))},e.prototype.lineTo=function(e,t){var r=this._ratio;this.line.push(new i.Point(Math.round(e*r),Math.round(t*r)))},e.prototype.close=function(){var e=this.line;e&&!e[0].isEqual(e[e.length-1])&&e.push(e[0])},e.prototype.result=function(){return this.line&&this.lines.push(this.line),0===this.lines.length?null:(3===this.type&&1!==this._ratio&&u.simplify(4096,64,this.lines),this.lines)},e}();t.SimpleBuilder=a;var u=function(){function e(){}return e.simplify=function(t,r,i){if(i){for(var n=-r,o=t+r,s=-r,a=t+r,u=[],l=[],h=i.length,c=0;c<h;++c){var x=i[c];if(x&&!(x.length<2))for(var f=x[0],p=void 0,d=x.length,y=1;y<d;++y)p=x[y],f.x===p.x&&(f.x<=n&&(f.y>p.y?(u.push(c),u.push(y),u.push(0),u.push(-1)):(l.push(c),l.push(y),l.push(0),l.push(-1))),f.x>=o&&(f.y<p.y?(u.push(c),u.push(y),u.push(1),u.push(-1)):(l.push(c),l.push(y),l.push(1),l.push(-1)))),f.y===p.y&&(f.y<=s&&(f.x<p.x?(u.push(c),u.push(y),u.push(2),u.push(-1)):(l.push(c),l.push(y),l.push(2),l.push(-1))),f.y>=a&&(f.x>p.x?(u.push(c),u.push(y),u.push(3),u.push(-1)):(l.push(c),l.push(y),l.push(3),l.push(-1)))),f=p}if(0!==u.length&&0!==l.length){e.fillParent(i,l,u),e.fillParent(i,u,l);var v=[];e.calcDeltas(v,l,u),e.calcDeltas(v,u,l),e.addDeltas(v,i)}}},e.fillParent=function(e,t,r){for(var i=r.length,o=t.length,s=0;s<o;s+=4){for(var a=t[s],u=t[s+1],l=t[s+2],h=e[a][u-1],c=e[a][u],x=8092,f=-1,p=0;p<i;p+=4)if(r[p+2]===l){var d=r[p],y=r[p+1],v=e[d][y-1],_=e[d][y];switch(l){case 0:case 1:n.between(h.y,v.y,_.y)&&n.between(c.y,v.y,_.y)&&(g=Math.abs(_.y-v.y))<x&&(x=g,f=p);break;case 2:case 3:var g;n.between(h.x,v.x,_.x)&&n.between(c.x,v.x,_.x)&&(g=Math.abs(_.x-v.x))<x&&(x=g,f=p)}}t[s+3]=f}},e.calcDeltas=function(t,r,i){for(var n=r.length,o=0;o<n;o+=4){var s=e.calcDelta(o,r,i,[]);t.push(r[o]),t.push(r[o+1]),t.push(r[o+2]),t.push(s)}},e.calcDelta=function(t,r,i,n){var o=r[t+3];if(-1===o)return 0;var s=n.length;return s>1&&n[s-2]===o?0:(n.push(o),e.calcDelta(o,i,r,n)+1)},e.addDeltas=function(e,t){for(var r=e.length,i=0,n=0;n<r;n+=4)(a=e[n+3])>i&&(i=a);for(n=0;n<r;n+=4){var o=t[e[n]],s=e[n+1],a=i-e[n+3];switch(e[n+2]){case 0:o[s-1].x-=a,o[s].x-=a,1===s&&(o[o.length-1].x-=a),s===o.length-1&&(o[0].x-=a);break;case 1:o[s-1].x+=a,o[s].x+=a,1===s&&(o[o.length-1].x+=a),s===o.length-1&&(o[0].x+=a);break;case 2:o[s-1].y-=a,o[s].y-=a,1===s&&(o[o.length-1].y-=a),s===o.length-1&&(o[0].y-=a);break;case 3:o[s-1].y+=a,o[s].y+=a,1===s&&(o[o.length-1].y+=a),s===o.length-1&&(o[0].y+=a)}}},e}()}.apply(null,i))||(e.exports=n)},852:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.x=e,this.y=t}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.equals=function(e,t){return e===this.x&&t===this.y},e.prototype.isEqual=function(e){return e.x===this.x&&e.y===this.y},e.prototype.setCoords=function(e,t){this.x=e,this.y=t},e.prototype.normalize=function(){var e=this.x,t=this.y,r=Math.sqrt(e*e+t*t);this.x/=r,this.y/=r},e.prototype.rightPerpendicular=function(){var e=this.x;this.x=this.y,this.y=-e},e.prototype.move=function(e,t){this.x+=e,this.y+=t},e.prototype.assign=function(e){this.x=e.x,this.y=e.y},e.prototype.assignAdd=function(e,t){this.x=e.x+t.x,this.y=e.y+t.y},e.prototype.assignSub=function(e,t){this.x=e.x-t.x,this.y=e.y-t.y},e.prototype.rotate=function(e,t){var r=this.x,i=this.y;this.x=r*e-i*t,this.y=r*t+i*e},e.prototype.scale=function(e){this.x*=e,this.y*=e},e.prototype.length=function(){var e=this.x,t=this.y;return Math.sqrt(e*e+t*t)},e.distance=function(e,t){var r=t.x-e.x,i=t.y-e.y;return Math.sqrt(r*r+i*i)},e.add=function(t,r){return new e(t.x+r.x,t.y+r.y)},e.sub=function(t,r){return new e(t.x-r.x,t.y-r.y)},e}();t.Point=r}.apply(null,i))||(e.exports=n)},854:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){function r(e,t,r,i,n){var o;if(n===f(e,t,r,i)>0)for(var s=t;s<r;s+=i)o=a(s,e[s],e[s+1],o);else for(s=r-i;s>=t;s-=i)o=a(s,e[s],e[s+1],o);return o&&v(o,o.next)&&(u(o),o=o.next),o}function i(e,t){if(void 0===t&&(t=e),!e)return e;var r,i=e;do{if(r=!1,i.steiner||!v(i,i.next)&&0!==c(i.prev,i,i.next))i=i.next;else{if(u(i),(i=t=i.prev)===i.next)break;r=!0}}while(r||i!==t);return t}function n(e,t,r,a,l,h,c){if(void 0===c&&(c=0),e){!c&&h&&(e=function e(t,r,i,n){for(var o=void 0;o!==t;o=o.next){if(null===(o=o||t).z&&(o.z=y(o.x,o.y,r,i,n)),o.prev.next!==o||o.next.prev!==o)return o.prev.next=o,o.next.prev=o,e(t,r,i,n);o.prevZ=o.prev,o.nextZ=o.next}return t.prevZ.nextZ=null,t.prevZ=null,function(e){for(var t,r=1;;){var i=e,n=void 0;e=null,t=null;for(var o=0;i;){o++,n=i;for(var s=0;s<r&&n;s++)n=n.nextZ;for(var a=r;s>0||a>0&&n;){var u=void 0;0===s?(u=n,n=n.nextZ,a--):0!==a&&n?i.z<=n.z?(u=i,i=i.nextZ,s--):(u=n,n=n.nextZ,a--):(u=i,i=i.nextZ,s--),t?t.nextZ=u:e=u,u.prevZ=t,t=u}i=n}if(t.nextZ=null,r*=2,o<2)return e}}(t)}(e,a,l,h));for(var x=e;e.prev!==e.next;){var f=e.prev,p=e.next;if(h?s(e,a,l,h):o(e))t.push(f.index/r),t.push(e.index/r),t.push(p.index/r),u(e),e=p.next,x=p.next;else if((e=p)===x){c?1===c?n(e=g(e,t,r),t,r,a,l,h,2):2===c&&m(e,t,r,a,l,h):n(i(e),t,r,a,l,h,1);break}}}}function o(e){var t=e.prev,r=e,i=e.next;if(c(t,r,i)>=0)return!1;for(var n=e.next.next,o=n,s=0;n!==e.prev&&(0===s||n!==o);){if(s++,p(t.x,t.y,r.x,r.y,i.x,i.y,n.x,n.y)&&c(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function s(e,t,r,i){var n=e.prev,o=e,s=e.next;if(c(n,o,s)>=0)return!1;for(var a=n.x<o.x?n.x<s.x?n.x:s.x:o.x<s.x?o.x:s.x,u=n.y<o.y?n.y<s.y?n.y:s.y:o.y<s.y?o.y:s.y,l=n.x>o.x?n.x>s.x?n.x:s.x:o.x>s.x?o.x:s.x,h=n.y>o.y?n.y>s.y?n.y:s.y:o.y>s.y?o.y:s.y,x=y(a,u,t,r,i),f=y(l,h,t,r,i),d=e.prevZ,v=e.nextZ;d&&d.z>=x&&v&&v.z<=f;){if(d!==e.prev&&d!==e.next&&p(n.x,n.y,o.x,o.y,s.x,s.y,d.x,d.y)&&c(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,v!==e.prev&&v!==e.next&&p(n.x,n.y,o.x,o.y,s.x,s.y,v.x,v.y)&&c(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;d&&d.z>=x;){if(d!==e.prev&&d!==e.next&&p(n.x,n.y,o.x,o.y,s.x,s.y,d.x,d.y)&&c(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;v&&v.z<=f;){if(v!==e.prev&&v!==e.next&&p(n.x,n.y,o.x,o.y,s.x,s.y,v.x,v.y)&&c(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function a(e,t,r,i){var n=new V(e,t,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function u(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function l(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function h(e,t){if(t=function(e,t){var r,i=t,n=e.x,o=e.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=n&&a>s){if(s=a,a===n){if(o===i.y)return i;if(o===i.next.y)return i.next}r=i.x<i.next.x?i:i.next}}i=i.next}while(i!==t);if(!r)return null;if(n===s)return r.prev;var u,l=r,h=r.x,c=r.y,x=1/0;for(i=r.next;i!==l;)n>=i.x&&i.x>=h&&n!==i.x&&p(o<c?n:s,o,h,c,o<c?s:n,o,i.x,i.y)&&((u=Math.abs(o-i.y)/(n-i.x))<x||u===x&&i.x>r.x)&&d(i,e)&&(r=i,x=u),i=i.next;return r}(e,t)){var r=b(t,e);i(r,r.next)}}function c(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function x(e,t,r,i){return!!(v(e,t)&&v(r,i)||v(e,i)&&v(r,t))||c(e,t,r)>0!=c(e,t,i)>0&&c(r,i,e)>0!=c(r,i,t)>0}function f(e,t,r,i){for(var n=0,o=t,s=r-i;o<r;o+=i)n+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return n}function p(e,t,r,i,n,o,s,a){return(n-s)*(t-a)-(e-s)*(o-a)>=0&&(e-s)*(i-a)-(r-s)*(t-a)>=0&&(r-s)*(o-a)-(n-s)*(i-a)>=0}function d(e,t){return c(e.prev,e,e.next)<0?c(e,t,e.next)>=0&&c(e,e.prev,t)>=0:c(e,t,e.prev)<0||c(e,e.next,t)<0}function y(e,t,r,i,n){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function v(e,t){return e.x===t.x&&e.y===t.y}function _(e,t){return e.x-t.x}function g(e,t,r){var i=e;do{var n=i.prev,o=i.next.next;!v(n,o)&&x(n,i,i.next,o)&&d(n,o)&&d(o,n)&&(t.push(n.index/r),t.push(i.index/r),t.push(o.index/r),u(i),u(i.next),i=e=o),i=i.next}while(i!==e);return i}function m(e,t,r,o,s,a){var u=e;do{for(var l=u.next.next;l!==u.prev;){if(u.index!==l.index&&B(u,l)){var h=b(u,l);return u=i(u,u.next),h=i(h,h.next),n(u,t,r,o,s,a),void n(h,t,r,o,s,a)}l=l.next}u=u.next}while(u!==e)}function B(e,t){return e.next.index!==t.index&&e.prev.index!==t.index&&!function(e,t){var r=e;do{if(r.index!==e.index&&r.next.index!==e.index&&r.index!==t.index&&r.next.index!==t.index&&x(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&d(e,t)&&d(t,e)&&function(e,t){var r=e,i=!1,n=(e.x+t.x)/2,o=(e.y+t.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&n<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next}while(r!==e);return i}(e,t)}function b(e,t){var r=new V(e.index,e.x,e.y),i=new V(t.index,t.x,t.y),n=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=n,n.prev=r,i.next=r,r.prev=i,o.next=i,i.prev=o,i}Object.defineProperty(t,"__esModule",{value:!0}),t.earcut=function(e,t,o){var s,a,u,c,x,f=t&&t.length,p=f?t[0]*o:e.length,d=r(e,0,p,o,!0),y=new Array;if(!d||d.next===d.prev)return y;if(f&&(d=function(e,t,n,o){for(var s=new Array,a=0,u=t.length;a<u;a++){var c=r(e,t[a]*o,a<u-1?t[a+1]*o:e.length,o,!1);c===c.next&&(c.steiner=!0),s.push(l(c))}s.sort(_);for(var x=0,f=s;x<f.length;x++)h(f[x],n),n=i(n,n.next);return n}(e,t,d,o)),e.length>80*o){s=u=e[0],a=c=e[1];for(var v=o;v<p;v+=o){var g=e[v],m=e[v+1];s=Math.min(s,g),a=Math.min(a,m),u=Math.max(u,g),c=Math.max(c,m)}x=0!==(x=Math.max(u-s,c-a))?1/x:0}return n(d,y,o,s,a,x),y},t.deviation=function(e,t,r,i){var n=t&&t.length,o=n?t[0]*r:e.length,s=Math.abs(f(e,0,o,r));if(n)for(var a=0,u=t.length;a<u;a++){var l=t[a]*r,h=a<u-1?t[a+1]*r:e.length;s-=Math.abs(f(e,l,h,r))}var c=0;for(a=0;a<i.length;a+=3){var x=i[a]*r,p=i[a+1]*r,d=i[a+2]*r;c+=Math.abs((e[x]-e[d])*(e[p+1]-e[x+1])-(e[x]-e[p])*(e[d+1]-e[x+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)};var V=function(e,t,r){this.index=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}}.apply(null,i))||(e.exports=n)},855:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(237),r(822)],void 0===(n=function(e,t,r,i){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){this.closed=void 0,this.isFirstVertex=void 0,this.isLastVertex=void 0,this.isCap=void 0,this.currentVertex={x:void 0,y:void 0},this.inbound={x:void 0,y:void 0},this.outbound={x:void 0,y:void 0},this.prevNormal={x:void 0,y:void 0},this.nextNormal={x:void 0,y:void 0},this.bisector={x:void 0,y:void 0},this.leftInner={x:void 0,y:void 0},this.rightInner={x:void 0,y:void 0},this.leftOuter={x:void 0,y:void 0},this.rightOuter={x:void 0,y:void 0}};function s(){if(d.cosine<f.innerBisectorAutoSplitThreshold){d.splitInner=!0,d.gapInner=!0;var e=Math.max(f.innerBisectorAutoSplitThreshold,d.cosine),t=Math.sqrt(1-e*e)/e;d.leftInner.x=d.nextNormal.x+d.sign*t*d.outbound.x,d.leftInner.y=d.nextNormal.y+d.sign*t*d.outbound.y,d.rightInner.x=d.prevNormal.x-d.sign*t*d.inbound.x,d.rightInner.y=d.prevNormal.y-d.sign*t*d.inbound.y}else f.enableInnerBisectorSplit&&(d.splitInner=!0,d.gapInner=!1,d.leftInner.x=d.rightInner.x=d.bisector.x/d.cosine,d.leftInner.y=d.rightInner.y=d.bisector.y/d.cosine);d.cosine<f.outerBisectorAutoSplitThreshold?(d.splitOuter=!0,d.gapOuter=!0,e=Math.max(f.outerBisectorAutoSplitThreshold,d.cosine),t=Math.sqrt(1-e*e)/e,d.leftOuter.x=d.prevNormal.x-d.sign*t*d.inbound.x,d.leftOuter.y=d.prevNormal.y-d.sign*t*d.inbound.y,d.rightOuter.x=d.nextNormal.x+d.sign*t*d.outbound.x,d.rightOuter.y=d.nextNormal.y+d.sign*t*d.outbound.y):f.enableOuterBisectorSplit&&(d.splitOuter=!0,d.gapOuter=!1,d.leftOuter.x=d.rightOuter.x=d.bisector.x/d.cosine,d.leftOuter.y=d.rightOuter.y=d.bisector.y/d.cosine)}t.TessellationState=o,t.tessellate=function(e,t,r){f.trackDistance=null!=t.trackDistance&&t.trackDistance,f.wrapDistance=null!=t.wrapDistance?t.wrapDistance:65535,f.thin=null!=t.thin&&t.thin,f.initialDistance=null!=t.initialDistance?t.initialDistance:0,f.enableOuterBisectorSplit=null!=t.enableOuterBisectorSplit&&t.enableOuterBisectorSplit,f.outerBisectorAutoSplitThreshold=null!=t.outerBisectorAutoSplitThreshold?t.outerBisectorAutoSplitThreshold:0,f.enableInnerBisectorSplit=null!=t.enableOuterBisectorSplit&&t.enableOuterBisectorSplit,f.innerBisectorAutoSplitThreshold=null!=t.innerBisectorAutoSplitThreshold?t.innerBisectorAutoSplitThreshold:0,n=e,a=r,p=0,u=0,l=0,h=!1,c=null,x=null,d.currentVertex.x=null,d.currentVertex.y=null,d.distance=f.initialDistance;var i=n[0],o=n[n.length-1];d.canSplit=!1,d.closed=i.x===o.x&&i.y===o.y,n.length<2||2===n.length&&d.closed||(f.thin?f.trackDistance?function(){for(y(),v(),m(1);u-l>f.wrapDistance||p<n.length;)y(),v(),m(2),a.bridge(d),d.leftExit0=d.rightExit0,d.leftExit2=d.rightExit2}():function(){for(;p<n.length;){if(p>0&&(d.inbound.x=d.outbound.x,d.inbound.y=d.outbound.y),p<n.length-1){d.outbound.x=n[p+1].x-n[p].x,d.outbound.y=n[p+1].y-n[p].y;var e=Math.sqrt(d.outbound.x*d.outbound.x+d.outbound.y*d.outbound.y);d.distance+=e,d.outbound.x/=e,d.outbound.y/=e}else d.outbound.x=d.inbound.x,d.outbound.y=d.inbound.y;0===p&&(d.inbound.x=d.outbound.x,d.inbound.y=d.outbound.y),d.currentVertex.x=n[p].x,d.currentVertex.y=n[p].y,d.prevNormal.x=-d.inbound.y,d.prevNormal.y=d.inbound.x,d.nextNormal.x=-d.outbound.y,d.nextNormal.y=d.outbound.x,0===p?(a.vertex(d),d.leftEntry0=d.entry0,d.leftEntry2=d.entry2,d.leftExit0=d.exit0,d.leftExit2=d.exit2):(a.vertex(d),d.rightEntry0=d.entry0,d.rightEntry2=d.entry2,d.rightExit0=d.exit0,d.rightExit2=d.exit2,a.bridge(d),d.leftExit0=d.rightExit0,d.leftExit2=d.rightExit2),++p}}():f.enableOuterBisectorSplit||f.outerBisectorAutoSplitThreshold>0||f.enableInnerBisectorSplit||f.innerBisectorAutoSplitThreshold>0?(d.canSplit=!0,function(){for(y(),_(),d.splitInner=d.gapInner=d.splitOuter=d.gapOuter=!1,g(1),d.closure0=d.leftEntry0,d.closure1=d.leftEntry1,d.closure2=d.leftEntry2;u-l>f.wrapDistance||p<n.length-1||p<n.length&&(!d.closed||f.trackDistance);)y(),_(),d.splitInner=d.gapInner=d.splitOuter=d.gapOuter=!1,g(2),a.bridge(d),d.leftExit0=d.rightExit0,d.leftExit1=d.rightExit1,d.leftExit2=d.rightExit2;d.closed&&!f.trackDistance&&(d.rightEntry0=d.closure0,d.rightEntry1=d.closure1,d.rightEntry2=d.closure2,a.bridge(d),d.leftExit0=d.rightExit0,d.leftExit1=d.rightExit1,d.leftExit2=d.rightExit2)}()):function(){for(y(),_(),g(1),d.closure0=d.leftEntry0,d.closure1=d.leftEntry1,d.closure2=d.leftEntry2;u-l>f.wrapDistance||p<n.length-1||p<n.length&&(!d.closed||f.trackDistance);)y(),_(),g(2),a.bridge(d),d.leftExit0=d.rightExit0,d.leftExit1=d.rightExit1,d.leftExit2=d.rightExit2;d.closed&&!f.trackDistance&&(d.rightEntry0=d.closure0,d.rightEntry1=d.closure1,d.rightEntry2=d.closure2,a.bridge(d),d.leftExit0=d.rightExit0,d.leftExit1=d.rightExit1,d.leftExit2=d.rightExit2)}())},t.cleanup=function(){n=null,a=null},t.splitVertex=s;var a,u,l,h,c,x,f={},p=void 0,d=new o;function y(){if(h)return d.distance=0,d.isCap=d.isFirstVertex=d.isLastVertex=!1,void(h=!1);if(0===u)if(d.isFirstVertex=0===p,x=n[p],0===p){if(u=0,d.closed){d.inbound.x=x.x-n[n.length-2].x,d.inbound.y=x.y-n[n.length-2].y;var e=Math.sqrt(d.inbound.x*d.inbound.x+d.inbound.y*d.inbound.y);d.inbound.x/=e,d.inbound.y/=e}}else d.inbound.x=x.x-c.x,d.inbound.y=x.y-c.y,u=Math.sqrt(d.inbound.x*d.inbound.x+d.inbound.y*d.inbound.y),d.inbound.x/=u,d.inbound.y/=u;if(d.distance+u-l<=f.wrapDistance){if(p<n.length-1){d.outbound.x=n[p+1].x-x.x,d.outbound.y=n[p+1].y-x.y;var t=Math.sqrt(d.outbound.x*d.outbound.x+d.outbound.y*d.outbound.y);d.outbound.x/=t,d.outbound.y/=t}else d.closed?(d.outbound.x=n[1].x-x.x,d.outbound.y=n[1].y-x.y,t=Math.sqrt(d.outbound.x*d.outbound.x+d.outbound.y*d.outbound.y),d.outbound.x/=t,d.outbound.y/=t):(d.outbound.x=d.inbound.x,d.outbound.y=d.inbound.y);return 0!==p||d.closed||(d.inbound.x=d.outbound.x,d.inbound.y=d.outbound.y),++p,d.isLastVertex=p===n.length,d.isCap=!d.closed&&(d.isFirstVertex||d.isLastVertex),d.distance+=u-l,u=0,l=0,h=d.distance+u-l===f.wrapDistance,d.currentVertex.x=x.x,d.currentVertex.y=x.y,c=x,void(x=null)}d.outbound.x=d.inbound.x,d.outbound.y=d.inbound.y,l+=f.wrapDistance-d.distance,d.distance=f.wrapDistance,h=!0;var r=l/u;d.currentVertex.x=(1-r)*c.x+r*x.x,d.currentVertex.y=(1-r)*c.y+r*x.y}function v(){d.prevNormal.x=-d.inbound.y,d.prevNormal.y=d.inbound.x,d.nextNormal.x=-d.outbound.y,d.nextNormal.y=d.outbound.x}function _(){v(),d.bisector.x=d.prevNormal.x+d.nextNormal.x,d.bisector.y=d.prevNormal.y+d.nextNormal.y;var e=Math.sqrt(d.bisector.x*d.bisector.x+d.bisector.y*d.bisector.y);if(e<.001)return d.bisector.x=void 0,d.bisector.y=void 0,d.cosine=0,void(d.sign=void 0);d.bisector.x/=e,d.bisector.y/=e,d.cosine=d.bisector.x*d.nextNormal.x+d.bisector.y*d.nextNormal.y,d.sign=d.prevNormal.x*d.nextNormal.y-d.prevNormal.y*d.nextNormal.x>=0?1:-1}function g(e){a.vertex(d),1===e?(d.leftEntry0=d.entry0,d.leftEntry1=d.entry1,d.leftEntry2=d.entry2,d.leftExit0=d.exit0,d.leftExit1=d.exit1,d.leftExit2=d.exit2):2===e&&(d.rightEntry0=d.entry0,d.rightEntry1=d.entry1,d.rightEntry2=d.entry2,d.rightExit0=d.exit0,d.rightExit1=d.exit1,d.rightExit2=d.exit2)}function m(e){a.vertex(d),1===e?(d.leftEntry0=d.entry0,d.leftEntry2=d.entry2,d.leftExit0=d.exit0,d.leftExit2=d.exit2):2===e&&(d.rightEntry0=d.entry0,d.rightEntry2=d.entry2,d.rightExit0=d.exit0,d.rightExit2=d.exit2)}var B=function(){function e(e,t){this.writeVertex=e,this.writeTriangle=t,this.capType=r.CapType.BUTT,this.joinType=r.JoinType.MITER,this.miterLimitCosine=i.getLimitCosine(2),this.roundLimitCosine=Math.cos(23*Math.PI/180),this.almostParallelCosine=.97,this.radsPerSlice=.8,this.textured=!1,this.joinOnUTurn=!1}return e.prototype.vertex=function(e){var t=this.joinType===r.JoinType.MITER?this.miterLimitCosine:this.roundLimitCosine,i=e.isCap&&this.capType!==r.CapType.BUTT,n=!1;e.cosine>this.almostParallelCosine?(e.exit0=e.entry0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,e.bisector.x/e.cosine,e.bisector.y/e.cosine,0,-1,e.distance),e.exit2=e.entry2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.bisector.x/e.cosine,-e.bisector.y/e.cosine,0,1,e.distance)):e.cosine<1-this.almostParallelCosine?(n=!e.isCap&&this.joinOnUTurn,e.entry0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,e.prevNormal.x,e.prevNormal.y,0,-1,e.distance),e.entry2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.prevNormal.x,-e.prevNormal.y,0,1,e.distance),e.exit0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,e.nextNormal.x,e.nextNormal.y,0,-1,e.distance),e.exit2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.nextNormal.x,-e.nextNormal.y,0,1,e.distance)):e.canSplit?(s(),e.sign>0?(e.splitInner?(e.exit0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,e.outbound.x,e.outbound.y,e.leftInner.x,e.leftInner.y,0,-1,e.distance),e.entry0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,e.inbound.x,e.inbound.y,e.rightInner.x,e.rightInner.y,0,-1,e.distance)):e.exit0=e.entry0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,e.inbound.x,e.inbound.y,e.bisector.x/e.cosine,e.bisector.y/e.cosine,0,-1,e.distance),e.cosine<t?(n=!e.isCap,e.entry2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.prevNormal.x,-e.prevNormal.y,0,1,e.distance),e.exit2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.nextNormal.x,-e.nextNormal.y,0,1,e.distance)):e.splitOuter?(n=n||e.gapOuter,e.entry2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,e.inbound.x,e.inbound.y,-e.leftOuter.x,-e.leftOuter.y,0,1,e.distance),e.exit2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,e.outbound.x,e.outbound.y,-e.rightOuter.x,-e.rightOuter.y,0,1,e.distance)):e.entry2=e.exit2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.bisector.x/e.cosine,-e.bisector.y/e.cosine,0,1,e.distance)):(e.splitInner?(e.exit2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,e.outbound.x,e.outbound.y,-e.leftInner.x,-e.leftInner.y,0,1,e.distance),e.entry2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,e.inbound.x,e.inbound.y,-e.rightInner.x,-e.rightInner.y,0,1,e.distance)):e.exit2=e.entry2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.bisector.x/e.cosine,-e.bisector.y/e.cosine,0,1,e.distance),e.cosine<t?(n=!e.isCap,e.entry0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,e.prevNormal.x,e.prevNormal.y,0,-1,e.distance),e.exit0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,e.nextNormal.x,e.nextNormal.y,0,-1,e.distance)):e.splitOuter?(n=n||e.gapOuter,e.entry0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,e.inbound.x,e.inbound.y,e.leftOuter.x,e.leftOuter.y,0,-1,e.distance),e.exit0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,e.outbound.x,e.outbound.y,e.rightOuter.x,e.rightOuter.y,0,-1,e.distance)):e.exit0=e.entry0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,e.bisector.x/e.cosine,e.bisector.y/e.cosine,0,-1,e.distance))):e.sign>0?(e.exit0=e.entry0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,e.inbound.x,e.inbound.y,e.bisector.x/e.cosine,e.bisector.y/e.cosine,0,-1,e.distance),e.cosine<t?(n=!e.isCap,e.entry2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.prevNormal.x,-e.prevNormal.y,0,1,e.distance),e.exit2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.nextNormal.x,-e.nextNormal.y,0,1,e.distance)):e.entry2=e.exit2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.bisector.x/e.cosine,-e.bisector.y/e.cosine,0,1,e.distance)):(e.exit2=e.entry2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.bisector.x/e.cosine,-e.bisector.y/e.cosine,0,1,e.distance),e.cosine<t?(n=!e.isCap,e.entry0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,e.prevNormal.x,e.prevNormal.y,0,-1,e.distance),e.exit0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,e.nextNormal.x,e.nextNormal.y,0,-1,e.distance)):e.exit0=e.entry0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,e.bisector.x/e.cosine,e.bisector.y/e.cosine,0,-1,e.distance));var o,a=e.canSplit&&(e.splitInner||e.splitOuter);if(o=e.entry1=e.exit1=a||n||i?this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,0,0,0,0,e.distance):null,n&&this.joinType!==r.JoinType.ROUND)this.writeTriangle(o,e.sign>0?e.exit2:e.entry0,e.sign>0?e.entry2:e.exit0);else if(i&&this.capType===r.CapType.ROUND||n&&this.joinType===r.JoinType.ROUND){var u,l=void 0,h=void 0,c=void 0,x=void 0,f=void 0,p=void 0;e.isCap?(p=(u=Math.PI)/(f=Math.ceil(u/this.radsPerSlice)),e.isFirstVertex?(l=e.prevNormal.x,h=e.prevNormal.y,c=e.entry0,x=e.entry2):e.isLastVertex&&(l=-e.nextNormal.x,h=-e.nextNormal.y,c=e.exit2,x=e.exit0)):(p=(u=2*Math.acos(e.cosine))/(f=Math.ceil(u/this.radsPerSlice)),l=e.sign>0?-e.prevNormal.x:e.nextNormal.x,h=e.sign>0?-e.prevNormal.y:e.nextNormal.y,c=e.sign>0?e.entry2:e.exit0,x=e.sign>0?e.exit2:e.entry0);var d,y=Math.cos(p),v=Math.sin(p),_=v*l+y*h;l=y*l-v*h,h=_;for(var g=void 0,m=0;m<f;++m){if(d=g,m<f-1)if(e.isCap){var B=e.isFirstVertex?-1:1;g=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,l,h,B,0,e.distance)}else g=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,l,h,0,e.sign,e.distance);this.writeTriangle(0===m?c:d,o,m===f-1?x:g);var b=v*l+y*h;l=y*l-v*h,h=b}}else if(i&&this.capType===r.CapType.SQUARE){var V=e.isFirstVertex?1:-1,I=void 0,T=void 0;this.textured?(I=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,e.prevNormal.x-V*e.inbound.x,e.prevNormal.y-V*e.inbound.y,-V,-1,e.distance),T=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.prevNormal.x-V*e.inbound.x,-e.prevNormal.y-V*e.inbound.y,-V,1,e.distance)):(I=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,e.prevNormal.x-V*e.inbound.x,e.prevNormal.y-V*e.inbound.y,0,-1,e.distance),T=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.prevNormal.x-V*e.inbound.x,-e.prevNormal.y-V*e.inbound.y,0,1,e.distance)),V>0?(this.writeTriangle(o,e.entry2,T),this.writeTriangle(o,T,I),this.writeTriangle(o,I,e.entry0)):(this.writeTriangle(o,T,e.exit2),this.writeTriangle(o,I,T),this.writeTriangle(o,e.exit0,I))}},e.prototype.bridge=function(e){this.writeTriangle(e.leftExit0,e.rightEntry0,null!=e.leftExit1?e.leftExit1:e.leftExit2),this.writeTriangle(e.rightEntry0,null!=e.rightEntry1?e.rightEntry1:e.rightEntry2,null!=e.leftExit1?e.leftExit1:e.leftExit2),null!=e.leftExit1&&null!=e.rightEntry1?(this.writeTriangle(e.leftExit1,e.rightEntry1,e.leftExit2),this.writeTriangle(e.rightEntry1,e.rightEntry2,e.leftExit2)):null!=e.leftExit1?this.writeTriangle(e.leftExit1,e.rightEntry2,e.leftExit2):null!=e.rightEntry1&&this.writeTriangle(e.rightEntry1,e.rightEntry2,e.leftExit2)},e}();t.StandardTessellationCallbacks=B;var b=function(){function e(e,t){this.writeVertex=e,this.writeTriangle=t}return e.prototype.vertex=function(e){e.entry0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,e.prevNormal.x,e.prevNormal.y,0,-1,e.distance),e.entry2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.prevNormal.x,-e.prevNormal.y,0,1,e.distance),e.exit0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,e.nextNormal.x,e.nextNormal.y,0,-1,e.distance),e.exit2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.nextNormal.x,-e.nextNormal.y,0,1,e.distance)},e.prototype.bridge=function(e){this.writeTriangle(e.leftExit0,e.rightEntry0,e.leftExit2),this.writeTriangle(e.rightEntry0,e.rightEntry2,e.leftExit2)},e}();t.ThinTessellationCallbacks=b}.apply(null,i))||(e.exports=n)},900:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(13),r(50)],void 0===(n=function(e,t,r,i){var n=r("esri-text-decoder")?new TextDecoder("utf-8"):null,o=r("safari")||r("ios")?6:r("ff")?12:32;return function(){function e(e,t,r,i){void 0===r&&(r=0),void 0===i&&(i=e?e.byteLength:0),this._tag=0,this._dataType=99,this.init(e,t,r,i)}return e.prototype.init=function(e,t,r,i){this._data=e,this._dataView=t,this._pos=r,this._end=i},e.prototype.clone=function(){return new e(this._data,this._dataView,this._pos,this._end)},e.prototype.pos=function(){return this._pos},e.prototype.next=function(e){for(;;){if(this._pos===this._end)return!1;var t=this._decodeVarint();if(this._tag=t>>3,this._dataType=7&t,!e||e===this._tag)break;this.skip()}return!0},e.prototype.empty=function(){return this._pos>=this._end},e.prototype.tag=function(){return this._tag},e.prototype.getInt32=function(){return this._decodeVarint()},e.prototype.getInt64=function(){return this._decodeVarint()},e.prototype.getUInt32=function(){var e=4294967295;return e=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?e:(e=(e|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?e:(e=(e|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?e:(e=(e|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?e:(e=(e|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?e:void 0))))},e.prototype.getUInt64=function(){return this._decodeVarint()},e.prototype.getSInt32=function(){var e=this.getUInt32();return e>>>1^-(1&e)|0},e.prototype.getSInt64=function(){return this._decodeSVarint()},e.prototype.getBool=function(){var e=0!==this._data[this._pos];return this._skip(1),e},e.prototype.getEnum=function(){return this._decodeVarint()},e.prototype.getFixed64=function(){var e=this._dataView,t=this._pos,r=e.getUint32(t,!0)+4294967296*e.getUint32(t+4,!0);return this._skip(8),r},e.prototype.getSFixed64=function(){var e=this._dataView,t=this._pos,r=e.getUint32(t,!0)+4294967296*e.getInt32(t+4,!0);return this._skip(8),r},e.prototype.getDouble=function(){var e=this._dataView.getFloat64(this._pos,!0);return this._skip(8),e},e.prototype.getFixed32=function(){var e=this._dataView.getUint32(this._pos,!0);return this._skip(4),e},e.prototype.getSFixed32=function(){var e=this._dataView.getInt32(this._pos,!0);return this._skip(4),e},e.prototype.getFloat=function(){var e=this._dataView.getFloat32(this._pos,!0);return this._skip(4),e},e.prototype.getString=function(){var e=this._getLength(),t=this._pos,r=this._toString(this._data,t,t+e);return this._skip(e),r},e.prototype.getBytes=function(){var e=this._getLength(),t=this._pos,r=this._toBytes(this._data,t,t+e);return this._skip(e),r},e.prototype.processMessageWithArgs=function(e,t,r,i){var n=this.getMessage(),o=e(n,t,r,i);return n.release(),o},e.prototype.processMessage=function(e){var t=this.getMessage(),r=e(t);return t.release(),r},e.prototype.getMessage=function(){var t=this._getLength(),r=e.pool.acquire();return r.init(this._data,this._dataView,this._pos,this._pos+t),this._skip(t),r},e.prototype.release=function(){e.pool.release(this)},e.prototype.skip=function(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw new Error("Invalid data type!")}},e.prototype._skip=function(e){if(this._pos+e>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=e},e.prototype._decodeVarint=function(){var e,t=this._data,r=this._pos,i=0;if(this._end-r>=10)do{if(i|=127&(e=t[r++]),0==(128&e))break;if(i|=(127&(e=t[r++]))<<7,0==(128&e))break;if(i|=(127&(e=t[r++]))<<14,0==(128&e))break;if(i|=(127&(e=t[r++]))<<21,0==(128&e))break;if(i+=268435456*(127&(e=t[r++])),0==(128&e))break;if(i+=34359738368*(127&(e=t[r++])),0==(128&e))break;if(i+=4398046511104*(127&(e=t[r++])),0==(128&e))break;if(i+=562949953421312*(127&(e=t[r++])),0==(128&e))break;if(i+=72057594037927940*(127&(e=t[r++])),0==(128&e))break;if(i+=0x8000000000000000*(127&(e=t[r++])),0==(128&e))break;throw new Error("Varint too long!")}while(0);else{for(var n=1;r!==this._end&&0!=(128&(e=t[r]));)++r,i+=(127&e)*n,n*=128;if(r===this._end)throw new Error("Varint overrun!");++r,i+=e*n}return this._pos=r,i},e.prototype._decodeSVarint=function(){var e=this._decodeVarint();return e%2?-(e+1)/2:e/2},e.prototype._getLength=function(){if(2!==this._dataType)throw new Error("Not a delimited data type!");return this._decodeVarint()},e.prototype._toString=function(e,t,r){if((r=Math.min(this._end,r))-t>o&&n){var i=e.subarray(t,r);return n.decode(i)}for(var s="",a="",u=t;u<r;++u){var l=e[u];128&l?a+="%"+l.toString(16):(s+=decodeURIComponent(a)+String.fromCharCode(l),a="")}return a.length&&(s+=decodeURIComponent(a)),s},e.prototype._toBytes=function(e,t,r){return r=Math.min(this._end,r),new Uint8Array(e.buffer,t,r-t)},e.pool=new i(e,!1,(function(e){e._data=null,e._dataView=null})),e}()}.apply(null,i))||(e.exports=n)},908:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(909)],void 0===(n=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.inputFormat="ILYNN",this.outputFormat="VLNNN",this.sourceToTarget=[],this.targetToSource=[],this.levels=[]}return e.prototype.bidiTransform=function(e,t,i){if(this.sourceToTarget=[],this.targetToSource=[],!e)return"";if(function(e,t,r){V=[],T=[];for(var i=0;i<r;i++)e[i]=i,t[i]=i,V[i]=i}(this.sourceToTarget,this.targetToSource,e.length),!this.checkParameters(t,i))return e;t=this.inputFormat,i=this.outputFormat;var s,x=w,f=g(t.charAt(1)),p=g(i.charAt(1)),A=("I"===t.charAt(0)?"L":t.charAt(0))+f,E=("I"===i.charAt(0)?"L":i.charAt(0))+p,M=t.charAt(2)+i.charAt(2);x.defInFormat=A,x.defOutFormat=E,x.defSwap=M;var S=function e(t,r,i,s,u){var l=function(e,t,r){if(void 0===t.inFormat&&(t.inFormat=r.defInFormat),void 0===t.outFormat&&(t.outFormat=r.defOutFormat),void 0===t.swap&&(t.swap=r.defSwap),t.inFormat===t.outFormat)return t;var i,o=t.inFormat.substring(0,1),s=t.outFormat.substring(0,1),a=t.inFormat.substring(1,4),u=t.outFormat.substring(1,4);return"C"===a.charAt(0)&&(a="ltr"===(i=n(e))||"rtl"===i?i.toUpperCase():"L"===t.inFormat.charAt(2)?"LTR":"RTL",t.inFormat=o+a),"C"===u.charAt(0)&&("rtl"===(i=n(e))?u="RTL":"ltr"===i?u=(i=function(e){var t=e.split("");return t.reverse(),n(t.join(""))}(e)).toUpperCase():u="L"===t.outFormat.charAt(2)?"LTR":"RTL",t.outFormat=s+u),t}(t,{inFormat:r,outFormat:i,swap:s},u);if(l.inFormat===l.outFormat)return t;r=l.inFormat,i=l.outFormat,s=l.swap;var h=r.substring(0,1),c=r.substring(1,4),x=i.substring(0,1),f=i.substring(1,4);if(u.inFormat=r,u.outFormat=i,u.swap=s,"L"===h&&"VLTR"===i){if("LTR"===c)return u.dir=D,o(t,u);if("RTL"===c)return u.dir=N,o(t,u)}if("V"===h&&"V"===x)return u.dir="RTL"===c?N:D,a(t,u);if("L"===h&&"VRTL"===i)return"LTR"===c?(u.dir=D,t=o(t,u)):(u.dir=N,t=o(t,u)),a(t);if("VLTR"===r&&"LLTR"===i)return u.dir=D,o(t,u);if("V"===h&&"L"===x&&c!==f)return t=a(t),"RTL"===c?e(t,"LLTR","VLTR",s,u):e(t,"LRTL","VRTL",s,u);if("VRTL"===r&&"LRTL"===i)return e(t,"LRTL","VRTL",s,u);if("L"===h&&"L"===x){var p=u.swap;return u.swap=p.substr(0,1)+"N","RTL"===c?(u.dir=N,t=o(t,u),u.swap="N"+p.substr(1,2),u.dir=D,t=o(t,u)):(u.dir=D,t=o(t,u),u.swap="N"+p.substr(1,2),t=e(t,"VLTR","LRTL",u.swap,u)),t}return t}(e,A,E,M,x),P=!1;return"R"===i.charAt(1)?P=!0:"C"!==i.charAt(1)&&"D"!==i.charAt(1)||(P="rtl"===this.checkContextual(S)),this.sourceToTarget=V,this.targetToSource=function(e){for(var t=new Array(e.length),r=0;r<e.length;r++)t[e[r]]=r;return t}(this.sourceToTarget),I=this.targetToSource,s=t.charAt(3)===i.charAt(3)?S:"S"===i.charAt(3)?function(e,t,i){if(0===t.length)return"";void 0===e&&(e=!0),void 0===i&&(i=!0);var n=(t=String(t)).split(""),o=0,s=1,a=n.length;e||(o=n.length-1,s=-1,a=1);for(var x=function(e,t,i,n,o){for(var s=0,a=[],u=0,x=t;x*i<n;x+=i)if(l(e[x])||_(e[x])){if("ل"===e[x]&&c(e,x+i,i,n)){e[x]=B(e[x+i],0===s?r.LamAlefInialTableFE:r.LamAlefMedialTableFE),m(e,x+=i,i,n),o&&(a[u]=x,u++),s=0;continue}var f=e[x];1===s?e[x]=h(e,x+i,i,n)?y(e[x]):v(e[x],r.FinalForm):!0===h(e,x+i,i,n)?e[x]=v(e[x],r.InitialForm):e[x]=v(e[x],r.IsolatedForm),_(f)||(s=1),!0===d(f)&&(s=0)}else s=0;return a}(n,o,s,a,i),f="",p=0;p<n.length;p++)i&&u(x,x.length,p)>-1?(b(I,p,!e,-1),V.splice(p,1)):f+=n[p];return f}(P,S,!0):function(e,t,i){if(0===e.length)return"";void 0===i&&(i=!0),void 0===t&&(t=!0);for(var n="",o=(e=String(e)).split(""),s=0;s<e.length;s++){var a=!1;if(o[s]>="ﹰ"&&o[s]<"\ufeff"){var u=e.charCodeAt(s);o[s]>="ﻵ"&&o[s]<="ﻼ"?(t?(s>0&&i&&" "===o[s-1]?n=n.substring(0,n.length-1)+"ل":(n+="ل",a=!0),n+=r.AlefTable[(u-65269)/2]):(n+=r.AlefTable[(u-65269)/2],n+="ل",s+1<e.length&&i&&" "===o[s+1]?s++:a=!0),a&&(b(I,s,!0,1),V.splice(s,0,V[s]))):n+=r.FETo06Table[u-65136]}else n+=o[s]}return n}(S,P,!0),this.sourceToTarget=V,this.targetToSource=I,this.levels=T,s},e.prototype._inputFormatSetter=function(e){if(!M.test(e))throw new Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=e},e.prototype._outputFormatSetter=function(e){if(!M.test(e))throw new Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=e},e.prototype.checkParameters=function(e,t){return e?this._inputFormatSetter(e):e=this.inputFormat,t?this._outputFormatSetter(t):t=this.outputFormat,e!==t},e.prototype.checkContextual=function(e){var t=n(e);if("ltr"!==t&&"rtl"!==t){try{t=document.dir.toLowerCase()}catch(e){}"ltr"!==t&&"rtl"!==t&&(t="ltr")}return t},e.prototype.hasBidiChar=function(e){return S.test(e)},e}();function n(e){var t=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(e);return t?t[0]<="z"?"ltr":"rtl":""}function o(e,t){var r=e.split(""),i=[];return s(r,i,t),function(e,t,r){if(0!==r.hiLevel&&r.swap.substr(0,1)!==r.swap.substr(1,2))for(var i=0;i<e.length;i++)1===t[i]&&(e[i]=p(e[i]))}(r,i,t),x(2,r,i,t),x(1,r,i,t),T=i,r.join("")}function s(e,t,i){var n,o,s=e.length,a=i.dir?r.impTabRtl:r.impTabLtr,u=null,l=null,h=null,c=0,x=null,p=-1,d=null,y=null,v=[],_=[];for(i.hiLevel=i.dir,i.lastArabic=!1,i.hasUbatAl=!1,i.hasUbatB=!1,i.hasUbatS=!1,d=0;d<s;d++)v[d]=(void 0,void 0,n=e[d].charCodeAt(0),(o=r.MasterTable[n>>8])<r.TBBASE?o:r.UnicodeTable[o-r.TBBASE][255&n]);for(y=0;y<s;y++){if(u=c,_[y]=l=f(e,v,_,y,i),x=240&(c=a[u][l]),c&=15,t[y]=h=a[c][A],x>0)if(16===x){for(d=p;d<y;d++)t[d]=1;p=-1}else p=-1;if(a[c][E])-1===p&&(p=y);else if(p>-1){for(d=p;d<y;d++)t[d]=h;p=-1}v[y]===r.UBAT_B&&(t[y]=0),i.hiLevel|=h}i.hasUbatS&&function(e,t,i,n){for(var o=0;o<i;o++)if(e[o]===r.UBAT_S){t[o]=n.dir;for(var s=o-1;s>=0&&e[s]===r.UBAT_WS;s--)t[s]=n.dir}}(v,t,s,i)}function a(e,t){var r=e.split("");if(t){var i=[];s(r,i,t),T=i}return r.reverse(),V.reverse(),r.join("")}function u(e,t,r){for(var i=0;i<t;i++)if(e[i]===r)return i;return-1}function l(e){for(var t=0;t<r.ArabicAlefBetIntervalsBegine.length;t++)if(e>=r.ArabicAlefBetIntervalsBegine[t]&&e<=r.ArabicAlefBetIntervalsEnd[t])return!0;return!1}function h(e,t,r,i){for(;t*r<i&&_(e[t]);)t+=r;return!!(t*r<i&&l(e[t]))}function c(e,t,i,n){for(;t*i<n&&_(e[t]);)t+=i;var o;if(!(t*i<n))return!1;o=e[t];for(var s=0;s<r.AlefTable.length;s++)if(r.AlefTable[s]===o)return!0;return!1}function x(e,t,r,i){if(!(i.hiLevel<e)){if(1===e&&i.dir===N&&!i.hasUbatB)return t.reverse(),void V.reverse();for(var n,o,s,a,u,l=t.length,h=0;h<l;){if(r[h]>=e){for(n=h+1;n<l&&r[n]>=e;)n++;for(o=h,s=n-1;o<s;o++,s--)a=t[o],t[o]=t[s],t[s]=a,u=V[o],V[o]=V[s],V[s]=u;h=n}h++}}}function f(e,t,i,n,o){var s=t[n];return{UBAT_L:function(){return o.lastArabic=!1,r.UBAT_L},UBAT_R:function(){return o.lastArabic=!1,r.UBAT_R},UBAT_ON:function(){return r.UBAT_ON},UBAT_AN:function(){return r.UBAT_AN},UBAT_EN:function(){return o.lastArabic?r.UBAT_AN:r.UBAT_EN},UBAT_AL:function(){return o.lastArabic=!0,o.hasUbatAl=!0,r.UBAT_R},UBAT_WS:function(){return r.UBAT_ON},UBAT_CS:function(){var e,s;return n<1||n+1>=t.length||(e=i[n-1])!==r.UBAT_EN&&e!==r.UBAT_AN||(s=t[n+1])!==r.UBAT_EN&&s!==r.UBAT_AN?r.UBAT_ON:(o.lastArabic&&(s=r.UBAT_AN),s===e?s:r.UBAT_ON)},UBAT_ES:function(){return(n>0?i[n-1]:r.UBAT_B)===r.UBAT_EN&&n+1<t.length&&t[n+1]===r.UBAT_EN?r.UBAT_EN:r.UBAT_ON},UBAT_ET:function(){if(n>0&&i[n-1]===r.UBAT_EN)return r.UBAT_EN;if(o.lastArabic)return r.UBAT_ON;for(var e=n+1,s=t.length;e<s&&t[e]===r.UBAT_ET;)e++;return e<s&&t[e]===r.UBAT_EN?r.UBAT_EN:r.UBAT_ON},UBAT_NSM:function(){if("VLTR"===o.inFormat){for(var s=t.length,a=n+1;a<s&&t[a]===r.UBAT_NSM;)a++;if(a<s){var u=e[n].charCodeAt[0],l=u>=1425&&u<=2303||64286===u,h=t[a];if(l&&(h===r.UBAT_R||h===r.UBAT_AL))return r.UBAT_R}}return n<1||t[n-1]===r.UBAT_B?r.UBAT_ON:i[n-1]},UBAT_B:function(){return o.lastArabic=!0,o.hasUbatB=!0,o.dir},UBAT_S:function(){return o.hasUbatS=!0,r.UBAT_ON},UBAT_LRE:function(){return o.lastArabic=!1,r.UBAT_ON},UBAT_RLE:function(){return o.lastArabic=!1,r.UBAT_ON},UBAT_LRO:function(){return o.lastArabic=!1,r.UBAT_ON},UBAT_RLO:function(){return o.lastArabic=!1,r.UBAT_ON},UBAT_PDF:function(){return o.lastArabic=!1,r.UBAT_ON},UBAT_BN:function(){return r.UBAT_ON}}[r.TYPES_NAMES[s]]()}function p(e){for(var t,i=0,n=r.SwapTable.length-1;i<=n;)if(t=Math.floor((i+n)/2),e<r.SwapTable[t][0])n=t-1;else{if(!(e>r.SwapTable[t][0]))return r.SwapTable[t][1];i=t+1}return e}function d(e){for(var t=0;t<r.StandAlonForm.length;t++)if(r.StandAlonForm[t]===e)return!0;return!1}function y(e){for(var t=0;t<r.BaseForm.length;t++)if(e===r.BaseForm[t])return r.MedialForm[t];return e}function v(e,t){for(var i=0;i<r.BaseForm.length;i++)if(e===r.BaseForm[i])return t[i];return e}function _(e){return e>="ً"&&e<="ٕ"}function g(e){return"L"===e?"LTR":"R"===e?"RTL":"C"===e?"CLR":"D"===e?"CRL":""}function m(e,t,r,i){for(;t*r<i&&_(e[t]);)t+=r;return t*r<i&&(e[t]=" ",!0)}function B(e,t){for(var i=0;i<r.AlefTable.length;i++)if(e===r.AlefTable[i])return t[i];return e}function b(e,t,r,i){for(var n=0;n<e.length;n++)(e[n]>t||!r&&e[n]===t)&&(e[n]+=i)}t.default=i;var V=[],I=[],T=[],w={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1,defOutFormat:""},A=5,E=6,D=0,N=1,M=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,S=/[\u0591-\u06ff\ufb1d-\ufefc]/}.apply(null,i))||(e.exports=n)},909:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SwapTable=[["(",")"],[")","("],["<",">"],[">","<"],["[","]"],["]","["],["{","}"],["}","{"],["«","»"],["»","«"],["‹","›"],["›","‹"],["⁽","⁾"],["⁾","⁽"],["₍","₎"],["₎","₍"],["≤","≥"],["≥","≤"],["〈","〉"],["〉","〈"],["﹙","﹚"],["﹚","﹙"],["﹛","﹜"],["﹜","﹛"],["﹝","﹞"],["﹞","﹝"],["﹤","﹥"],["﹥","﹤"]],t.AlefTable=["آ","أ","إ","ا"],t.LamAlefInialTableFE=["ﻵ","ﻷ","ﻹ","ﻻ"],t.LamAlefMedialTableFE=["ﻶ","ﻸ","ﻺ","ﻼ"],t.BaseForm=["ا","ب","ت","ث","ج","ح","خ","د","ذ","ر","ز","س","ش","ص","ض","ط","ظ","ع","غ","ف","ق","ك","ل","م","ن","ه","و","ي","إ","أ","آ","ة","ى","ل","م","ن","ه","و","ي","إ","أ","آ","ة","ى","ی","ئ","ؤ"],t.IsolatedForm=["ﺍ","ﺏ","ﺕ","ﺙ","ﺝ","ﺡ","ﺥ","ﺩ","ﺫ","ﺭ","ﺯ","ﺱ","ﺵ","ﺹ","ﺽ","ﻁ","ﻅ","ﻉ","ﻍ","ﻑ","ﻕ","ﻙ","ﻝ","ﻡ","ﻥ","ﻩ","ﻭ","ﻱ","ﺇ","ﺃ","ﺁ","ﺓ","ﻯ","ﯼ","ﺉ","ﺅ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺉ","ﺅ"],t.FinalForm=["ﺎ","ﺐ","ﺖ","ﺚ","ﺞ","ﺢ","ﺦ","ﺪ","ﺬ","ﺮ","ﺰ","ﺲ","ﺶ","ﺺ","ﺾ","ﻂ","ﻆ","ﻊ","ﻎ","ﻒ","ﻖ","ﻚ","ﻞ","ﻢ","ﻦ","ﻪ","ﻮ","ﻲ","ﺈ","ﺄ","ﺂ","ﺔ","ﻰ","ﯽ","ﺊ","ﺆ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺊ","ﺆ"],t.MedialForm=["ﺎ","ﺒ","ﺘ","ﺜ","ﺠ","ﺤ","ﺨ","ﺪ","ﺬ","ﺮ","ﺰ","ﺴ","ﺸ","ﺼ","ﻀ","ﻄ","ﻈ","ﻌ","ﻐ","ﻔ","ﻘ","ﻜ","ﻠ","ﻤ","ﻨ","ﻬ","ﻮ","ﻴ","ﺈ","ﺄ","ﺂ","ﺔ","ﻰ","ﯿ","ﺌ","ﺆ","ﹱ","ﹲ","ﹴ","ﹷ","ﹹ","ﹻ","ﹽ","ﹿ","ﺀ","ﺌ","ﺆ"],t.InitialForm=["ﺍ","ﺑ","ﺗ","ﺛ","ﺟ","ﺣ","ﺧ","ﺩ","ﺫ","ﺭ","ﺯ","ﺳ","ﺷ","ﺻ","ﺿ","ﻃ","ﻇ","ﻋ","ﻏ","ﻓ","ﻗ","ﻛ","ﻟ","ﻣ","ﻧ","ﻫ","ﻭ","ﻳ","ﺇ","ﺃ","ﺁ","ﺓ","ﻯ","ﯾ","ﺋ","ﺅ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺋ","ﺅ"],t.StandAlonForm=["ء","آ","أ","ؤ","إ","ا","ة","د","ذ","ر","ز","و","ى"],t.FETo06Table=["ً","ً","ٌ","؟","ٍ","؟","َ","َ","ُ","ُ","ِ","ِ","ّ","ّ","ْ","ْ","ء","آ","آ","أ","أ","ؤ","ؤ","إ","إ","ئ","ئ","ئ","ئ","ا","ا","ب","ب","ب","ب","ة","ة","ت","ت","ت","ت","ث","ث","ث","ث","ج","ج","ج","ج","ح","ح","ح","ح","خ","خ","خ","خ","د","د","ذ","ذ","ر","ر","ز","ز","س","س","س","س","ش","ش","ش","ش","ص","ص","ص","ص","ض","ض","ض","ض","ط","ط","ط","ط","ظ","ظ","ظ","ظ","ع","ع","ع","ع","غ","غ","غ","غ","ف","ف","ف","ف","ق","ق","ق","ق","ك","ك","ك","ك","ل","ل","ل","ل","م","م","م","م","ن","ن","ن","ن","ه","ه","ه","ه","و","و","ى","ى","ي","ي","ي","ي","ﻵ","ﻶ","ﻷ","ﻸ","ﻹ","ﻺ","ﻻ","ﻼ","؟","؟","؟"],t.ArabicAlefBetIntervalsBegine=["ء","ف"],t.ArabicAlefBetIntervalsEnd=["غ","ي"],t.impTabLtr=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],t.impTabRtl=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],t.UBAT_L=0,t.UBAT_R=1,t.UBAT_EN=2,t.UBAT_AN=3,t.UBAT_ON=4,t.UBAT_B=5,t.UBAT_S=6,t.UBAT_AL=7,t.UBAT_WS=8,t.UBAT_CS=9,t.UBAT_ES=10,t.UBAT_ET=11,t.UBAT_NSM=12,t.UBAT_LRE=13,t.UBAT_RLE=14,t.UBAT_PDF=15,t.UBAT_LRO=16,t.UBAT_RLO=17,t.UBAT_BN=18,t.TYPES_NAMES=["UBAT_L","UBAT_R","UBAT_EN","UBAT_AN","UBAT_ON","UBAT_B","UBAT_S","UBAT_AL","UBAT_WS","UBAT_CS","UBAT_ES","UBAT_ET","UBAT_NSM","UBAT_LRE","UBAT_RLE","UBAT_PDF","UBAT_LRO","UBAT_RLO","UBAT_BN"],t.TBBASE=100;var r=t.TBBASE+0,i=t.TBBASE+1,n=t.TBBASE+2,o=t.TBBASE+3,s=t.TBBASE+4,a=t.TBBASE+5,u=t.TBBASE+6,l=t.TBBASE+7,h=t.UBAT_L,c=t.UBAT_R,x=t.UBAT_EN,f=t.UBAT_AN,p=t.UBAT_ON,d=t.UBAT_B,y=t.UBAT_S,v=t.UBAT_AL,_=t.UBAT_WS,g=t.UBAT_CS,m=t.UBAT_ES,B=t.UBAT_ET,b=t.UBAT_NSM,V=t.UBAT_LRE,I=t.UBAT_RLE,T=t.UBAT_PDF,w=t.UBAT_LRO,A=t.UBAT_RLO,E=t.UBAT_BN;t.MasterTable=[r,h,h,h,h,i,n,o,c,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,s,p,p,p,h,p,h,p,h,p,p,p,h,h,p,p,h,h,h,h,h,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,h,h,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,h,h,h,h,h,h,h,h,h,h,h,h,h,h,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,h,h,p,p,h,h,p,p,h,h,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,h,h,h,a,v,v,u,l],t.UnicodeTable=[[E,E,E,E,E,E,E,E,E,y,d,y,_,d,E,E,E,E,E,E,E,E,E,E,E,E,E,E,d,d,d,y,_,p,p,B,B,B,p,p,p,p,p,m,g,m,g,g,x,x,x,x,x,x,x,x,x,x,g,p,p,p,p,p,p,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,p,p,p,p,p,p,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,p,p,p,p,E,E,E,E,E,E,d,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,g,p,B,B,B,B,p,p,p,p,h,p,p,E,p,p,B,B,x,x,p,h,p,p,p,x,h,p,p,p,p,p,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,p,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,p,h,h,h,h,h,h,h,h],[h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,p,p,p,p,p,p,p,p,p,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,p,p,h,h,h,h,h,h,h,p,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,p,h,p,p,p,p,p,p,p,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,c,b,c,b,b,c,b,b,c,b,p,p,p,p,p,p,p,p,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,p,p,p,p,p,c,c,c,c,c,p,p,p,p,p,p,p,p,p,p,p],[f,f,f,f,p,p,p,p,v,B,B,v,g,v,p,p,b,b,b,b,b,b,b,b,b,b,b,v,p,p,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,f,f,f,f,f,f,f,f,f,f,B,f,f,v,v,v,b,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,b,b,b,b,b,b,b,f,p,b,b,b,b,b,b,v,v,b,b,p,b,b,b,b,v,v,x,x,x,x,x,x,x,x,x,x,v,v,v,v,v,v],[v,v,v,v,v,v,v,v,v,v,v,v,v,v,p,v,v,b,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,p,p,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,b,b,b,b,b,b,b,b,b,b,b,v,p,p,p,p,p,p,p,p,p,p,p,p,p,p,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,b,b,b,b,b,b,b,b,b,c,c,p,p,p,p,c,p,p,p,p,p],[_,_,_,_,_,_,_,_,_,_,_,E,E,E,h,c,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,_,d,V,I,T,w,A,g,B,B,B,B,B,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,g,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,_,E,E,E,E,E,p,p,p,p,p,E,E,E,E,E,E,x,h,p,p,x,x,x,x,x,x,m,m,p,p,p,h,x,x,x,x,x,x,x,x,x,x,m,m,p,p,p,p,h,h,h,h,h,h,h,h,h,h,h,h,h,p,p,p,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[h,h,h,h,h,h,h,p,p,p,p,p,p,p,p,p,p,p,p,h,h,h,h,h,p,p,p,p,p,c,b,c,c,c,c,c,c,c,c,c,c,m,c,c,c,c,c,c,c,c,c,c,c,c,c,p,c,c,c,c,c,p,c,p,c,c,p,c,c,p,c,c,c,c,c,c,c,c,c,c,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,b,b,b,b,b,b,b,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,g,p,g,p,p,g,p,p,p,p,p,p,p,p,p,B,p,p,m,m,p,p,p,p,p,B,B,p,p,p,p,p,v,v,v,v,v,p,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,p,p,E],[p,p,p,B,B,B,p,p,p,p,p,m,g,m,g,g,x,x,x,x,x,x,x,x,x,x,g,p,p,p,p,p,p,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,p,p,p,p,p,p,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,p,p,p,p,p,p,p,p,p,p,p,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,p,p,p,h,h,h,h,h,h,p,p,h,h,h,h,h,h,p,p,h,h,h,h,h,h,p,p,h,h,h,p,p,p,B,B,p,p,p,B,B,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p]]}.apply(null,i))||(e.exports=n)}}]);