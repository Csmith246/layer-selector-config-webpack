(function(){(this||window).webpackJsonp.registerAbsMids({"esri/tasks/ClosestFacilityTask":784,"esri/tasks/support/ClosestFacilitySolveResult":1496})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{1496:function(e,r,t){var i,o;i=[t.dj.c(e.i),r,t(1),t(0),t(32),t(242),t(4),t(16),t(2),t(285),t(28),t(1345),t(913),t(1216)],void 0===(o=function(e,r,t,i,o,n,s,a,l,p,u,c,y,f){function d(e){return y.fromJSON(e).features.map((function(e){return e.geometry}))}return function(e){function r(r){var t=e.call(this,r)||this;return t.directions=null,t.facilities=null,t.incidents=null,t.messages=null,t.pointBarriers=null,t.polylineBarriers=null,t.polygonBarriers=null,t.routes=null,t}return t(r,e),r.prototype.readFacilities=function(e){return d(e)},r.prototype.readIncidents=function(e){return d(e)},r.prototype.readPointBarriers=function(e,r){return d(r.barriers)},r.prototype.readPolylineBarriers=function(e){return d(e)},r.prototype.readPolygonBarriers=function(e){return d(e)},r.prototype.readRoutes=function(e){return function(e){return e.features.map((function(r){var t=u.fromJSON(e.spatialReference),i=n.fromJSON(r);return a.isSome(i.geometry)&&(i.geometry.spatialReference=t),i}))}(e)},i([l.property({type:c})],r.prototype,"directions",void 0),i([l.property({type:[o.Point]})],r.prototype,"facilities",void 0),i([p.reader("facilities")],r.prototype,"readFacilities",null),i([l.property({type:[o.Point]})],r.prototype,"incidents",void 0),i([p.reader("incidents")],r.prototype,"readIncidents",null),i([l.property({type:[f]})],r.prototype,"messages",void 0),i([l.property({type:[o.Point]})],r.prototype,"pointBarriers",void 0),i([p.reader("pointBarriers",["barriers"])],r.prototype,"readPointBarriers",null),i([l.property({type:[o.Polyline]})],r.prototype,"polylineBarriers",void 0),i([p.reader("polylineBarriers")],r.prototype,"readPolylineBarriers",null),i([l.property({type:[o.Polygon]})],r.prototype,"polygonBarriers",void 0),i([p.reader("polygonBarriers")],r.prototype,"readPolygonBarriers",null),i([l.property({type:[n]})],r.prototype,"routes",void 0),i([p.reader("routes")],r.prototype,"readRoutes",null),i([l.subclass("esri.tasks.support.ClosestFacilitySolveResult")],r)}(l.declared(s.JSONSupport))}.apply(null,i))||(e.exports=o)},784:function(e,r,t){var i,o;i=[t.dj.c(e.i),r,t(7),t(1),t(0),t(76),t(6),t(1214),t(2),t(899),t(1049),t(1215),t(1496)],void 0===(o=function(e,r,t,i,o,n,s,a,l,p,u,c,y){var f=a.createQueryParamsHelper({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,directionsTimeAttribute:{name:"directionsTimeAttributeName"},impedanceAttribute:{name:"impedanceAttributeName"},facilities:!0,incidents:!0,outSpatialReference:{name:"outSR",getter:function(e){return e.outSpatialReference.wkid}},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},returnPointBarriers:{name:"returnBarriers"},returnRoutes:{name:"returnCFRoutes"},travelMode:!0});return function(e){function r(r){var t=e.call(this,r)||this;return t.url=null,t}return i(r,e),r.prototype.solve=function(e,r){var i=this,o=[],a=[],l={},u={};return e.incidents&&e.incidents.features&&this._collectGeometries(e.incidents.features,a,"incidents.features",l),e.facilities&&e.facilities.features&&this._collectGeometries(e.facilities.features,a,"facilities.features",l),e.pointBarriers&&e.pointBarriers.features&&this._collectGeometries(e.pointBarriers.features,a,"pointBarriers.features",l),e.polylineBarriers&&e.polylineBarriers.features&&this._collectGeometries(e.polylineBarriers.features,a,"polylineBarriers.features",l),e.polygonBarriers&&e.polygonBarriers.features&&this._collectGeometries(e.polygonBarriers.features,a,"polygonBarriers.features",l),p.normalizeCentralMeridian(a).then((function(e){for(var r in l){var t=l[r];o.push(r),u[r]=e.slice(t[0],t[1])}return i._isInputGeometryZAware(u,o)?i.getServiceDescription():s.resolve({dontCheck:!0})})).then((function(s){("dontCheck"in s?s.dontCheck:s.hasZ)||i._dropZValuesOffInputGeometry(u,o);var a=function(r){u[r].forEach((function(t,i){e.get(r)[i].geometry=t}))};for(var l in u)a(l);var p={query:t({},i.parsedUrl.query,{f:"json"},f.toQueryParams(e))};return(i.requestOptions||r)&&(p=t({},i.requestOptions,r,p)),n(i.parsedUrl.path+"/solveClosestFacility",p)})).then((function(e){return y.fromJSON(e.data)}))},r.prototype._collectGeometries=function(e,r,t,i){i[t]=[r.length,r.length+e.length],e.forEach((function(e){r.push(e.geometry)}))},o([l.property()],r.prototype,"url",void 0),o([l.subclass("esri.tasks.ClosestFacilityTask")],r)}(l.declared(c.NAServiceDescriptionMixin(u)))}.apply(null,i))||(e.exports=o)}}]);