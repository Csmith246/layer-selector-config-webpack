(function(){(this||window).webpackJsonp.registerAbsMids({"esri/portal/support/portalLayers":779,"esri/layers/support/lazyLayerLoader":1139})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{1139:function(e,n,r){var t,a;t=[r.dj.c(e.i),n,r(6)],void 0===(a=function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.layerLookupMap={BingMapsLayer:function(){return t.create((function(e){return r.e(81).then(function(){var n=[r(848)];e.apply(null,n)}.bind(this)).catch(r.oe)}))},BuildingSceneLayer:function(){return t.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(20),r.e(89)]).then(function(){var n=[r(1023)];e.apply(null,n)}.bind(this)).catch(r.oe)}))},CSVLayer:function(){return t.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(5),r.e(6),r.e(70)]).then(function(){var n=[r(1017)];e.apply(null,n)}.bind(this)).catch(r.oe)}))},ElevationLayer:function(){return t.create((function(e){return Promise.all([r.e(14),r.e(31)]).then(function(){var n=[r(776)];e.apply(null,n)}.bind(this)).catch(r.oe)}))},FeatureLayer:function(){return t.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(5),r.e(6),r.e(76)]).then(function(){var n=[r(912)];e.apply(null,n)}.bind(this)).catch(r.oe)}))},GroupLayer:function(){return t.create((function(e){return r.e(29).then(function(){var n=[r(1015)];e.apply(null,n)}.bind(this)).catch(r.oe)}))},GeoRSSLayer:function(){return t.create((function(e){return r.e(82).then(function(){var n=[r(1018)];e.apply(null,n)}.bind(this)).catch(r.oe)}))},ImageryLayer:function(){return t.create((function(e){return Promise.all([r.e(1),r.e(3),r.e(7),r.e(11),r.e(59)]).then(function(){var n=[r(1019)];e.apply(null,n)}.bind(this)).catch(r.oe)}))},IntegratedMeshLayer:function(){return t.create((function(e){return r.e(74).then(function(){var n=[r(1020)];e.apply(null,n)}.bind(this)).catch(r.oe)}))},KMLLayer:function(){return t.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(27),r.e(90)]).then(function(){var n=[r(1024)];e.apply(null,n)}.bind(this)).catch(r.oe)}))},MapImageLayer:function(){return t.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(5),r.e(9),r.e(65)]).then(function(){var n=[r(1014)];e.apply(null,n)}.bind(this)).catch(r.oe)}))},MapNotesLayer:function(){return t.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(5),r.e(6),r.e(72)]).then(function(){var n=[r(1242)];e.apply(null,n)}.bind(this)).catch(r.oe)}))},OpenStreetMapLayer:function(){return t.create((function(e){return r.e(75).then(function(){var n=[r(1021)];e.apply(null,n)}.bind(this)).catch(r.oe)}))},PointCloudLayer:function(){return t.create((function(e){return Promise.all([r.e(21),r.e(91)]).then(function(){var n=[r(1025)];e.apply(null,n)}.bind(this)).catch(r.oe)}))},RouteLayer:function(){return t.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(5),r.e(6),r.e(73)]).then(function(){var n=[r(1244)];e.apply(null,n)}.bind(this)).catch(r.oe)}))},SceneLayer:function(){return t.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(5),r.e(6),r.e(67)]).then(function(){var n=[r(1022)];e.apply(null,n)}.bind(this)).catch(r.oe)}))},StreamLayer:function(){return t.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(22),r.e(92)]).then(function(){var n=[r(1026)];e.apply(null,n)}.bind(this)).catch(r.oe)}))},TileImageryLayer:function(){return t.create((function(e){return Promise.all([r.e(1),r.e(3),r.e(11),r.e(62)]).then(function(){var n=[r(1245)];e.apply(null,n)}.bind(this)).catch(r.oe)}))},TileLayer:function(){return t.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(5),r.e(9),r.e(68)]).then(function(){var n=[r(898)];e.apply(null,n)}.bind(this)).catch(r.oe)}))},UnknownLayer:function(){return t.create((function(e){return r.e(113).then(function(){var n=[r(1248)];e.apply(null,n)}.bind(this)).catch(r.oe)}))},UnsupportedLayer:function(){return t.create((function(e){return r.e(114).then(function(){var n=[r(1249)];e.apply(null,n)}.bind(this)).catch(r.oe)}))},VectorTileLayer:function(){return t.create((function(e){return Promise.all([r.e(15),r.e(25),r.e(93)]).then(function(){var n=[r(1027)];e.apply(null,n)}.bind(this)).catch(r.oe)}))},WebTileLayer:function(){return t.create((function(e){return r.e(77).then(function(){var n=[r(1012)];e.apply(null,n)}.bind(this)).catch(r.oe)}))},WMSLayer:function(){return t.create((function(e){return Promise.all([r.e(30),r.e(94)]).then(function(){var n=[r(1028)];e.apply(null,n)}.bind(this)).catch(r.oe)}))},WMTSLayer:function(){return t.create((function(e){return r.e(69).then(function(){var n=[r(1250)];e.apply(null,n)}.bind(this)).catch(r.oe)}))}}}.apply(null,t))||(e.exports=a)},779:function(e,n,r){var t,a;t=[r.dj.c(e.i),n,r(7),r(10),r(11),r(76),r(15),r(9),r(6),r(1139),r(78),r(283)],void 0===(a=function(e,n,r,t,a,u,c,i,o,l,s,y){function p(e){switch(e.type){case"Map Service":return function(e){return h(e).then((function(e){return e?{className:"TileLayer"}:{className:"MapImageLayer"}}))}(e);case"Feature Service":return function(e){return d(e).then((function(e){if("object"==typeof e){var n={};return null!=e.id&&(n.layerId=e.id),{className:"FeatureLayer",properties:n}}return{className:"GroupLayer"}}))}(e);case"Feature Collection":return function(e){return a(this,void 0,void 0,(function(){var n;return t(this,(function(r){switch(r.label){case 0:return[4,e.load()];case 1:return r.sent(),y.hasTypeKeyword(e,"Map Notes")?[2,{className:"MapNotesLayer"}]:y.hasTypeKeyword(e,"Route Layer")?[2,{className:"RouteLayer"}]:[4,e.fetchData()];case 2:return(n=r.sent())&&Array.isArray(n.layers)&&1===n.layers.length?[2,{className:"FeatureLayer"}]:[2,{className:"GroupLayer"}]}}))}))}(e);case"Scene Service":return function(e){return d(e).then((function(n){if("object"==typeof n){var r={},t=void 0;if(null!=n.id?(r.layerId=n.id,t=e.url+"/layers/"+n.id):t=e.url,Array.isArray(e.typeKeywords)&&e.typeKeywords.length>0)for(var a={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"},u=0,c=Object.keys(a);u<c.length;u++){var i=c[u];if(-1!==e.typeKeywords.indexOf(i))return{className:a[i]}}return L(t).then((function(e){var n="SceneLayer",t={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};return e&&e.layerType&&t[e.layerType]&&(n=t[e.layerType]),{className:n,properties:r}}))}return{className:"GroupLayer"}}))}(e);case"Image Service":return function(e){return h(e).then((function(n){var r=new c(e.typeKeywords);return n?r.find((function(e){return"elevation 3d layer"===e.toLowerCase()}))?{className:"ElevationLayer"}:{className:"TileLayer"}:{className:"ImageryLayer"}}))}(e);case"Stream Service":return{className:"StreamLayer"};case"Vector Tile Service":return{className:"VectorTileLayer"};case"KML":return{className:"KMLLayer"};case"WMTS":return{className:"WMTSLayer"};case"WMS":return{className:"WMSLayer"};default:return o.reject(new i("portal:unknown-item-type","Unknown item type '${type}'",{type:e.type}))}}function f(e){return(0,l.layerLookupMap[e.className])().then((function(n){return{constructor:n,properties:e.properties}}))}function h(e){return L(e.url).then((function(e){return e.tileInfo}))}function d(e){return!e.url||e.url.match(/\/\d+$/)?o.resolve({}):e.load().then((function(){return e.fetchData()})).then((function(n){return n&&Array.isArray(n.layers)?1===n.layers.length&&{id:n.layers[0].id}:L(e.url).then((function(e){return e&&Array.isArray(e.layers)?1===e.layers.length&&{id:e.layers[0].id}:{}}))}))}function L(e){return u(e,{responseType:"json",query:{f:"json"}}).then((function(e){return e.data}))}Object.defineProperty(n,"__esModule",{value:!0}),n.fromItem=function(e){return!e.portalItem||e.portalItem instanceof s||e.portalItem.constructor&&e.portalItem.constructor._meta||(e=r({},e,{portalItem:new s(e.portalItem)})),(n=e.portalItem,n.load().then(p).then(f)).then((function(n){var t=r({portalItem:e.portalItem},n.properties),a=n.constructor;return o.resolve(new a(t))}));var n},n.selectLayerClassPath=p}.apply(null,t))||(e.exports=a)}}]);