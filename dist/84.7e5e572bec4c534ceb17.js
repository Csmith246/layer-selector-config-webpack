(function(){(this||window).webpackJsonp.registerAbsMids({"esri/layers/support/commonProperties":838,"esri/layers/mixins/OperationalLayer":856,"esri/symbols/support/ElevationInfo":892,"esri/symbols/support/FeatureExpressionInfo":894,"esri/symbols/support/unitConversionUtils":895,"esri/layers/MapImageLayer":1006,"esri/layers/support/TimeInfo":1068,"esri/layers/mixins/TemporalLayer":1075,"esri/layers/support/TimeReference":1076,"esri/layers/support/ExportImageParameters":1158,"esri/geometry/support/scaleUtils":1166})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{1006:function(e,r,t){var i,n;i=[t.dj.c(e.i),r,t(8),t(1),t(0),t(103),t(10),t(11),t(76),t(9),t(102),t(108),t(15),t(245),t(6),t(2),t(17),t(110),t(1166),t(144),t(1198),t(1027),t(856),t(859),t(999),t(898),t(1199),t(1075),t(838),t(1158),t(1174),t(1127)],void 0===(n=function(e,r,t,i,n,a,o,l,s,p,u,c,y,d,f,v,h,m,g,b,w,S,I,x,L,O,T,E,j,M,P,D){return function(e){function r(r,t){var i=e.call(this,r)||this;return i.alwaysRefetch=!1,i.dpi=96,i.gdbVersion=null,i.imageFormat="png24",i.imageMaxHeight=2048,i.imageMaxWidth=2048,i.imageTransparency=!0,i.labelsVisible=!1,i.isReference=null,i.operationalLayerType="ArcGISMapServiceLayer",i.sourceJSON=null,i.sublayers=null,i.type="map-image",i.url=null,i}return i(r,e),r.prototype.normalizeCtorArgs=function(e,r){return"string"==typeof e?t({url:e},r):e},r.prototype.load=function(e){var r=this,t=y.isSome(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},e).then((function(){return r._fetchService(t)}),(function(){return r._fetchService(t)}))),f.resolve(this)},r.prototype.readImageFormat=function(e,r){var t=r.supportedImageFormatTypes;return t&&t.indexOf("PNG32")>-1?"png32":"png24"},r.prototype.writeSublayers=function(e,r,i,n){if(this.loaded&&e){var a=e.slice().reverse().flatten((function(e){var r=e.sublayers;return r&&r.toArray().reverse()})).toArray(),o=!1;if(this.capabilities&&this.capabilities.operations.supportsExportMap&&this.capabilities.exportMap.supportsDynamicLayers){var l=m.nameToId(n.origin);if(3===l){var s=this.createSublayersForOrigin("service").sublayers;o=D.shouldWriteSublayerStructure(a,s,2)}else if(l>3){var p=this.createSublayersForOrigin("portal-item");o=D.shouldWriteSublayerStructure(a,p.sublayers,m.nameToId(p.origin))}}var u=[],c=t({writeSublayerStructure:o},n),y=o;a.forEach((function(e){var r=e.write({},c);u.push(r),y=y||"user"===e.originOf("visible")})),u.some((function(e){return Object.keys(e).length>1}))&&(r.layers=u),y&&(r.visibleLayers=a.filter((function(e){return e.visible})).map((function(e){return e.id})))}},r.prototype.createExportImageParameters=function(e,r,i,n){var a=n&&n.pixelRatio||1;e&&this.version>=10&&(e=e.clone().shiftCentralMeridian());var o=new M.ExportImageParameters({layer:this,scale:g.getScale({extent:e,width:r})*a}),l=o.toJSON();o.layer=null,o.destroy();var s=!n||!n.rotation||this.version<10.3?{}:{rotation:-n.rotation},p=e&&e.spatialReference,u=p.wkid||JSON.stringify(p.toJSON());l.dpi*=a;var c={};if(n&&n.timeExtent){var y=n.timeExtent.toJSON(),d=y.start,f=y.end;d&&f&&d===f?c.time=""+d:null==d&&null==f||(c.time=(null==d?"null":d)+","+(null==f?"null":f))}return t({bbox:e&&e.xmin+","+e.ymin+","+e.xmax+","+e.ymax,bboxSR:u,imageSR:u,size:r+","+i},l,s,c)},r.prototype.fetchImage=function(e,r,i,n){var a={responseType:"image"};n&&n.timestamp&&(a.query={_ts:n.timestamp}),n&&n.signal&&(a.signal=n.signal);var o=this.parsedUrl.path+"/export",l=t({},this.parsedUrl.query,this.createExportImageParameters(e,r,i,n),{f:"image",_ts:this.alwaysRefetch?Date.now():null});return null==l.dynamicLayers||this.capabilities.exportMap.supportsDynamicLayers?(a.query?a.query=t({},l,a.query):a.query=l,s(o,a).then((function(e){return e.data})).catch((function(e){if(f.isAbortError(e))throw e;throw new p("mapimagelayer:image-fetch-error","Unable to load image: "+o,{error:e})}))):f.reject(new p("mapimagelayer:dynamiclayer-not-supported","service "+this.url+" doesn't support dynamic layers, which is required to be able to change the sublayer's order, rendering, labeling or source.",{query:l}))},r.prototype.loadAll=function(){var e=this;return c.default(this,(function(r){r(e.allSublayers)}))},r.prototype._fetchService=function(e){return l(this,void 0,void 0,(function(){var r,i;return o(this,(function(n){switch(n.label){case 0:return this.sourceJSON?(this.read(this.sourceJSON,{origin:"service",url:this.parsedUrl}),[2]):[4,s(this.parsedUrl.path,{query:t({f:"json"},this.parsedUrl.query),signal:e})];case 1:return r=n.sent(),i=r.data,r.ssl&&(this.url=this.url.replace(/^http:/i,"https:")),this.sourceJSON=i,this.read(i,{origin:"service",url:this.parsedUrl}),[2]}}))}))},n([v.property()],r.prototype,"alwaysRefetch",void 0),n([v.property()],r.prototype,"dpi",void 0),n([v.property()],r.prototype,"gdbVersion",void 0),n([v.property({json:{read:!1,write:!1}})],r.prototype,"popupEnabled",void 0),n([v.property()],r.prototype,"imageFormat",void 0),n([v.reader("imageFormat",["supportedImageFormatTypes"])],r.prototype,"readImageFormat",null),n([v.property({json:{origins:{service:{read:{source:"maxImageHeight"}}}}})],r.prototype,"imageMaxHeight",void 0),n([v.property({json:{origins:{service:{read:{source:"maxImageWidth"}}}}})],r.prototype,"imageMaxWidth",void 0),n([v.property()],r.prototype,"imageTransparency",void 0),n([v.property({json:{read:!1,write:!1}})],r.prototype,"labelsVisible",void 0),n([v.property({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:function(){return{enabled:!1}}}}})],r.prototype,"isReference",void 0),n([v.property({type:["ArcGISMapServiceLayer"]})],r.prototype,"operationalLayerType",void 0),n([v.property()],r.prototype,"sourceJSON",void 0),n([v.property({json:{write:{ignoreOrigin:!0}}})],r.prototype,"sublayers",void 0),n([v.writer("sublayers",{layers:{type:[P]},visibleLayers:{type:[h.Integer]}})],r.prototype,"writeSublayers",null),n([v.property({type:["show","hide","hide-children"]})],r.prototype,"listMode",void 0),n([v.property({json:{read:!1},readOnly:!0,value:"map-image"})],r.prototype,"type",void 0),n([v.property(j.url)],r.prototype,"url",void 0),n([v.subclass("esri.layers.MapImageLayer")],r)}(v.declared(E.TemporalLayer(O.ScaleRangeLayer(L.RefreshableLayer(T.SublayersOwner(w.ArcGISMapService(S.ArcGISService(I.OperationalLayer(x.PortalLayer(d.MultiOriginJSONMixin(u.HandleOwnerMixin(b))))))))))))}.apply(null,i))||(e.exports=n)},1068:function(e,r,t){var i,n;i=[t.dj.c(e.i),r,t(1),t(0),t(100),t(262),t(4),t(3),t(2),t(1076),t(106)],void 0===(n=function(e,r,t,i,n,a,o,l,s,p,u){return function(e){function r(r){var t=e.call(this,r)||this;return t.cumulative=!1,t.endField=null,t.fullTimeExtent=null,t.hasLiveData=!1,t.interval=null,t.startField=null,t.timeReference=null,t.trackIdField=null,t.useTime=!0,t}var o;return t(r,e),o=r,r.prototype.readFullTimeExtent=function(e,r){if(!r.timeExtent||!Array.isArray(r.timeExtent)||2!==r.timeExtent.length)return null;var t=r.timeExtent[0],i=r.timeExtent[1];return new n({start:t,end:i})},r.prototype.writeFullTimeExtent=function(e,r){e&&e.start&&e.end?r.timeExtent=[e.start.getTime(),e.end.getTime()]:r.timeExtent=null},r.prototype.readInterval=function(e,r){return r.timeInterval&&r.timeIntervalUnits?new a({value:r.timeInterval,unit:u.timeUnitKebabDictionary.fromJSON(r.timeIntervalUnits)}):r.defaultTimeInterval&&r.defaultTimeIntervalUnits?new a({value:r.defaultTimeInterval,unit:u.timeUnitKebabDictionary.fromJSON(r.defaultTimeIntervalUnits)}):null},r.prototype.writeInterval=function(e,r){if(e){var t=e.toJSON();r.timeInterval=t.value,r.timeIntervalUnits=t.unit}else r.timeInterval=null,r.timeIntervalUnits=null},r.prototype.clone=function(){var e=this,r=e.cumulative,t=e.endField,i=e.hasLiveData,n=e.interval,a=e.startField,s=e.timeReference,p=e.fullTimeExtent,u=e.trackIdField,c=e.useTime;return new o({cumulative:r,endField:t,hasLiveData:i,interval:n,startField:a,timeReference:l.clone(s),fullTimeExtent:l.clone(p),trackIdField:u,useTime:c})},i([s.property({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],r.prototype,"cumulative",void 0),i([s.property({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],r.prototype,"endField",void 0),i([s.property({type:n,json:{write:{enabled:!0,allowNull:!0}}})],r.prototype,"fullTimeExtent",void 0),i([s.reader("fullTimeExtent",["timeExtent"])],r.prototype,"readFullTimeExtent",null),i([s.writer("fullTimeExtent")],r.prototype,"writeFullTimeExtent",null),i([s.property({type:Boolean,json:{write:!0}})],r.prototype,"hasLiveData",void 0),i([s.property({type:a,json:{write:{enabled:!0,allowNull:!0}}})],r.prototype,"interval",void 0),i([s.reader("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],r.prototype,"readInterval",null),i([s.writer("interval")],r.prototype,"writeInterval",null),i([s.property({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],r.prototype,"startField",void 0),i([s.property({type:p,json:{write:{enabled:!0,allowNull:!0}}})],r.prototype,"timeReference",void 0),i([s.property({type:String,json:{write:{enabled:!0,allowNull:!0}}})],r.prototype,"trackIdField",void 0),i([s.property({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],r.prototype,"useTime",void 0),o=i([s.subclass("esri.layers.support.TimeInfo")],r)}(s.declared(o.JSONSupport))}.apply(null,i))||(e.exports=n)},1075:function(e,r,t){var i,n;i=[t.dj.c(e.i),r,t(1),t(0),t(100),t(262),t(2),t(1068),t(140),t(106)],void 0===(n=function(e,r,t,i,n,a,o,l,s,p){Object.defineProperty(r,"__esModule",{value:!0}),r.TemporalLayer=function(e){return function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.timeExtent=null,r.timeOffset=null,r.useViewTime=!0,r}return t(r,e),r.prototype.readOffset=function(e,r){var t=r.timeInfo.exportOptions;if(!t)return null;var i=t.timeOffset,n=p.timeUnitKebabDictionary.fromJSON(t.timeOffsetUnits);return i&&n?new a({value:i,unit:n}):null},Object.defineProperty(r.prototype,"timeInfo",{set:function(e){s.fixTimeInfoFields(e,this.fields),this._set("timeInfo",e)},enumerable:!0,configurable:!0}),i([o.property({type:n,json:{write:!1}})],r.prototype,"timeExtent",void 0),i([o.property({type:a})],r.prototype,"timeOffset",void 0),i([o.reader("service","timeOffset",["timeInfo.exportOptions"])],r.prototype,"readOffset",null),i([o.property({value:null,type:l,json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],r.prototype,"timeInfo",null),i([o.property({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],r.prototype,"useViewTime",void 0),i([o.subclass("esri.layers.mixins.TemporalLayer")],r)}(o.declared(e))}}.apply(null,i))||(e.exports=n)},1076:function(e,r,t){var i,n;i=[t.dj.c(e.i),r,t(1),t(0),t(4),t(2)],void 0===(n=function(e,r,t,i,n,a){return function(e){function r(r){var t=e.call(this,r)||this;return t.respectsDaylightSaving=!1,t.timezone=null,t}var n;return t(r,e),n=r,r.prototype.readRespectsDaylightSaving=function(e,r){return void 0!==r.respectsDaylightSaving?r.respectsDaylightSaving:void 0!==r.respectDaylightSaving&&r.respectDaylightSaving},r.prototype.clone=function(){var e=this.respectsDaylightSaving,r=this.timezone;return new n({respectsDaylightSaving:e,timezone:r})},i([a.property({type:Boolean,json:{write:!0}})],r.prototype,"respectsDaylightSaving",void 0),i([a.reader("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],r.prototype,"readRespectsDaylightSaving",null),i([a.property({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],r.prototype,"timezone",void 0),n=i([a.subclass("esri.layers.support.TimeReference")],r)}(a.declared(n.JSONSupport))}.apply(null,i))||(e.exports=n)},1158:function(e,r,t){var i,n;i=[t.dj.c(e.i),r,t(8),t(1),t(0),t(7),t(2),t(1127),t(106),t(277)],void 0===(n=function(e,r,t,i,n,a,o,l,s,p){Object.defineProperty(r,"__esModule",{value:!0});var u={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"},c=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r._scale=null,r.view=null,r}return i(r,e),Object.defineProperty(r.prototype,"dynamicLayers",{get:function(){if(!this.hasDynamicLayers)return null;var e=this.visibleSublayers.map((function(e){return e.toExportImageJSON()}));return e.length?JSON.stringify(e):null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hasDynamicLayers",{get:function(){return this.layer&&l.isExportDynamic(this.visibleSublayers,this.layer.serviceSublayers,this.layer)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"layer",{set:function(e){var r=this;this._get("layer")!==e&&(this._set("layer",e),this._layerHandles&&(this._layerHandles.forEach((function(e){return e.remove()})),this._layerHandles.length=0),e&&(this._layerHandles=[e.allSublayers.on("change",(function(){return r.notifyChange("visibleSublayers")})),e.on("sublayer-update",(function(e){return r.notifyChange(u[e.propertyName])}))]))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"layers",{get:function(){var e=this.visibleSublayers;return e?e.length?"show:"+e.map((function(e){return e.id})).join(","):"show:-1":null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"layerDefs",{get:function(){var e=this.visibleSublayers.filter((function(e){return null!=e.definitionExpression}));return e.length?JSON.stringify(e.reduce((function(e,r){return e[r.id]=r.definitionExpression,e}),{})):null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"scale",{get:function(){return null!=this._scale?this._scale:this.view&&this.view.scale||0},set:function(e){this.view||(this._scale=e,this.notifyChange("scale"))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"version",{get:function(){this.layers,this.layerDefs,this.dynamicLayers,this.timeExtent;var e=this.layer;return e&&(e.dpi,e.imageFormat,e.imageTransparency,e.gdbVersion),(this._get("version")||0)+1},set:function(e){this._set("version",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"visibleSublayers",{get:function(){var e=this,r=[];if(!this.layer)return r;var t=this.layer.sublayers,i=function(t){var n=e.scale,a=0===n,o=0===t.minScale||n<=t.minScale,l=0===t.maxScale||n>=t.maxScale;t.visible&&(a||o&&l)&&(t.sublayers?t.sublayers.forEach(i):r.unshift(t))};t&&t.forEach(i);var n=this._get("visibleSublayers");return!n||n.length!==r.length||n.some((function(e,t){return r[t]!==e}))?r:n},enumerable:!0,configurable:!0}),r.prototype.toJSON=function(){var e=this.layer,r={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?r.dynamicLayers=this.dynamicLayers:r=t({},r,{layers:this.layers,layerDefs:this.layerDefs}),r},n([o.property({readOnly:!0,dependsOn:["hasDynamicLayers","visibleSublayers"]})],r.prototype,"dynamicLayers",null),n([o.property({readOnly:!0,dependsOn:["visibleSublayers","layer.serviceSublayers","layer.capabilities"]})],r.prototype,"hasDynamicLayers",null),n([o.property()],r.prototype,"layer",null),n([o.property({readOnly:!0,dependsOn:["visibleSublayers"]})],r.prototype,"layers",null),n([o.property({readOnly:!0,dependsOn:["visibleSublayers"]})],r.prototype,"layerDefs",null),n([o.property({type:Number,dependsOn:["view.scale"]})],r.prototype,"scale",null),n([o.property(s.combinedViewLayerTimeExtentProperty)],r.prototype,"timeExtent",void 0),n([o.property({dependsOn:["layers","layerDefs","dynamicLayers","layer.dpi","layer.imageFormat","layer.imageTransparency","layer.gdbVersion","timeExtent"]})],r.prototype,"version",null),n([o.property({type:p})],r.prototype,"view",void 0),n([o.property({readOnly:!0,dependsOn:["layer.sublayers","scale"]})],r.prototype,"visibleSublayers",null),n([o.subclass("esri.layers.mixins.ExportImageParameters")],r)}(o.declared(a));r.ExportImageParameters=c}.apply(null,i))||(e.exports=n)},1166:function(e,r,t){var i,n;i=[t.dj.c(e.i),r,t(97)],void 0===(n=function(e,r,t){function i(e,r){return e/(t.getMetersPerUnitForSR(r)*t.inchesPerMeter*96)}Object.defineProperty(r,"__esModule",{value:!0}),r.getScale=function(e,r){var i=r||e.extent,n=e.width,a=t.getMetersPerUnitForSR(i&&i.spatialReference);return i&&n?i.width/n*a*t.inchesPerMeter*96:0},r.getResolutionForScale=i,r.getScaleForResolution=function(e,r){return e*(t.getMetersPerUnitForSR(r)*t.inchesPerMeter*96)},r.getExtentForScale=function(e,r){var t=e.extent,n=e.width,a=i(r,t.spatialReference);return t.clone().expand(a*n/t.width)}}.apply(null,i))||(e.exports=n)},838:function(e,r,t){var i,n;i=[t.dj.c(e.i),r,t(8),t(36),t(33),t(141),t(892),t(252)],void 0===(n=function(e,r,t,i,n,a,o,l){Object.defineProperty(r,"__esModule",{value:!0}),r.screenSizePerspectiveEnabled={type:Boolean,value:!0,json:{origins:{"web-scene":{read:{source:["id","url","layerType"],reader:function(e,r){if(null!=r.screenSizePerspective||"defaults"!==this.originOf("screenSizePerspectiveEnabled"))return r.screenSizePerspective;n.getProperties(this).store.set("screenSizePerspectiveEnabled",!1,0)}},write:{ignoreOrigin:!0,target:"screenSizePerspective",writer:function(e,r,t,i){("defaults"===this.originOf("screenSizePerspectiveEnabled")&&e||a.willPropertyWrite(this,"screenSizePerspectiveEnabled",{},i))&&(r[t]=e)}}}}}},r.popupEnabled={type:Boolean,value:!0,json:{read:{source:"disablePopup",reader:function(e,r){return!r.disablePopup}},write:{target:"disablePopup",writer:function(e,r,t){r[t]=!e}}}},r.labelsVisible={type:Boolean,value:!0,json:{read:{source:"showLabels"},write:{target:"showLabels"}}},r.url={type:String,json:{write:{isRequired:!0,ignoreOrigin:!0,writer:i.write}}},r.legendEnabled={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend"}}},r.elevationInfo={value:null,type:o,json:{origins:{service:{read:{source:"elevationInfo"},write:{target:"elevationInfo",enabled:!1}}},read:{source:"layerDefinition.elevationInfo"},write:{target:"layerDefinition.elevationInfo"}}},r.readOnlyService=function(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}},r.opacity={type:Number,json:{origins:{"web-document":{default:1,write:!0,read:!0}}}},r.opacityDrawingInfo=t({},r.opacity,{json:t({},r.opacity.json,{origins:{"web-document":t({},r.opacity.json.origins["web-document"],{write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}})},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:function(e,r,t){return t&&"service"!==t.origin||!r.drawingInfo||void 0===r.drawingInfo.transparency?r.layerDefinition&&r.layerDefinition.drawingInfo&&void 0!==r.layerDefinition.drawingInfo.transparency?l.transparencyToOpacity(r.layerDefinition.drawingInfo.transparency):void 0:l.transparencyToOpacity(r.drawingInfo.transparency)}}})})}.apply(null,i))||(e.exports=n)},856:function(e,r,t){var i,n;i=[t.dj.c(e.i),r,t(1),t(0),t(9),t(6),t(2),t(104),t(141),t(838)],void 0===(n=function(e,r,i,n,a,o,l,s,p,u){Object.defineProperty(r,"__esModule",{value:!0}),r.OperationalLayer=function(e){return function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.title="Layer",r}return i(t,e),t.prototype.writeListMode=function(e,r,t,i){(i&&"ground"===i.layerContainerType||e&&p.willPropertyWrite(this,t,{},i))&&(r[t]=e)},t.prototype.writeTitle=function(e,r){r.title=e||"Layer"},t.prototype.writeOperationalLayerType=function(e,r){e&&(r.layerType=e)},t.prototype.read=function(e,r){var t=this,i=arguments;r&&(r.layer=this),s.readLoadable(this,e,(function(r){return t.inherited(i,[e,r])}),r)},t.prototype.write=function(e,t){if(t&&t.origin){var i=t.origin+"/"+(t.layerContainerType||"operational-layers"),n=r.supportedTypes[i],o=n&&n[this.operationalLayerType];if("write"!==o&&"readwrite"!==o)return t.messages&&t.messages.push(new a("layer:unsupported","Layers ("+this.title+", "+this.id+") of type '"+this.declaredClass+"' are not supported in the context of '"+i+"'",{layer:this})),null}var l=this.inherited(arguments,[e,t]),s=!!t&&!!t.messages&&!!t.messages.filter((function(e){return e instanceof a&&"web-document-write:property-required"===e.name})).length;return!this.url&&s?null:l},n([l.property({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}}}}})],t.prototype,"id",void 0),n([l.property({json:{write:{ignoreOrigin:!0}}})],t.prototype,"listMode",void 0),n([l.writer("listMode")],t.prototype,"writeListMode",null),n([l.property({type:String,json:{write:{ignoreOrigin:!0,allowNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}}}}})],t.prototype,"title",void 0),n([l.writer("title")],t.prototype,"writeTitle",null),n([l.property({type:String,readOnly:!0,json:{write:{target:"layerType",ignoreOrigin:!0}}})],t.prototype,"operationalLayerType",void 0),n([l.writer("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),n([l.property(u.opacity)],t.prototype,"opacity",void 0),n([l.property({type:Boolean,json:{read:{source:"visibility"},write:{target:"visibility"},origins:{"web-document":{read:{source:"visibility"},write:{target:"visibility"},default:!0}}}})],t.prototype,"visible",void 0),n([l.subclass("esri.layers.mixins.OperationalLayer")],t)}(l.declared(e))},r.typeModuleMap={ArcGISFeatureLayer:function(){return o.create((function(e){return Promise.all([t.e(1),t.e(2),t.e(5),t.e(6),t.e(98)]).then(function(){var r=[t(904)];e.apply(null,r)}.bind(this)).catch(t.oe)}))},ArcGISImageServiceLayer:function(){return o.create((function(e){return Promise.all([t.e(1),t.e(3),t.e(7),t.e(11),t.e(63)]).then(function(){var r=[t(1011)];e.apply(null,r)}.bind(this)).catch(t.oe)}))},ArcGISImageServiceVectorLayer:function(){return o.resolve(null)},ArcGISMapServiceLayer:function(){return o.create((function(e){return Promise.all([t.e(1),t.e(2),t.e(5),t.e(9),t.e(80)]).then(function(){var r=[t(1006)];e.apply(null,r)}.bind(this)).catch(t.oe)}))},ArcGISSceneServiceLayer:function(){return o.create((function(e){return Promise.all([t.e(1),t.e(2),t.e(5),t.e(6),t.e(85)]).then(function(){var r=[t(1014)];e.apply(null,r)}.bind(this)).catch(t.oe)}))},ArcGISStreamLayer:function(){return o.create((function(e){return Promise.all([t.e(1),t.e(2),t.e(22)]).then(function(){var r=[t(1018)];e.apply(null,r)}.bind(this)).catch(t.oe)}))},ArcGISTiledElevationServiceLayer:function(){return o.create((function(e){return t.e(14).then(function(){var r=[t(768)];e.apply(null,r)}.bind(this)).catch(t.oe)}))},ArcGISTiledImageServiceLayer:function(){return o.create((function(e){return Promise.all([t.e(1),t.e(2),t.e(5),t.e(9),t.e(28)]).then(function(){var r=[t(890)];e.apply(null,r)}.bind(this)).catch(t.oe)}))},ArcGISTiledMapServiceLayer:function(){return o.create((function(e){return Promise.all([t.e(1),t.e(2),t.e(5),t.e(9),t.e(28)]).then(function(){var r=[t(890)];e.apply(null,r)}.bind(this)).catch(t.oe)}))},BingMapsAerial:function(){return o.create((function(e){return t.e(17).then(function(){var r=[t(840)];e.apply(null,r)}.bind(this)).catch(t.oe)}))},BingMapsRoad:function(){return o.create((function(e){return t.e(17).then(function(){var r=[t(840)];e.apply(null,r)}.bind(this)).catch(t.oe)}))},BingMapsHybrid:function(){return o.create((function(e){return t.e(17).then(function(){var r=[t(840)];e.apply(null,r)}.bind(this)).catch(t.oe)}))},BuildingSceneLayer:function(){return o.create((function(e){return Promise.all([t.e(1),t.e(2),t.e(20)]).then(function(){var r=[t(1015)];e.apply(null,r)}.bind(this)).catch(t.oe)}))},CSV:function(){return o.create((function(e){return Promise.all([t.e(1),t.e(2),t.e(5),t.e(6),t.e(87)]).then(function(){var r=[t(1009)];e.apply(null,r)}.bind(this)).catch(t.oe)}))},GeoRSS:function(){return o.create((function(e){return t.e(103).then(function(){var r=[t(1010)];e.apply(null,r)}.bind(this)).catch(t.oe)}))},GroupLayer:function(){return o.create((function(e){return t.e(112).then(function(){var r=[t(1007)];e.apply(null,r)}.bind(this)).catch(t.oe)}))},IntegratedMeshLayer:function(){return o.create((function(e){return t.e(96).then(function(){var r=[t(1012)];e.apply(null,r)}.bind(this)).catch(t.oe)}))},KML:function(){return o.create((function(e){return Promise.all([t.e(1),t.e(2),t.e(27)]).then(function(){var r=[t(1016)];e.apply(null,r)}.bind(this)).catch(t.oe)}))},OpenStreetMap:function(){return o.create((function(e){return t.e(97).then(function(){var r=[t(1013)];e.apply(null,r)}.bind(this)).catch(t.oe)}))},PointCloudLayer:function(){return o.create((function(e){return t.e(21).then(function(){var r=[t(1017)];e.apply(null,r)}.bind(this)).catch(t.oe)}))},VectorTileLayer:function(){return o.create((function(e){return Promise.all([t.e(15),t.e(25)]).then(function(){var r=[t(1019)];e.apply(null,r)}.bind(this)).catch(t.oe)}))},WebTiledLayer:function(){return o.create((function(e){return t.e(99).then(function(){var r=[t(1004)];e.apply(null,r)}.bind(this)).catch(t.oe)}))},WFS:function(){return o.resolve(null)},WMS:function(){return o.create((function(e){return t.e(30).then(function(){var r=[t(1020)];e.apply(null,r)}.bind(this)).catch(t.oe)}))},RasterDataLayer:function(){return o.resolve(null)},RasterDataElevationLayer:function(){return o.resolve(null)}},r.supportedTypes={"web-scene/operational-layers":{ArcGISFeatureLayer:"readwrite",ArcGISImageServiceLayer:"readwrite",ArcGISMapServiceLayer:"readwrite",ArcGISSceneServiceLayer:"readwrite",ArcGISTiledElevationServiceLayer:"read",ArcGISTiledImageServiceLayer:"readwrite",ArcGISTiledMapServiceLayer:"readwrite",BuildingSceneLayer:"readwrite",GroupLayer:"readwrite",IntegratedMeshLayer:"readwrite",PointCloudLayer:"readwrite",WebTiledLayer:"readwrite",CSV:"readwrite",VectorTileLayer:"readwrite",WMS:"readwrite",KML:"readwrite",RasterDataLayer:"readwrite"},"web-scene/basemap":{ArcGISTiledImageServiceLayer:"readwrite",ArcGISTiledMapServiceLayer:"readwrite",WebTiledLayer:"readwrite",OpenStreetMap:"readwrite",VectorTileLayer:"readwrite",ArcGISImageServiceLayer:"readwrite",WMS:"readwrite",ArcGISMapServiceLayer:"readwrite"},"web-scene/ground":{ArcGISTiledElevationServiceLayer:"readwrite",RasterDataElevationLayer:"readwrite"},"web-map/operational-layers":{ArcGISImageServiceLayer:"readwrite",ArcGISImageServiceVectorLayer:"readwrite",ArcGISMapServiceLayer:"readwrite",ArcGISStreamLayer:"readwrite",ArcGISTiledImageServiceLayer:"readwrite",ArcGISTiledMapServiceLayer:"readwrite",ArcGISFeatureLayer:"readwrite",BingMapsAerial:"readwrite",BingMapsRoad:"readwrite",BingMapsHybrid:"readwrite",CSV:"readwrite",GeoRSS:"readwrite",KML:"readwrite",VectorTileLayer:"readwrite",WFS:"readwrite",WMS:"readwrite",WebTiledLayer:"readwrite"},"web-map/basemap":{ArcGISImageServiceLayer:"readwrite",ArcGISImageServiceVectorLayer:"readwrite",ArcGISMapServiceLayer:"readwrite",ArcGISTiledImageServiceLayer:"readwrite",ArcGISTiledMapServiceLayer:"readwrite",OpenStreetMap:"readwrite",VectorTileLayer:"readwrite",WMS:"readwrite",WebTiledLayer:"readwrite",BingMapsAerial:"readwrite",BingMapsRoad:"readwrite",BingMapsHybrid:"readwrite"}}}.apply(null,i))||(e.exports=n)},892:function(e,r,t){var i,n;i=[t.dj.c(e.i),r,t(1),t(0),t(10),t(11),t(18),t(4),t(15),t(2),t(894),t(895)],void 0===(n=function(e,r,t,i,n,a,o,l,s,p,u,c){var y=o.strict()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),d=new o.JSONMap({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});return function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.offset=null,r}var n;return t(r,e),n=r,r.prototype.readFeatureExpressionInfo=function(e,r){return null!=e?e:r.featureExpression&&0===r.featureExpression.value?{expression:"0"}:void 0},r.prototype.writeFeatureExpressionInfo=function(e,r,t,i){r[t]=e.write(null,i),"0"===e.expression&&(r.featureExpression={value:0})},Object.defineProperty(r.prototype,"mode",{get:function(){return this._isOverridden("mode")?this._get("mode"):s.isSome(this.offset)||this.featureExpressionInfo?"relative-to-ground":"on-the-ground"},set:function(e){this._override("mode",e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"unit",{set:function(e){this._set("unit",e)},enumerable:!0,configurable:!0}),r.prototype.write=function(){return this.offset||this.mode||this.featureExpressionInfo||this.unit?this.inherited(arguments):null},r.prototype.clone=function(){return new n({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})},i([p.property({type:u,json:{write:!0}})],r.prototype,"featureExpressionInfo",void 0),i([p.reader("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],r.prototype,"readFeatureExpressionInfo",null),i([p.writer("featureExpressionInfo",{featureExpressionInfo:{type:u},"featureExpression.value":{type:[0]}})],r.prototype,"writeFeatureExpressionInfo",null),i([p.property({type:y.apiValues,dependsOn:["offset","featureExpressionInfo"],nonNullable:!0,json:{type:y.jsonValues,read:y.read,write:{writer:y.write,isRequired:!0}}})],r.prototype,"mode",null),i([p.property({type:Number,json:{write:!0}})],r.prototype,"offset",void 0),i([p.property({type:c.supportedUnits,json:{type:String,read:d.read,write:d.write}})],r.prototype,"unit",null),n=i([p.subclass("esri.layers.support.ElevationInfo")],r)}(p.declared(l.JSONSupport))}.apply(null,i))||(e.exports=n)},894:function(e,r,t){var i,n;i=[t.dj.c(e.i),r,t(1),t(0),t(10),t(11),t(4),t(2),t(140)],void 0===(n=function(e,r,t,i,n,a,o,l,s){return function(e){function r(){return null!==e&&e.apply(this,arguments)||this}var o;return t(r,e),o=r,r.prototype.collectRequiredFields=function(e,r){return a(this,void 0,void 0,(function(){return n(this,(function(t){return[2,s.collectArcadeFieldNames(e,r,this.expression)]}))}))},r.prototype.clone=function(){return new o({expression:this.expression,title:this.title})},i([l.property({type:String,json:{write:!0}})],r.prototype,"expression",void 0),i([l.property({type:String,json:{write:!0}})],r.prototype,"title",void 0),o=i([l.subclass("esri.layers.support.FeatureExpressionInfo")],r)}(l.declared(o.JSONSupport))}.apply(null,i))||(e.exports=n)},895:function(e,r,t){var i,n;i=[t.dj.c(e.i),r,t(827)],void 0===(n=function(e,r,t){var i;Object.defineProperty(r,"__esModule",{value:!0}),r.supportsUnit=function(e){return null!=t.meterIn[e]},r.getMetersPerUnit=function(e){return 1/(t.meterIn[e]||1)},r.supportedUnits=((i=Object.keys(t.meterIn)).sort(),i)}.apply(null,i))||(e.exports=n)}}]);