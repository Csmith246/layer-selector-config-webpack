(function(){(this||window).webpackJsonp.registerAbsMids({"esri/geometry/support/normalizeUtils":893,"esri/tasks/geometry/cut":1002,"esri/tasks/geometry/simplify":1003,"esri/tasks/operations/urlUtils":1037,"esri/tasks/operations/zscale":1047,"esri/tasks/operations/query":1070})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{1002:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(8),r(11),r(10),r(32),r(76),r(36),r(35)],void 0===(i=function(e,t,r,n,i,o,a,s,u){Object.defineProperty(t,"__esModule",{value:!0}),t.cut=function(e,t,l,f){return n(this,void 0,void 0,(function(){var n,c,p,y,g,h,v;return i(this,(function(i){switch(i.label){case 0:return n="string"==typeof e?s.urlToObject(e):e,c=t[0].spatialReference,p=r({},f,{query:r({},n.query,{f:"json",sr:JSON.stringify(c),target:JSON.stringify({geometryType:u.getJsonType(t[0]),geometries:t}),cutter:JSON.stringify(l)})}),[4,a(n.path+"/cut",p)];case 1:return y=i.sent(),g=y.data,h=g.cutIndexes,v=g.geometries,[2,{cutIndexes:h,geometries:(void 0===v?[]:v).map((function(e){return o.fromJSON(e).set(c)}))}]}}))}))}}.apply(null,n))||(e.exports=i)},1003:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(8),r(11),r(10),r(76),r(36),r(35)],void 0===(i=function(e,t,r,n,i,o,a,s){function u(e){return{geometryType:s.getJsonType(e[0]),geometries:e.map((function(e){return e.toJSON()}))}}function l(e,t,r){var n=s.getGeometryType(t);return e.map((function(e){var t=n.fromJSON(e);return t.spatialReference=r,t}))}Object.defineProperty(t,"__esModule",{value:!0}),t.simplify=function(e,t,f){return n(this,void 0,void 0,(function(){var n,c,p,y;return i(this,(function(i){switch(i.label){case 0:return n="string"==typeof e?a.urlToObject(e):e,c=t[0].spatialReference,p=s.getJsonType(t[0]),y=r({},f,{query:r({},n.query,{f:"json",sr:c.wkid?c.wkid:JSON.stringify(c),geometries:JSON.stringify(u(t))})}),[4,o(n.path+"/simplify",y)];case 1:return[2,l(i.sent().data,p,c)]}}))}))}}.apply(null,n))||(e.exports=i)},1037:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.mapParameters=function e(t){var r={};for(var n in t)if("declaredClass"!==n){var i=t[n];if(null!=i&&"function"!=typeof i)if(Array.isArray(i)){r[n]=[];for(var o=0;o<i.length;o++)r[n][o]=e(i[o])}else"object"==typeof i?i.toJSON&&(r[n]=JSON.stringify(i)):r[n]=i}return r}}.apply(null,n))||(e.exports=i)},1047:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(97),r(37)],void 0===(i=function(e,t,r,n){function i(e,t,i){if(!t||!i||i.vcsWkid||n.equals(t,i))return null;var o=r.getMetersPerVerticalUnitForSR(t)/r.getMetersPerVerticalUnitForSR(i);if(1===o)return null;switch(e){case"point":case"esriGeometryPoint":return function(e){return r=o,void((t=e)&&null!=t.z&&(t.z*=r));var t,r};case"polyline":case"esriGeometryPolyline":return function(e){return function(e,t){if(e)for(var r=0,n=e.paths;r<n.length;r++)for(var i=0,o=n[r];i<o.length;i++){var a=o[i];a.length>2&&(a[2]*=t)}}(e,o)};case"polygon":case"esriGeometryPolygon":return function(e){return function(e,t){if(e)for(var r=0,n=e.rings;r<n.length;r++)for(var i=0,o=n[r];i<o.length;i++){var a=o[i];a.length>2&&(a[2]*=t)}}(e,o)};case"multipoint":case"esriGeometryMultipoint":return function(e){return function(e,t){if(e)for(var r=0,n=e.points;r<n.length;r++){var i=n[r];i.length>2&&(i[2]*=t)}}(e,o)};default:return null}}function o(e,t,r){if(null==e.hasM||e.hasZ)for(var n=0,i=t;n<i.length;n++)for(var o=0,a=i[n];o<a.length;o++){var s=a[o];s.length>2&&(s[2]*=r)}}function a(e,t,r){if(e)for(var n=0,i=e;n<i.length;n++)s(i[n].geometry,t,r)}function s(e,t,i){if(e&&e.spatialReference&&!n.equals(e.spatialReference,t)){var a=r.getMetersPerVerticalUnitForSR(e.spatialReference)/i;if(1!==a)if("x"in e)null!=e.z&&(e.z*=a);else if("rings"in e)o(e,e.rings,a);else if("paths"in e)o(e,e.paths,a);else if("points"in e&&(null==e.hasM||e.hasZ))for(var s=0,u=e.points;s<u.length;s++){var l=u[s];l.length>2&&(l[2]*=a)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.getGeometryZScaler=i,t.applyFeatureSetZUnitScaling=function(e,t,r){if(r&&r.features&&r.hasZ){var n=i(r.geometryType,t,e.outSpatialReference);if(n)for(var o=0,a=r.features;o<a.length;o++)n(a[o].geometry)}},t.unapplyEditsZUnitScaling=function(e,t,n){if((e||t)&&n){var i=r.getMetersPerVerticalUnitForSR(n);a(e,n,i),a(t,n,i)}}}.apply(null,n))||(e.exports=i)},1070:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(8),r(10),r(11),r(76),r(15),r(36),r(35),r(893),r(1074),r(770),r(1037),r(1047),r(27)],void 0===(i=function(e,t,r,n,i,o,a,s,u,l,f,c,p,y){var g;function h(e,t){var r=e.geometry,n=e.toJSON(),i=n;if(r&&(i.geometry=JSON.stringify(r),i.geometryType=u.getJsonType(r),i.inSR=r.spatialReference.wkid||JSON.stringify(r.spatialReference)),n.groupByFieldsForStatistics&&(i.groupByFieldsForStatistics=n.groupByFieldsForStatistics.join(",")),n.objectIds&&(i.objectIds=n.objectIds.join(",")),n.orderByFields&&(i.orderByFields=n.orderByFields.join(",")),!n.outFields||t&&(t.returnCountOnly||t.returnExtentOnly||t.returnIdsOnly)?delete i.outFields:-1!==n.outFields.indexOf("*")?i.outFields="*":i.outFields=n.outFields.join(","),n.outSR?i.outSR=n.outSR.wkid||JSON.stringify(n.outSR):r&&(n.returnGeometry||n.returnCentroid)&&(i.outSR=i.inSR),n.returnGeometry&&delete n.returnGeometry,n.outStatistics&&(i.outStatistics=JSON.stringify(n.outStatistics)),n.pixelSize&&(i.pixelSize=JSON.stringify(n.pixelSize)),n.quantizationParameters&&(i.quantizationParameters=JSON.stringify(n.quantizationParameters)),n.source&&(i.layer=JSON.stringify({source:n.source}),delete n.source),n.timeExtent){var o=n.timeExtent,a=o.start,s=o.end;null==a&&null==s||(i.time=a===s?a:(null==a?"null":a)+","+(null==s?"null":s)),delete n.timeExtent}return i}function v(e,t,n,i,u){void 0===i&&(i={});var f="string"==typeof e?s.urlToObject(e):e,c=t.geometry?[t.geometry]:[];return i.responseType="pbf"===n?"array-buffer":"json",l.normalizeCentralMeridian(c,null,i).then((function(e){var s=e&&e[0];a.isSome(s)&&((t=t.clone()).geometry=s);var l=p.mapParameters(r({},f.query,{f:n},u,h(t,u)));return o(f.path+"/query",r({},i,{query:l}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.queryToQueryStringParameters=h,t.executeQuery=function(e,t,r,o){return i(this,void 0,void 0,(function(){var i;return n(this,(function(n){switch(n.label){case 0:return[4,v(e,t,"json",o)];case 1:return i=n.sent(),y.applyFeatureSetZUnitScaling(t,r,i.data),[2,i]}}))}))},t.executeQueryPBF=function(e,t,r,n){var i=r.useWorker?(null==g&&(g=new c.PBFWorker),g):null;return v(e,t,"pbf",n).then((function(e){var t=function(t){var r=e;return r.data=t,r};return r.useWorker?i.parseFeatureQuery(e.data,r).then((function(e){return t(e)})):t(f.parsePBFFeatureQuery(e.data,r))}))},t.executeQueryForIds=function(e,t,r){return v(e,t,"json",r,{returnIdsOnly:!0})},t.executeQueryForCount=function(e,t,r){return v(e,t,"json",r,{returnIdsOnly:!0,returnCountOnly:!0})},t.executeQueryForExtent=function(e,t,r){return v(e,t,"json",r,{returnExtentOnly:!0,returnCountOnly:!0}).then((function(e){var t=e.data;if(t.hasOwnProperty("extent"))return e;if(t.features)throw new Error("Layer does not support extent calculation.");if(t.hasOwnProperty("count"))throw new Error("Layer does not support extent calculation.");return e}))}}.apply(null,n))||(e.exports=i)},893:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(10),r(11),r(51),r(9),r(5),r(15),r(6),r(146),r(148),r(28),r(37),r(31),r(1002),r(1003)],void 0===(i=function(e,t,r,n,i,o,a,s,u,l,f,c,p,y,g,h){Object.defineProperty(t,"__esModule",{value:!0});var v=a.getLogger("esri.geometry.support.normalizeUtils"),d={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new f({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:c.WebMercator}),minus180Line:new f({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:c.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new f({paths:[[[180,-180],[180,180]]],spatialReference:c.WGS84}),minus180Line:new f({paths:[[[-180,-180],[-180,180]]],spatialReference:c.WGS84})}};function m(e){return"polygon"===e.type}function x(e){return m(e)?e.rings:e.paths}function S(e,t){return Math.ceil((e-t)/(2*t))}function w(e,t){for(var r=0,n=x(e);r<n.length;r++)for(var i=0,o=n[r];i<o.length;i++)o[i][0]+=t;return e}function O(e){for(var t=[],r=0,n=0,i=0;i<e.length;i++){for(var o=e[i],a=null,s=0;s<o.length;s++)a=o[s],t.push(a),0===s?n=r=a[0]:(r=Math.min(r,a[0]),n=Math.max(n,a[0]));a&&t.push([(r+n)/2,0])}return t}function b(e,t){if(!(e instanceof f||e instanceof l)){var r="straightLineDensify: the input geometry is neither polyline nor polygon";throw v.error(r),new o(r)}for(var n=[],i=0,a=x(e);i<a.length;i++){var s=a[i],u=[];n.push(u),u.push([s[0][0],s[0][1]]);for(var c=0;c<s.length-1;c++){var p=s[c][0],y=s[c][1],g=s[c+1][0],h=s[c+1][1],d=Math.sqrt((g-p)*(g-p)+(h-y)*(h-y)),S=(h-y)/d,w=(g-p)/d,O=d/t;if(O>1){for(var b=1;b<=O-1;b++){var R=b*t,M=w*R+p,j=S*R+y;u.push([M,j])}var F=(d+Math.floor(O-1)*t)/2,P=w*F+p,J=S*F+y;u.push([P,J])}u.push([g,h])}}return m(e)?new l({rings:n,spatialReference:e.spatialReference}):new f({paths:n,spatialReference:e.spatialReference})}function R(e,t,r){if(t){var n=b(e,1e6);e=y.webMercatorToGeographic(n,!0)}return r&&(e=w(e,r)),e}function M(e,t,r){var n;if(Array.isArray(e))if((n=e[0])>t){var i=S(n,t);e[0]=n+i*(-2*t)}else n<r&&(i=S(n,r),e[0]=n+i*(-2*r));else(n=e.x)>t?(i=S(n,t),e=e.clone().offset(i*(-2*t),0)):n<r&&(i=S(n,r),e=e.clone().offset(i*(-2*r),0));return e}t.straightLineDensify=b,t.normalizeCentralMeridian=function e(t,o,a){return n(this,void 0,void 0,(function(){var n,c,v,m,O,b,j,F,P,J,N,k,z,T,q,I,_,G,W,L,U,E,B,C,Q,A,X,Z,V,D,H,K,Y,$,ee,te,re;return r(this,(function(r){switch(r.label){case 0:if(!Array.isArray(t))return[2,e([t],o)];for(n=o?o.url:i.geometryServiceUrl,J=0,N=[],k=[],z=0,T=t;z<T.length;z++)q=T[z],s.isNone(q)?k.push(q):(c||(c=q.spatialReference,v=p.getInfo(c),m=c.isWebMercator,O=d[j=m?102100:4326].maxX,b=d[j].minX,F=d[j].plus180Line,P=d[j].minus180Line),v?"mesh"===q.type?k.push(q):"point"===q.type?k.push(M(q.clone(),O,b)):"multipoint"===q.type?((I=q.clone()).points=I.points.map((function(e){return M(e,O,b)})),k.push(I)):"extent"===q.type?(G=q.clone(),_=G._normalize(!1,!1,v),k.push(_.rings?new l(_):_)):q.extent?(G=q.extent,W=S(G.xmin,b),U=0==(L=W*(2*O))?q.clone():w(q.clone(),L),G.offset(L,0),G.intersects(F)&&G.xmax!==O?(J=G.xmax>J?G.xmax:J,U=R(U,m),N.push(U),k.push("cut")):G.intersects(P)&&G.xmin!==b?(J=G.xmax*(2*O)>J?G.xmax*(2*O):J,U=R(U,m,360),N.push(U),k.push("cut")):k.push(U)):k.push(q.clone()):k.push(q));for(E=S(J,O),B=-90,C=E,Q=new f;E>0;)A=360*E-180,Q.addPath([[A,B],[A,-1*B]]),B*=-1,E--;return N.length>0&&C>0?[4,g.cut(n,N,Q,a)]:[3,3];case 1:for(X=r.sent(),Z=function(e,t){for(var r=-1,n=function(n){for(var i=t.cutIndexes[n],o=t.geometries[n],a=x(o),s=function(e){var t=a[e];t.some((function(r){if(r[0]<180)return!0;for(var n=0,i=0;i<t.length;i++){var a=t[i][0];n=a>n?a:n}for(var s=-360*S(n=Number(n.toFixed(9)),180),u=0;u<t.length;u++){var l=o.getPoint(e,u);o.setPoint(e,u,l.clone().offset(s,0))}return!0}))},u=0;u<a.length;u++)s(u);if(i===r){if("polygon"===e[0].type)for(var l=0,f=x(o);l<f.length;l++){var c=f[l];e[i]=e[i].addRing(c)}else if(function(e){return"polyline"===e[0].type}(e))for(var p=0,y=x(o);p<y.length;p++){var g=y[p];e[i]=e[i].addPath(g)}}else r=i,e[i]=o},i=0;i<t.cutIndexes.length;i++)n(i);return e}(N,X),V=[],D=[],ee=0;ee<k.length;ee++)"cut"!==(te=k[ee])?D.push(te):(re=Z.shift(),H=t[ee],s.isSome(H)&&"polygon"===H.type&&H.rings&&H.rings.length>1&&re.rings.length>=H.rings.length?(V.push(re),D.push("simplify")):D.push(m?y.geographicToWebMercator(re):re));return V.length?[4,h.simplify(n,V,a)]:[2,D];case 2:for(K=r.sent(),Y=[],ee=0;ee<D.length;ee++)"simplify"!==(te=D[ee])?Y.push(te):Y.push(m?y.geographicToWebMercator(K.shift()):K.shift());return[2,Y];case 3:for($=[],ee=0;ee<k.length;ee++)"cut"!==(te=k[ee])?$.push(te):(re=N.shift(),$.push(!0===m?y.geographicToWebMercator(re):re));return[2,u.resolve($)]}}))}))},t.getDenormalizedExtent=function(e){var t;if(!e)return null;var r=e.extent;if(!r)return null;var n=e.spatialReference&&p.getInfo(e.spatialReference);if(!n)return r;var i,o=n.valid,a=o[0],s=o[1],u=2*s,l=r.width,f=r.xmin,c=r.xmax;if(f=(t=[c,f])[0],c=t[1],"extent"===e.type||0===l||l<=s||l>u||f<a||c>s)return r;switch(e.type){case"polygon":if(!(e.rings.length>1))return r;i=O(e.rings);break;case"polyline":if(!(e.paths.length>1))return r;i=O(e.paths);break;case"multipoint":i=e.points}for(var y=r.clone(),g=0;g<i.length;g++){var h=i[g][0];h<0?(h+=s,c=Math.max(h,c)):(h-=s,f=Math.min(h,f))}return y.xmin=f,y.xmax=c,y.width<l?(y.xmin-=s,y.xmax-=s,y):r},t.normalizeMapX=function(e,t){var r=p.getInfo(t);if(r){var n=r.valid,i=n[0],o=n[1],a=o-i;if(e<i)for(;e<i;)e+=a;if(e>o)for(;e>o;)e-=a}return e}}.apply(null,n))||(e.exports=i)}}]);