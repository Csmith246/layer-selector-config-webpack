(function(){(this||window).webpackJsonp.registerAbsMids({"esri/symbols/support/styleUtils":776,"esri/core/devEnvironmentUtils":1258,"esri/support/featureFlags":1259,"esri/symbols/support/StyleOrigin":1260})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{1258:function(e,t,r){var n,o;n=[r.dj.c(e.i),t,r(39)],void 0===(o=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.isDevEnvironment=function(e){return e=e||r.location.hostname,i.some((function(t){return null!=e.match(t)}))},t.adjustStaticAGOUrl=function(e,t){return e?null!=(t=t||r.location.hostname).match(n)||null!=t.match(l)?e.replace("static.arcgis.com","staticdev.arcgis.com"):null!=t.match(o)||null!=t.match(a)?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e},t.isTelemetryDevEnvironment=function(e){return e=e||r.location.hostname,[/^zrh-.+?\.esri\.com$/].concat(i).some((function(t){return null!=e.match(t)}))};var n=/^devext.arcgis.com$/,o=/^qaext.arcgis.com$/,l=/^[\w-]*\.mapsdevext.arcgis.com$/,a=/^[\w-]*\.mapsqa.arcgis.com$/,i=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,n,o,/^jsapps.esri.com$/,l,a]}.apply(null,n))||(e.exports=o)},1259:function(e,t,r){var n,o;n=[r.dj.c(e.i),t,r(13)],void 0===(o=function(e,t,r){function n(e,t){return!!r("enable-feature:"+e+"/"+t)}Object.defineProperty(t,"__esModule",{value:!0}),t.hasEnableFeature=n,t.enableWebStyleForceWOSR=function(){return n("jschmid","force-wosr")}}.apply(null,n))||(e.exports=o)},1260:function(e,t,r){var n,o;n=[r.dj.c(e.i),t,r(1),r(0),r(7),r(2),r(63)],void 0===(o=function(e,t,r,n,o,l,a){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.portal=null,t}var o;return r(t,e),o=t,t.prototype.clone=function(){return new o({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})},n([l.property({type:String})],t.prototype,"name",void 0),n([l.property({type:String})],t.prototype,"styleUrl",void 0),n([l.property({type:String})],t.prototype,"styleName",void 0),n([l.property({type:a})],t.prototype,"portal",void 0),o=n([l.subclass("esri.symbols.support.StyleOrigin")],t)}(l.declared(o))}.apply(null,n))||(e.exports=o)},776:function(e,t,r){var n,o;n=[r.dj.c(e.i),t,r(8),r(76),r(142),r(1258),r(9),r(6),r(36),r(63),r(170),r(1259),r(143),r(1260),r(287)],void 0===(o=function(e,t,r,n,o,l,a,i,s,u,c,m,y,f,p){Object.defineProperty(t,"__esModule",{value:!0});var d={};function v(e,t,r){return e.styleUrl?function(e,t){return g(e,t).then((function(t){return{data:t.data,baseUrl:s.removeFile(e),styleUrl:e}}))}(e.styleUrl,r):e.styleName?function(e,t,r){var n,o=t.portal||u.getDefault(),l=o.url+" - "+(o.user&&o.user.username)+" - "+e;return d[l]||(d[l]=function(e,t,r){return t.load(r).then((function(){var n=new c({disableExtraQuery:!0,query:"owner:"+w+" AND type:"+S+' AND typekeywords:"'+e+'"'});return t.queryItems(n,r)})).then((function(t){var n=t.results,o=null,l=e.toLowerCase();if(n&&Array.isArray(n))for(var i=0,s=n;i<s.length;i++){var u=s[i];if(u.typeKeywords.some((function(e){return e.toLowerCase()===l}))&&u.type===S&&u.owner===w){o=u;break}}if(!o)throw new a("symbolstyleutils:style-not-found","The style '"+e+"' could not be found",{styleName:e});return o.load(r)}))}(e,o,r).then((function(e){return n=e,e.fetchData()})).then((function(t){return{data:t,baseUrl:n.itemUrl,styleName:e}}))),d[l]}(e.styleName,t,r):i.reject(new a("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function b(e,t,r,n,u){for(var c=e.data,d={portal:r.portal,url:s.urlToObject(e.baseUrl),origin:"portal-item"},v=function(a){if(a.name!==t)return"continue";var i=s.fromJSON(function(e,t){if("cimRef"===t)return e.cimRef;if(e.formatInfos&&!m.enableWebStyleForceWOSR())for(var r=0,n=e.formatInfos;r<n.length;r++){var o=n[r];if("gltf"===o.type)return o.href}return e.webRef}(a,n),d),c=a.thumbnail&&a.thumbnail.href,v=a.thumbnail&&a.thumbnail.imageData;l.isDevEnvironment()&&(i=l.adjustStaticAGOUrl(i),c=l.adjustStaticAGOUrl(c));var b={portal:r.portal,url:s.urlToObject(s.removeFile(i)),origin:"portal-item"};return{value:g(i,u).then((function(l){var a="cimRef"===n?h(l.data):l.data,i=y.fromJSON(a,b);if(i&&o.isSymbol3D(i)){if(c){var u=s.fromJSON(c,d);i.thumbnail=new p.default({url:u})}else v&&(i.thumbnail=new p.default({url:"data:image/png;base64,"+v}));e.styleUrl?i.styleOrigin=new f({portal:r.portal,styleUrl:e.styleUrl,name:t}):e.styleName&&(i.styleOrigin=new f({portal:r.portal,styleName:e.styleName,name:t}))}return i}))}},b=0,w=c.items;b<w.length;b++){var S=v(w[b]);if("object"==typeof S)return S.value}return i.reject(new a("symbolstyleutils:symbol-name-not-found","The symbol name '"+t+"' could not be found",{symbolName:t}))}function h(e){return null===e||"CIMSymbolReference"===e.type?e:{type:"CIMSymbolReference",symbol:e}}function g(e,t){var o=r({responseType:"json",query:{f:"json"}},t);return n(s.normalize(e),o)}t.fetchStyle=v,t.resolveWebStyleSymbol=function(e,t,r,n){return e.name?e.styleName&&"Esri2DPointSymbolsStyle"===e.styleName?function(e,t,r){var n=j.replace(/\{SymbolName\}/gi,e.name);return g(n,r).then((function(e){var r=h(e.data);return y.fromJSON(r,{portal:t.portal,url:s.urlToObject(s.removeFile(n)),origin:"portal-item"})}))}(e,t,n):v(e,t,n).then((function(o){return b(o,e.name,t,r,n)})):i.reject(new a("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))},t.fetchSymbolFromStyle=b,t.styleNameFromItem=function(e){for(var t=0,r=e.typeKeywords;t<r.length;t++){var n=r[t];if(/^Esri.*Style$/.test(n)&&"Esri Style"!==n)return n}};var w="esri_en",S="Style",j="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"}.apply(null,n))||(e.exports=o)}}]);